var MM=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var eK=MM((mK,M0)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var OM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DM(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Sg={exports:{}},Nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function zM(){if(m1)return Nc;m1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:e,type:r,key:l,ref:s!==void 0?s:null,props:a}}return Nc.Fragment=t,Nc.jsx=n,Nc.jsxs=n,Nc}var g1;function RM(){return g1||(g1=1,Sg.exports=zM()),Sg.exports}var p=RM(),Ng={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function PM(){if(y1)return ht;y1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(Z){return Z===null||typeof Z!="object"?null:(Z=y&&Z[y]||Z["@@iterator"],typeof Z=="function"?Z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,T={};function _(Z,J,F){this.props=Z,this.context=J,this.refs=T,this.updater=F||C}_.prototype.isReactComponent={},_.prototype.setState=function(Z,J){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,J,"setState")},_.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function A(){}A.prototype=_.prototype;function k(Z,J,F){this.props=Z,this.context=J,this.refs=T,this.updater=F||C}var O=k.prototype=new A;O.constructor=k,N(O,_.prototype),O.isPureReactComponent=!0;var R=Array.isArray;function z(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function H(Z,J,F){var ge=F.ref;return{$$typeof:e,type:Z,key:J,ref:ge!==void 0?ge:null,props:F}}function te(Z,J){return H(Z.type,J,Z.props)}function ee(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===e}function X(Z){var J={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(F){return J[F]})}var ae=/\/+/g;function q(Z,J){return typeof Z=="object"&&Z!==null&&Z.key!=null?X(""+Z.key):J.toString(36)}function Q(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(z,z):(Z.status="pending",Z.then(function(J){Z.status==="pending"&&(Z.status="fulfilled",Z.value=J)},function(J){Z.status==="pending"&&(Z.status="rejected",Z.reason=J)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function $(Z,J,F,ge,Oe){var Ee=typeof Z;(Ee==="undefined"||Ee==="boolean")&&(Z=null);var Te=!1;if(Z===null)Te=!0;else switch(Ee){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(Z.$$typeof){case e:case t:Te=!0;break;case m:return Te=Z._init,$(Te(Z._payload),J,F,ge,Oe)}}if(Te)return Oe=Oe(Z),Te=ge===""?"."+q(Z,0):ge,R(Oe)?(F="",Te!=null&&(F=Te.replace(ae,"$&/")+"/"),$(Oe,J,F,"",function(We){return We})):Oe!=null&&(ee(Oe)&&(Oe=te(Oe,F+(Oe.key==null||Z&&Z.key===Oe.key?"":(""+Oe.key).replace(ae,"$&/")+"/")+Te)),J.push(Oe)),1;Te=0;var je=ge===""?".":ge+":";if(R(Z))for(var Se=0;Se<Z.length;Se++)ge=Z[Se],Ee=je+q(ge,Se),Te+=$(ge,J,F,Ee,Oe);else if(Se=b(Z),typeof Se=="function")for(Z=Se.call(Z),Se=0;!(ge=Z.next()).done;)ge=ge.value,Ee=je+q(ge,Se++),Te+=$(ge,J,F,Ee,Oe);else if(Ee==="object"){if(typeof Z.then=="function")return $(Q(Z),J,F,ge,Oe);throw J=String(Z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Y(Z,J,F){if(Z==null)return Z;var ge=[],Oe=0;return $(Z,ge,"","",function(Ee){return J.call(F,Ee,Oe++)}),ge}function K(Z){if(Z._status===-1){var J=Z._result;J=J(),J.then(function(F){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=F)},function(F){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=F)}),Z._status===-1&&(Z._status=0,Z._result=J)}if(Z._status===1)return Z._result.default;throw Z._result}var ue=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},B={map:Y,forEach:function(Z,J,F){Y(Z,function(){J.apply(this,arguments)},F)},count:function(Z){var J=0;return Y(Z,function(){J++}),J},toArray:function(Z){return Y(Z,function(J){return J})||[]},only:function(Z){if(!ee(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return ht.Activity=g,ht.Children=B,ht.Component=_,ht.Fragment=n,ht.Profiler=s,ht.PureComponent=k,ht.StrictMode=r,ht.Suspense=f,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ht.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return D.H.useMemoCache(Z)}},ht.cache=function(Z){return function(){return Z.apply(null,arguments)}},ht.cacheSignal=function(){return null},ht.cloneElement=function(Z,J,F){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var ge=N({},Z.props),Oe=Z.key;if(J!=null)for(Ee in J.key!==void 0&&(Oe=""+J.key),J)!I.call(J,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&J.ref===void 0||(ge[Ee]=J[Ee]);var Ee=arguments.length-2;if(Ee===1)ge.children=F;else if(1<Ee){for(var Te=Array(Ee),je=0;je<Ee;je++)Te[je]=arguments[je+2];ge.children=Te}return H(Z.type,Oe,ge)},ht.createContext=function(Z){return Z={$$typeof:l,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:a,_context:Z},Z},ht.createElement=function(Z,J,F){var ge,Oe={},Ee=null;if(J!=null)for(ge in J.key!==void 0&&(Ee=""+J.key),J)I.call(J,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Oe[ge]=J[ge]);var Te=arguments.length-2;if(Te===1)Oe.children=F;else if(1<Te){for(var je=Array(Te),Se=0;Se<Te;Se++)je[Se]=arguments[Se+2];Oe.children=je}if(Z&&Z.defaultProps)for(ge in Te=Z.defaultProps,Te)Oe[ge]===void 0&&(Oe[ge]=Te[ge]);return H(Z,Ee,Oe)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(Z){return{$$typeof:c,render:Z}},ht.isValidElement=ee,ht.lazy=function(Z){return{$$typeof:m,_payload:{_status:-1,_result:Z},_init:K}},ht.memo=function(Z,J){return{$$typeof:h,type:Z,compare:J===void 0?null:J}},ht.startTransition=function(Z){var J=D.T,F={};D.T=F;try{var ge=Z(),Oe=D.S;Oe!==null&&Oe(F,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(z,ue)}catch(Ee){ue(Ee)}finally{J!==null&&F.types!==null&&(J.types=F.types),D.T=J}},ht.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ht.use=function(Z){return D.H.use(Z)},ht.useActionState=function(Z,J,F){return D.H.useActionState(Z,J,F)},ht.useCallback=function(Z,J){return D.H.useCallback(Z,J)},ht.useContext=function(Z){return D.H.useContext(Z)},ht.useDebugValue=function(){},ht.useDeferredValue=function(Z,J){return D.H.useDeferredValue(Z,J)},ht.useEffect=function(Z,J){return D.H.useEffect(Z,J)},ht.useEffectEvent=function(Z){return D.H.useEffectEvent(Z)},ht.useId=function(){return D.H.useId()},ht.useImperativeHandle=function(Z,J,F){return D.H.useImperativeHandle(Z,J,F)},ht.useInsertionEffect=function(Z,J){return D.H.useInsertionEffect(Z,J)},ht.useLayoutEffect=function(Z,J){return D.H.useLayoutEffect(Z,J)},ht.useMemo=function(Z,J){return D.H.useMemo(Z,J)},ht.useOptimistic=function(Z,J){return D.H.useOptimistic(Z,J)},ht.useReducer=function(Z,J,F){return D.H.useReducer(Z,J,F)},ht.useRef=function(Z){return D.H.useRef(Z)},ht.useState=function(Z){return D.H.useState(Z)},ht.useSyncExternalStore=function(Z,J,F){return D.H.useSyncExternalStore(Z,J,F)},ht.useTransition=function(){return D.H.useTransition()},ht.version="19.2.0",ht}var x1;function Ba(){return x1||(x1=1,Ng.exports=PM()),Ng.exports}var U=Ba();const to=yu(U);var _g={exports:{}},_c={},Eg={exports:{}},Cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function IM(){return v1||(v1=1,(function(e){function t($,Y){var K=$.length;$.push(Y);e:for(;0<K;){var ue=K-1>>>1,B=$[ue];if(0<s(B,Y))$[ue]=Y,$[K]=B,K=ue;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Y=$[0],K=$.pop();if(K!==Y){$[0]=K;e:for(var ue=0,B=$.length,Z=B>>>1;ue<Z;){var J=2*(ue+1)-1,F=$[J],ge=J+1,Oe=$[ge];if(0>s(F,K))ge<B&&0>s(Oe,F)?($[ue]=Oe,$[ge]=K,ue=ge):($[ue]=F,$[J]=K,ue=J);else if(ge<B&&0>s(Oe,K))$[ue]=Oe,$[ge]=K,ue=ge;else break e}}return Y}function s($,Y){var K=$.sortIndex-Y.sortIndex;return K!==0?K:$.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var f=[],h=[],m=1,g=null,y=3,b=!1,C=!1,N=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function O($){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=$)r(h),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(h)}}function R($){if(N=!1,O($),!C)if(n(f)!==null)C=!0,z||(z=!0,X());else{var Y=n(h);Y!==null&&Q(R,Y.startTime-$)}}var z=!1,D=-1,I=5,H=-1;function te(){return T?!0:!(e.unstable_now()-H<I)}function ee(){if(T=!1,z){var $=e.unstable_now();H=$;var Y=!0;try{e:{C=!1,N&&(N=!1,A(D),D=-1),b=!0;var K=y;try{t:{for(O($),g=n(f);g!==null&&!(g.expirationTime>$&&te());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,y=g.priorityLevel;var B=ue(g.expirationTime<=$);if($=e.unstable_now(),typeof B=="function"){g.callback=B,O($),Y=!0;break t}g===n(f)&&r(f),O($)}else r(f);g=n(f)}if(g!==null)Y=!0;else{var Z=n(h);Z!==null&&Q(R,Z.startTime-$),Y=!1}}break e}finally{g=null,y=K,b=!1}Y=void 0}}finally{Y?X():z=!1}}}var X;if(typeof k=="function")X=function(){k(ee)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,q=ae.port2;ae.port1.onmessage=ee,X=function(){q.postMessage(null)}}else X=function(){_(ee,0)};function Q($,Y){D=_(function(){$(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function($){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var K=y;y=Y;try{return $()}finally{y=K}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=y;y=$;try{return Y()}finally{y=K}},e.unstable_scheduleCallback=function($,Y,K){var ue=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,$={id:m++,callback:Y,priorityLevel:$,startTime:K,expirationTime:B,sortIndex:-1},K>ue?($.sortIndex=K,t(h,$),n(f)===null&&$===n(h)&&(N?(A(D),D=-1):N=!0,Q(R,K-ue))):($.sortIndex=B,t(f,$),C||b||(C=!0,z||(z=!0,X()))),$},e.unstable_shouldYield=te,e.unstable_wrapCallback=function($){var Y=y;return function(){var K=y;y=Y;try{return $.apply(this,arguments)}finally{y=K}}}})(Cg)),Cg}var b1;function LM(){return b1||(b1=1,Eg.exports=IM()),Eg.exports}var Tg={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1;function FM(){if(w1)return lr;w1=1;var e=Ba();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return a(f,h,null,m)},lr.flushSync=function(f){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=m,r.d.f()}},lr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},lr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},lr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},lr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},lr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},lr.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},lr.requestFormReset=function(f){r.d.r(f)},lr.unstable_batchedUpdates=function(f,h){return f(h)},lr.useFormState=function(f,h,m){return l.H.useFormState(f,h,m)},lr.useFormStatus=function(){return l.H.useHostTransitionStatus()},lr.version="19.2.0",lr}var S1;function op(){if(S1)return Tg.exports;S1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tg.exports=FM(),Tg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function BM(){if(N1)return _c;N1=1;var e=LM(),t=Ba(),n=op();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(a(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,d=o;;){var v=u.return;if(v===null)break;var S=v.alternate;if(S===null){if(d=v.return,d!==null){u=d;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===u)return f(v),i;if(S===d)return f(v),o;S=S.sibling}throw Error(r(188))}if(u.return!==d.return)u=v,d=S;else{for(var M=!1,V=v.child;V;){if(V===u){M=!0,u=v,d=S;break}if(V===d){M=!0,d=v,u=S;break}V=V.sibling}if(!M){for(V=S.child;V;){if(V===u){M=!0,u=S,d=v;break}if(V===d){M=!0,d=S,u=v;break}V=V.sibling}if(!M)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Symbol.for("react.client.reference");function q(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case _:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case z:return"SuspenseList";case H:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case k:return i.displayName||"Context";case A:return(i._context.displayName||"Context")+".Consumer";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return o=i.displayName||null,o!==null?o:q(i.type)||"Memo";case I:o=i._payload,i=i._init;try{return q(i(o))}catch{}}return null}var Q=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ue=[],B=-1;function Z(i){return{current:i}}function J(i){0>B||(i.current=ue[B],ue[B]=null,B--)}function F(i,o){B++,ue[B]=i.current,i.current=o}var ge=Z(null),Oe=Z(null),Ee=Z(null),Te=Z(null);function je(i,o){switch(F(Ee,o),F(Oe,i),F(ge,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Lw(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Lw(o),i=Fw(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(ge),F(ge,i)}function Se(){J(ge),J(Oe),J(Ee)}function We(i){i.memoizedState!==null&&F(Te,i);var o=ge.current,u=Fw(o,i.type);o!==u&&(F(Oe,i),F(ge,u))}function et(i){Oe.current===i&&(J(ge),J(Oe)),Te.current===i&&(J(Te),vc._currentValue=K)}var $e,ot;function at(i){if($e===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$e=o&&o[1]||"",ot=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+i+ot}var vt=!1;function Ut(i,o){if(!i||vt)return"";vt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Ne){var we=Ne}Reflect.construct(i,[],ze)}else{try{ze.call()}catch(Ne){we=Ne}i.call(ze.prototype)}}else{try{throw Error()}catch(Ne){we=Ne}(ze=i())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Ne){if(Ne&&we&&typeof Ne.stack=="string")return[Ne.stack,we.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=d.DetermineComponentFrameRoot(),M=S[0],V=S[1];if(M&&V){var ne=M.split(`
`),ve=V.split(`
`);for(v=d=0;d<ne.length&&!ne[d].includes("DetermineComponentFrameRoot");)d++;for(;v<ve.length&&!ve[v].includes("DetermineComponentFrameRoot");)v++;if(d===ne.length||v===ve.length)for(d=ne.length-1,v=ve.length-1;1<=d&&0<=v&&ne[d]!==ve[v];)v--;for(;1<=d&&0<=v;d--,v--)if(ne[d]!==ve[v]){if(d!==1||v!==1)do if(d--,v--,0>v||ne[d]!==ve[v]){var ke=`
`+ne[d].replace(" at new "," at ");return i.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",i.displayName)),ke}while(1<=d&&0<=v);break}}}finally{vt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?at(u):""}function ln(i,o){switch(i.tag){case 26:case 27:case 5:return at(i.type);case 16:return at("Lazy");case 13:return i.child!==o&&o!==null?at("Suspense Fallback"):at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return Ut(i.type,!1);case 11:return Ut(i.type.render,!1);case 1:return Ut(i.type,!0);case 31:return at("Activity");default:return""}}function Lr(i){try{var o="",u=null;do o+=ln(i,u),u=i,i=i.return;while(i);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Fr=Object.prototype.hasOwnProperty,dr=e.unstable_scheduleCallback,Nn=e.unstable_cancelCallback,ti=e.unstable_shouldYield,fr=e.unstable_requestPaint,gn=e.unstable_now,vr=e.unstable_getCurrentPriorityLevel,_e=e.unstable_ImmediatePriority,Re=e.unstable_UserBlockingPriority,tt=e.unstable_NormalPriority,ft=e.unstable_LowPriority,wt=e.unstable_IdlePriority,jn=e.log,Vn=e.unstable_setDisableYieldValue,yn=null,Gt=null;function Kt(i){if(typeof jn=="function"&&Vn(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(yn,i)}catch{}}var Be=Math.clz32?Math.clz32:Qo,ir=Math.log,_n=Math.LN2;function Qo(i){return i>>>=0,i===0?32:31-(ir(i)/_n|0)|0}var Ue=256,Bi=262144,fo=4194304;function Br(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ho(i,o,u){var d=i.pendingLanes;if(d===0)return 0;var v=0,S=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var V=d&134217727;return V!==0?(d=V&~S,d!==0?v=Br(d):(M&=V,M!==0?v=Br(M):u||(u=V&~i,u!==0&&(v=Br(u))))):(V=d&~S,V!==0?v=Br(V):M!==0?v=Br(M):u||(u=d&~i,u!==0&&(v=Br(u)))),v===0?0:o!==0&&o!==v&&(o&S)===0&&(S=v&-v,u=o&-o,S>=u||S===32&&(u&4194048)!==0)?o:v}function ni(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Cu(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ua(){var i=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),i}function ri(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function br(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ws(i,o,u,d,v,S){var M=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var V=i.entanglements,ne=i.expirationTimes,ve=i.hiddenUpdates;for(u=M&~u;0<u;){var ke=31-Be(u),ze=1<<ke;V[ke]=0,ne[ke]=-1;var we=ve[ke];if(we!==null)for(ve[ke]=null,ke=0;ke<we.length;ke++){var Ne=we[ke];Ne!==null&&(Ne.lane&=-536870913)}u&=~ze}d!==0&&po(i,d,0),S!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=S&~(M&~o))}function po(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var d=31-Be(o);i.entangledLanes|=o,i.entanglements[d]=i.entanglements[d]|1073741824|u&261930}function Rt(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-Be(u),v=1<<d;v&o|i[d]&o&&(i[d]|=o),u&=~v}}function un(i,o){var u=o&-o;return u=(u&42)!==0?1:Js(u),(u&(i.suspendedLanes|o))!==0?0:u}function Js(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Vi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function mo(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:l1(i.type))}function go(i,o){var u=Y.p;try{return Y.p=i,o()}finally{Y.p=u}}var ii=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ii,cn="__reactProps$"+ii,Zn="__reactContainer$"+ii,Ci="__reactEvents$"+ii,qa="__reactListeners$"+ii,oi="__reactHandles$"+ii,Qs="__reactResources$"+ii,hr="__reactMarker$"+ii;function es(i){delete i[Lt],delete i[cn],delete i[Ci],delete i[qa],delete i[oi]}function si(i){var o=i[Lt];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Zn]||u[Lt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Zw(i);i!==null;){if(u=i[Lt])return u;i=Zw(i)}return o}i=u,u=i.parentNode}return null}function zt(i){if(i=i[Lt]||i[Zn]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function or(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Yn(i){var o=i[Qs];return o||(o=i[Qs]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function dn(i){i[hr]=!0}var Ti=new Set,yo={};function Vr(i,o){ai(i,o),ai(i+"Capture",o)}function ai(i,o){for(yo[i]=o,i=0;i<o.length;i++)Ti.add(o[i])}var ki=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ts={},xo={};function Za(i){return Fr.call(xo,i)?!0:Fr.call(ts,i)?!1:ki.test(i)?xo[i]=!0:(ts[i]=!0,!1)}function pt(i,o,u){if(Za(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function vo(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function wr(i,o,u,d){if(d===null)i.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+d)}}function $n(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $i(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ya(i,o,u){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,S=d.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(M){u=""+M,S.call(this,M)}}),Object.defineProperty(i,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(M){u=""+M},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function bo(i){if(!i._valueTracker){var o=$i(i)?"checked":"value";i._valueTracker=Ya(i,o,""+i[o])}}function ea(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=$i(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function jt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var wo=/[\n"\\]/g;function xn(i){return i.replace(wo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function li(i,o,u,d,v,S,M,V){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),o!=null?M==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+$n(o)):i.value!==""+$n(o)&&(i.value=""+$n(o)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),o!=null?Hi(i,M,$n(o)):u!=null?Hi(i,M,$n(u)):d!=null&&i.removeAttribute("value"),v==null&&S!=null&&(i.defaultChecked=!!S),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?i.name=""+$n(V):i.removeAttribute("name")}function ns(i,o,u,d,v,S,M,V){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),o!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){bo(i);return}u=u!=null?""+$n(u):"",o=o!=null?""+$n(o):u,V||o===i.value||(i.value=o),i.defaultValue=o}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=V?i.checked:!!d,i.defaultChecked=!!d,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M),bo(i)}function Hi(i,o,u){o==="number"&&jt(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ji(i,o,u,d){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&d&&(i[u].defaultSelected=!0)}else{for(u=""+$n(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,d&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function Tu(i,o,u){if(o!=null&&(o=""+$n(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+$n(u):""}function ta(i,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(Q(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=$n(o),i.defaultValue=u,d=i.textContent,d===u&&d!==""&&d!==null&&(i.value=d),bo(i)}function So(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Mp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(i,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":d?i.setProperty(o,u):typeof u!="number"||u===0||Mp.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function ku(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var v in o)d=o[v],o.hasOwnProperty(v)&&u[v]!==d&&Ct(i,v,d)}else for(var S in o)o.hasOwnProperty(S)&&Ct(i,S,o[S])}function ju(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Op=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ai(i){return pr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Sr(){}var ui=null;function Ga(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var No=null,Xt=null;function $r(i){var o=zt(i);if(o&&(i=o.stateNode)){var u=i[cn]||null;e:switch(i=o.stateNode,o.type){case"input":if(li(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+xn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var v=d[cn]||null;if(!v)throw Error(r(90));li(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===i.form&&ea(d)}break e;case"textarea":Tu(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ji(i,!!u.multiple,o,!1)}}}var _o=!1;function rs(i,o,u){if(_o)return i(o,u);_o=!0;try{var d=i(o);return d}finally{if(_o=!1,(No!==null||Xt!==null)&&(_f(),No&&(o=No,i=Xt,Xt=No=null,$r(o),i)))for(o=0;o<i.length;o++)$r(i[o])}}function Eo(i,o){var u=i.stateNode;if(u===null)return null;var d=u[cn]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=!1;if(Gn)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Au=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Au=!1}var ci=null,Ka=null,is=null;function os(){if(is)return is;var i,o=Ka,u=o.length,d,v="value"in ci?ci.value:ci.textContent,S=v.length;for(i=0;i<u&&o[i]===v[i];i++);var M=u-i;for(d=1;d<=M&&o[u-d]===v[S-d];d++);return is=v.slice(i,1<d?1-d:void 0)}function ss(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function na(){return!0}function Rd(){return!1}function An(i){function o(u,d,v,S,M){this._reactName=u,this._targetInst=v,this.type=d,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(u=i[V],this[V]=u?u(S):S[V]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?na:Rd,this.isPropagationStopped=Rd,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),o}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=An(Co),Ui=g({},Co,{view:0,detail:0}),Wa=An(Ui),ra,Mu,ia,Ja=g({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ia&&(ia&&i.type==="mousemove"?(ra=i.screenX-ia.screenX,Mu=i.screenY-ia.screenY):Mu=ra=0,ia=i),ra)},movementY:function(i){return"movementY"in i?i.movementY:Mu}}),Qa=An(Ja),Ou=g({},Ja,{dataTransfer:0}),Pd=An(Ou),el=g({},Ui,{relatedTarget:0}),as=An(el),tl=g({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),Id=An(tl),Dp=g({},Co,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ls=An(Dp),Du=g({},Co,{data:0}),nl=An(Du),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oa(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Kn[i])?!!o[i]:!1}function To(){return oa}var Ld=g({},Ui,{key:function(i){if(i.key){var o=zu[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ss(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ru[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(i){return i.type==="keypress"?ss(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ss(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),rl=An(Ld),Fd=g({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=An(Fd),il=g({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),Iu=An(il),ko=g({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=An(ko),Fu=g({},Ja,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ol=An(Fu),Bu=g({},Co,{newState:0,oldState:0}),Bd=An(Bu),zp=[9,13,27,32],sa=Gn&&"CompositionEvent"in window,qi=null;Gn&&"documentMode"in document&&(qi=document.documentMode);var Rp=Gn&&"TextEvent"in window&&!qi,sl=Gn&&(!sa||qi&&8<qi&&11>=qi),al=" ",Vd=!1;function Vu(i,o){switch(i){case"keyup":return zp.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var jo=!1;function Hd(i,o){switch(i){case"compositionend":return $d(o);case"keypress":return o.which!==32?null:(Vd=!0,al);case"textInput":return i=o.data,i===al&&Vd?null:i;default:return null}}function Pp(i,o){if(jo)return i==="compositionend"||!sa&&Vu(i,o)?(i=os(),is=Ka=ci=null,jo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sl&&o.locale!=="ko"?null:o.data;default:return null}}var Ud={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ll(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Ud[i.type]:o==="textarea"}function $u(i,o,u,d){No?Xt?Xt.push(d):Xt=[d]:No=d,o=Mf(o,"onChange"),0<o.length&&(u=new Xa("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var us=null,aa=null;function Ip(i){Ow(i,0)}function ul(i){var o=or(i);if(ea(o))return i}function la(i,o){if(i==="change")return o}var di=!1;if(Gn){var Wt;if(Gn){var cs="oninput"in document;if(!cs){var mr=document.createElement("div");mr.setAttribute("oninput","return;"),cs=typeof mr.oninput=="function"}Wt=cs}else Wt=!1;di=Wt&&(!document.documentMode||9<document.documentMode)}function qd(){us&&(us.detachEvent("onpropertychange",cl),aa=us=null)}function cl(i){if(i.propertyName==="value"&&ul(aa)){var o=[];$u(o,aa,i,Ga(i)),rs(Ip,o)}}function Zd(i,o,u){i==="focusin"?(qd(),us=o,aa=u,us.attachEvent("onpropertychange",cl)):i==="focusout"&&qd()}function Ao(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ul(aa)}function Hu(i,o){if(i==="click")return ul(o)}function ds(i,o){if(i==="input"||i==="change")return ul(o)}function Zi(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ar=typeof Object.is=="function"?Object.is:Zi;function x(i,o){if(ar(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var v=u[d];if(!Fr.call(o,v)||!ar(i[v],o[v]))return!1}return!0}function w(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function E(i,o){var u=w(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=w(u)}}function j(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?j(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function P(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=jt(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=jt(i.document)}return o}function L(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var G=Gn&&"documentMode"in document&&11>=document.documentMode,W=null,ie=null,oe=null,fe=!1;function re(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fe||W==null||W!==jt(d)||(d=W,"selectionStart"in d&&L(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),oe&&x(oe,d)||(oe=d,d=Mf(ie,"onSelect"),0<d.length&&(o=new Xa("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=W)))}function pe(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var se={animationend:pe("Animation","AnimationEnd"),animationiteration:pe("Animation","AnimationIteration"),animationstart:pe("Animation","AnimationStart"),transitionrun:pe("Transition","TransitionRun"),transitionstart:pe("Transition","TransitionStart"),transitioncancel:pe("Transition","TransitionCancel"),transitionend:pe("Transition","TransitionEnd")},ce={},de={};Gn&&(de=document.createElement("div").style,"AnimationEvent"in window||(delete se.animationend.animation,delete se.animationiteration.animation,delete se.animationstart.animation),"TransitionEvent"in window||delete se.transitionend.transition);function he(i){if(ce[i])return ce[i];if(!se[i])return i;var o=se[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in de)return ce[i]=o[u];return i}var ye=he("animationend"),be=he("animationiteration"),Ce=he("animationstart"),De=he("transitionrun"),Fe=he("transitionstart"),qe=he("transitioncancel"),Pe=he("transitionend"),Ve=new Map,He="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");He.push("scrollEnd");function Ie(i,o){Ve.set(i,o),Vr(o,[i])}var Ye=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},nt=[],ct=0,mt=0;function Xn(){for(var i=ct,o=mt=ct=0;o<i;){var u=nt[o];nt[o++]=null;var d=nt[o];nt[o++]=null;var v=nt[o];nt[o++]=null;var S=nt[o];if(nt[o++]=null,d!==null&&v!==null){var M=d.pending;M===null?v.next=v:(v.next=M.next,M.next=v),d.pending=v}S!==0&&ua(u,v,S)}}function lt(i,o,u,d){nt[ct++]=i,nt[ct++]=o,nt[ct++]=u,nt[ct++]=d,mt|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Mn(i,o,u,d){return lt(i,o,u,d),On(i)}function nn(i,o){return lt(i,null,null,o),On(i)}function ua(i,o,u){i.lanes|=u;var d=i.alternate;d!==null&&(d.lanes|=u);for(var v=!1,S=i.return;S!==null;)S.childLanes|=u,d=S.alternate,d!==null&&(d.childLanes|=u),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(v=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,v&&o!==null&&(v=31-Be(u),i=S.hiddenUpdates,d=i[v],d===null?i[v]=[o]:d.push(o),o.lane=u|536870912),S):null}function On(i){if(50<fc)throw fc=0,Zm=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Nr={};function Uu(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(i,o,u,d){return new Uu(i,o,u,d)}function Lp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Mo(i,o){var u=i.alternate;return u===null?(u=Hr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function pv(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Yd(i,o,u,d,v,S){var M=0;if(d=i,typeof i=="function")Lp(i)&&(M=1);else if(typeof i=="string")M=vM(i,u,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case H:return i=Hr(31,u,o,v),i.elementType=H,i.lanes=S,i;case N:return ca(u.children,v,S,o);case T:M=8,v|=24;break;case _:return i=Hr(12,u,o,v|2),i.elementType=_,i.lanes=S,i;case R:return i=Hr(13,u,o,v),i.elementType=R,i.lanes=S,i;case z:return i=Hr(19,u,o,v),i.elementType=z,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:M=10;break e;case A:M=9;break e;case O:M=11;break e;case D:M=14;break e;case I:M=16,d=null;break e}M=29,u=Error(r(130,i===null?"null":typeof i,"")),d=null}return o=Hr(M,u,o,v),o.elementType=i,o.type=d,o.lanes=S,o}function ca(i,o,u,d){return i=Hr(7,i,d,o),i.lanes=u,i}function Fp(i,o,u){return i=Hr(6,i,null,o),i.lanes=u,i}function mv(i){var o=Hr(18,null,null,0);return o.stateNode=i,o}function Bp(i,o,u){return o=Hr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var gv=new WeakMap;function fi(i,o){if(typeof i=="object"&&i!==null){var u=gv.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Lr(o)},gv.set(i,o),o)}return{value:i,source:o,stack:Lr(o)}}var dl=[],fl=0,Gd=null,qu=0,hi=[],pi=0,fs=null,Yi=1,Gi="";function Oo(i,o){dl[fl++]=qu,dl[fl++]=Gd,Gd=i,qu=o}function yv(i,o,u){hi[pi++]=Yi,hi[pi++]=Gi,hi[pi++]=fs,fs=i;var d=Yi;i=Gi;var v=32-Be(d)-1;d&=~(1<<v),u+=1;var S=32-Be(o)+v;if(30<S){var M=v-v%5;S=(d&(1<<M)-1).toString(32),d>>=M,v-=M,Yi=1<<32-Be(o)+v|u<<v|d,Gi=S+i}else Yi=1<<S|u<<v|d,Gi=i}function Vp(i){i.return!==null&&(Oo(i,1),yv(i,1,0))}function $p(i){for(;i===Gd;)Gd=dl[--fl],dl[fl]=null,qu=dl[--fl],dl[fl]=null;for(;i===fs;)fs=hi[--pi],hi[pi]=null,Gi=hi[--pi],hi[pi]=null,Yi=hi[--pi],hi[pi]=null}function xv(i,o){hi[pi++]=Yi,hi[pi++]=Gi,hi[pi++]=fs,Yi=o.id,Gi=o.overflow,fs=i}var Qn=null,Jt=null,Tt=!1,hs=null,mi=!1,Hp=Error(r(519));function ps(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zu(fi(o,i)),Hp}function vv(i){var o=i.stateNode,u=i.type,d=i.memoizedProps;switch(o[Lt]=i,o[cn]=d,u){case"dialog":Nt("cancel",o),Nt("close",o);break;case"iframe":case"object":case"embed":Nt("load",o);break;case"video":case"audio":for(u=0;u<pc.length;u++)Nt(pc[u],o);break;case"source":Nt("error",o);break;case"img":case"image":case"link":Nt("error",o),Nt("load",o);break;case"details":Nt("toggle",o);break;case"input":Nt("invalid",o),ns(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Nt("invalid",o);break;case"textarea":Nt("invalid",o),ta(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||Pw(o.textContent,u)?(d.popover!=null&&(Nt("beforetoggle",o),Nt("toggle",o)),d.onScroll!=null&&Nt("scroll",o),d.onScrollEnd!=null&&Nt("scrollend",o),d.onClick!=null&&(o.onclick=Sr),o=!0):o=!1,o||ps(i,!0)}function bv(i){for(Qn=i.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:Qn=Qn.return}}function hl(i){if(i!==Qn)return!1;if(!Tt)return bv(i),Tt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||ag(i.type,i.memoizedProps)),u=!u),u&&Jt&&ps(i),bv(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Jt=qw(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Jt=qw(i)}else o===27?(o=Jt,ks(i.type)?(i=fg,fg=null,Jt=i):Jt=o):Jt=Qn?yi(i.stateNode.nextSibling):null;return!0}function da(){Jt=Qn=null,Tt=!1}function Up(){var i=hs;return i!==null&&(Tr===null?Tr=i:Tr.push.apply(Tr,i),hs=null),i}function Zu(i){hs===null?hs=[i]:hs.push(i)}var qp=Z(null),fa=null,Do=null;function ms(i,o,u){F(qp,o._currentValue),o._currentValue=u}function zo(i){i._currentValue=qp.current,J(qp)}function Zp(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function Yp(i,o,u,d){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var S=v.dependencies;if(S!==null){var M=v.child;S=S.firstContext;e:for(;S!==null;){var V=S;S=v;for(var ne=0;ne<o.length;ne++)if(V.context===o[ne]){S.lanes|=u,V=S.alternate,V!==null&&(V.lanes|=u),Zp(S.return,u,i),d||(M=null);break e}S=V.next}}else if(v.tag===18){if(M=v.return,M===null)throw Error(r(341));M.lanes|=u,S=M.alternate,S!==null&&(S.lanes|=u),Zp(M,u,i),M=null}else M=v.child;if(M!==null)M.return=v;else for(M=v;M!==null;){if(M===i){M=null;break}if(v=M.sibling,v!==null){v.return=M.return,M=v;break}M=M.return}v=M}}function pl(i,o,u,d){i=null;for(var v=o,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var M=v.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var V=v.type;ar(v.pendingProps.value,M.value)||(i!==null?i.push(V):i=[V])}}else if(v===Te.current){if(M=v.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(vc):i=[vc])}v=v.return}i!==null&&Yp(o,i,u,d),o.flags|=262144}function Kd(i){for(i=i.firstContext;i!==null;){if(!ar(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ha(i){fa=i,Do=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function er(i){return wv(fa,i)}function Xd(i,o){return fa===null&&ha(i),wv(i,o)}function wv(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Do===null){if(i===null)throw Error(r(308));Do=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Do=Do.next=o;return u}var mA=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,d){i.push(d)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},gA=e.unstable_scheduleCallback,yA=e.unstable_NormalPriority,Dn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gp(){return{controller:new mA,data:new Map,refCount:0}}function Yu(i){i.refCount--,i.refCount===0&&gA(yA,function(){i.controller.abort()})}var Gu=null,Kp=0,ml=0,gl=null;function xA(i,o){if(Gu===null){var u=Gu=[];Kp=0,ml=Jm(),gl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Kp++,o.then(Sv,Sv),o}function Sv(){if(--Kp===0&&Gu!==null){gl!==null&&(gl.status="fulfilled");var i=Gu;Gu=null,ml=0,gl=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function vA(i,o){var u=[],d={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){d.status="fulfilled",d.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(d.status="rejected",d.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),d}var Nv=$.S;$.S=function(i,o){sw=gn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&xA(i,o),Nv!==null&&Nv(i,o)};var pa=Z(null);function Xp(){var i=pa.current;return i!==null?i:$t.pooledCache}function Wd(i,o){o===null?F(pa,pa.current):F(pa,o.pool)}function _v(){var i=Xp();return i===null?null:{parent:Dn._currentValue,pool:i}}var yl=Error(r(460)),Wp=Error(r(474)),Jd=Error(r(542)),Qd={then:function(){}};function Ev(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Cv(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Sr,Sr),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,kv(i),i;default:if(typeof o.status=="string")o.then(Sr,Sr);else{if(i=$t,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(d){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=d}},function(d){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,kv(i),i}throw ga=o,yl}}function ma(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ga=u,yl):u}}var ga=null;function Tv(){if(ga===null)throw Error(r(459));var i=ga;return ga=null,i}function kv(i){if(i===yl||i===Jd)throw Error(r(483))}var xl=null,Ku=0;function ef(i){var o=Ku;return Ku+=1,xl===null&&(xl=[]),Cv(xl,i,o)}function Xu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function tf(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function jv(i){function o(me,le){if(i){var xe=me.deletions;xe===null?(me.deletions=[le],me.flags|=16):xe.push(le)}}function u(me,le){if(!i)return null;for(;le!==null;)o(me,le),le=le.sibling;return null}function d(me){for(var le=new Map;me!==null;)me.key!==null?le.set(me.key,me):le.set(me.index,me),me=me.sibling;return le}function v(me,le){return me=Mo(me,le),me.index=0,me.sibling=null,me}function S(me,le,xe){return me.index=xe,i?(xe=me.alternate,xe!==null?(xe=xe.index,xe<le?(me.flags|=67108866,le):xe):(me.flags|=67108866,le)):(me.flags|=1048576,le)}function M(me){return i&&me.alternate===null&&(me.flags|=67108866),me}function V(me,le,xe,Ae){return le===null||le.tag!==6?(le=Fp(xe,me.mode,Ae),le.return=me,le):(le=v(le,xe),le.return=me,le)}function ne(me,le,xe,Ae){var rt=xe.type;return rt===N?ke(me,le,xe.props.children,Ae,xe.key):le!==null&&(le.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===I&&ma(rt)===le.type)?(le=v(le,xe.props),Xu(le,xe),le.return=me,le):(le=Yd(xe.type,xe.key,xe.props,null,me.mode,Ae),Xu(le,xe),le.return=me,le)}function ve(me,le,xe,Ae){return le===null||le.tag!==4||le.stateNode.containerInfo!==xe.containerInfo||le.stateNode.implementation!==xe.implementation?(le=Bp(xe,me.mode,Ae),le.return=me,le):(le=v(le,xe.children||[]),le.return=me,le)}function ke(me,le,xe,Ae,rt){return le===null||le.tag!==7?(le=ca(xe,me.mode,Ae,rt),le.return=me,le):(le=v(le,xe),le.return=me,le)}function ze(me,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=Fp(""+le,me.mode,xe),le.return=me,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return xe=Yd(le.type,le.key,le.props,null,me.mode,xe),Xu(xe,le),xe.return=me,xe;case C:return le=Bp(le,me.mode,xe),le.return=me,le;case I:return le=ma(le),ze(me,le,xe)}if(Q(le)||X(le))return le=ca(le,me.mode,xe,null),le.return=me,le;if(typeof le.then=="function")return ze(me,ef(le),xe);if(le.$$typeof===k)return ze(me,Xd(me,le),xe);tf(me,le)}return null}function we(me,le,xe,Ae){var rt=le!==null?le.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return rt!==null?null:V(me,le,""+xe,Ae);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return xe.key===rt?ne(me,le,xe,Ae):null;case C:return xe.key===rt?ve(me,le,xe,Ae):null;case I:return xe=ma(xe),we(me,le,xe,Ae)}if(Q(xe)||X(xe))return rt!==null?null:ke(me,le,xe,Ae,null);if(typeof xe.then=="function")return we(me,le,ef(xe),Ae);if(xe.$$typeof===k)return we(me,le,Xd(me,xe),Ae);tf(me,xe)}return null}function Ne(me,le,xe,Ae,rt){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return me=me.get(xe)||null,V(le,me,""+Ae,rt);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case b:return me=me.get(Ae.key===null?xe:Ae.key)||null,ne(le,me,Ae,rt);case C:return me=me.get(Ae.key===null?xe:Ae.key)||null,ve(le,me,Ae,rt);case I:return Ae=ma(Ae),Ne(me,le,xe,Ae,rt)}if(Q(Ae)||X(Ae))return me=me.get(xe)||null,ke(le,me,Ae,rt,null);if(typeof Ae.then=="function")return Ne(me,le,xe,ef(Ae),rt);if(Ae.$$typeof===k)return Ne(me,le,xe,Xd(le,Ae),rt);tf(le,Ae)}return null}function Ge(me,le,xe,Ae){for(var rt=null,At=null,Je=le,yt=le=0,Et=null;Je!==null&&yt<xe.length;yt++){Je.index>yt?(Et=Je,Je=null):Et=Je.sibling;var Mt=we(me,Je,xe[yt],Ae);if(Mt===null){Je===null&&(Je=Et);break}i&&Je&&Mt.alternate===null&&o(me,Je),le=S(Mt,le,yt),At===null?rt=Mt:At.sibling=Mt,At=Mt,Je=Et}if(yt===xe.length)return u(me,Je),Tt&&Oo(me,yt),rt;if(Je===null){for(;yt<xe.length;yt++)Je=ze(me,xe[yt],Ae),Je!==null&&(le=S(Je,le,yt),At===null?rt=Je:At.sibling=Je,At=Je);return Tt&&Oo(me,yt),rt}for(Je=d(Je);yt<xe.length;yt++)Et=Ne(Je,me,yt,xe[yt],Ae),Et!==null&&(i&&Et.alternate!==null&&Je.delete(Et.key===null?yt:Et.key),le=S(Et,le,yt),At===null?rt=Et:At.sibling=Et,At=Et);return i&&Je.forEach(function(Ds){return o(me,Ds)}),Tt&&Oo(me,yt),rt}function st(me,le,xe,Ae){if(xe==null)throw Error(r(151));for(var rt=null,At=null,Je=le,yt=le=0,Et=null,Mt=xe.next();Je!==null&&!Mt.done;yt++,Mt=xe.next()){Je.index>yt?(Et=Je,Je=null):Et=Je.sibling;var Ds=we(me,Je,Mt.value,Ae);if(Ds===null){Je===null&&(Je=Et);break}i&&Je&&Ds.alternate===null&&o(me,Je),le=S(Ds,le,yt),At===null?rt=Ds:At.sibling=Ds,At=Ds,Je=Et}if(Mt.done)return u(me,Je),Tt&&Oo(me,yt),rt;if(Je===null){for(;!Mt.done;yt++,Mt=xe.next())Mt=ze(me,Mt.value,Ae),Mt!==null&&(le=S(Mt,le,yt),At===null?rt=Mt:At.sibling=Mt,At=Mt);return Tt&&Oo(me,yt),rt}for(Je=d(Je);!Mt.done;yt++,Mt=xe.next())Mt=Ne(Je,me,yt,Mt.value,Ae),Mt!==null&&(i&&Mt.alternate!==null&&Je.delete(Mt.key===null?yt:Mt.key),le=S(Mt,le,yt),At===null?rt=Mt:At.sibling=Mt,At=Mt);return i&&Je.forEach(function(AM){return o(me,AM)}),Tt&&Oo(me,yt),rt}function Vt(me,le,xe,Ae){if(typeof xe=="object"&&xe!==null&&xe.type===N&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:e:{for(var rt=xe.key;le!==null;){if(le.key===rt){if(rt=xe.type,rt===N){if(le.tag===7){u(me,le.sibling),Ae=v(le,xe.props.children),Ae.return=me,me=Ae;break e}}else if(le.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===I&&ma(rt)===le.type){u(me,le.sibling),Ae=v(le,xe.props),Xu(Ae,xe),Ae.return=me,me=Ae;break e}u(me,le);break}else o(me,le);le=le.sibling}xe.type===N?(Ae=ca(xe.props.children,me.mode,Ae,xe.key),Ae.return=me,me=Ae):(Ae=Yd(xe.type,xe.key,xe.props,null,me.mode,Ae),Xu(Ae,xe),Ae.return=me,me=Ae)}return M(me);case C:e:{for(rt=xe.key;le!==null;){if(le.key===rt)if(le.tag===4&&le.stateNode.containerInfo===xe.containerInfo&&le.stateNode.implementation===xe.implementation){u(me,le.sibling),Ae=v(le,xe.children||[]),Ae.return=me,me=Ae;break e}else{u(me,le);break}else o(me,le);le=le.sibling}Ae=Bp(xe,me.mode,Ae),Ae.return=me,me=Ae}return M(me);case I:return xe=ma(xe),Vt(me,le,xe,Ae)}if(Q(xe))return Ge(me,le,xe,Ae);if(X(xe)){if(rt=X(xe),typeof rt!="function")throw Error(r(150));return xe=rt.call(xe),st(me,le,xe,Ae)}if(typeof xe.then=="function")return Vt(me,le,ef(xe),Ae);if(xe.$$typeof===k)return Vt(me,le,Xd(me,xe),Ae);tf(me,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,le!==null&&le.tag===6?(u(me,le.sibling),Ae=v(le,xe),Ae.return=me,me=Ae):(u(me,le),Ae=Fp(xe,me.mode,Ae),Ae.return=me,me=Ae),M(me)):u(me,le)}return function(me,le,xe,Ae){try{Ku=0;var rt=Vt(me,le,xe,Ae);return xl=null,rt}catch(Je){if(Je===yl||Je===Jd)throw Je;var At=Hr(29,Je,null,me.mode);return At.lanes=Ae,At.return=me,At}finally{}}}var ya=jv(!0),Av=jv(!1),gs=!1;function Jp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qp(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ys(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xs(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ot&2)!==0){var v=d.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o,o=On(i),ua(i,null,u),o}return lt(i,d,o,u),On(i)}function Wu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Rt(i,u)}}function em(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var v=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var M={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?v=S=M:S=S.next=M,u=u.next}while(u!==null);S===null?v=S=o:S=S.next=o}else v=S=o;u={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:d.shared,callbacks:d.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var tm=!1;function Ju(){if(tm){var i=gl;if(i!==null)throw i}}function Qu(i,o,u,d){tm=!1;var v=i.updateQueue;gs=!1;var S=v.firstBaseUpdate,M=v.lastBaseUpdate,V=v.shared.pending;if(V!==null){v.shared.pending=null;var ne=V,ve=ne.next;ne.next=null,M===null?S=ve:M.next=ve,M=ne;var ke=i.alternate;ke!==null&&(ke=ke.updateQueue,V=ke.lastBaseUpdate,V!==M&&(V===null?ke.firstBaseUpdate=ve:V.next=ve,ke.lastBaseUpdate=ne))}if(S!==null){var ze=v.baseState;M=0,ke=ve=ne=null,V=S;do{var we=V.lane&-536870913,Ne=we!==V.lane;if(Ne?(_t&we)===we:(d&we)===we){we!==0&&we===ml&&(tm=!0),ke!==null&&(ke=ke.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Ge=i,st=V;we=o;var Vt=u;switch(st.tag){case 1:if(Ge=st.payload,typeof Ge=="function"){ze=Ge.call(Vt,ze,we);break e}ze=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=st.payload,we=typeof Ge=="function"?Ge.call(Vt,ze,we):Ge,we==null)break e;ze=g({},ze,we);break e;case 2:gs=!0}}we=V.callback,we!==null&&(i.flags|=64,Ne&&(i.flags|=8192),Ne=v.callbacks,Ne===null?v.callbacks=[we]:Ne.push(we))}else Ne={lane:we,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ke===null?(ve=ke=Ne,ne=ze):ke=ke.next=Ne,M|=we;if(V=V.next,V===null){if(V=v.shared.pending,V===null)break;Ne=V,V=Ne.next,Ne.next=null,v.lastBaseUpdate=Ne,v.shared.pending=null}}while(!0);ke===null&&(ne=ze),v.baseState=ne,v.firstBaseUpdate=ve,v.lastBaseUpdate=ke,S===null&&(v.shared.lanes=0),Ns|=M,i.lanes=M,i.memoizedState=ze}}function Mv(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Ov(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Mv(u[i],o)}var vl=Z(null),nf=Z(0);function Dv(i,o){i=Ho,F(nf,i),F(vl,o),Ho=i|o.baseLanes}function nm(){F(nf,Ho),F(vl,vl.current)}function rm(){Ho=nf.current,J(vl),J(nf)}var Ur=Z(null),gi=null;function vs(i){var o=i.alternate;F(En,En.current&1),F(Ur,i),gi===null&&(o===null||vl.current!==null||o.memoizedState!==null)&&(gi=i)}function im(i){F(En,En.current),F(Ur,i),gi===null&&(gi=i)}function zv(i){i.tag===22?(F(En,En.current),F(Ur,i),gi===null&&(gi=i)):bs()}function bs(){F(En,En.current),F(Ur,Ur.current)}function qr(i){J(Ur),gi===i&&(gi=null),J(En)}var En=Z(0);function rf(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||cg(u)||dg(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ro=0,gt=null,Ft=null,zn=null,of=!1,bl=!1,xa=!1,sf=0,ec=0,wl=null,bA=0;function vn(){throw Error(r(321))}function om(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!ar(i[u],o[u]))return!1;return!0}function sm(i,o,u,d,v,S){return Ro=S,gt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=i===null||i.memoizedState===null?yb:wm,xa=!1,S=u(d,v),xa=!1,bl&&(S=Pv(o,u,d,v)),Rv(i),S}function Rv(i){$.H=rc;var o=Ft!==null&&Ft.next!==null;if(Ro=0,zn=Ft=gt=null,of=!1,ec=0,wl=null,o)throw Error(r(300));i===null||Rn||(i=i.dependencies,i!==null&&Kd(i)&&(Rn=!0))}function Pv(i,o,u,d){gt=i;var v=0;do{if(bl&&(wl=null),ec=0,bl=!1,25<=v)throw Error(r(301));if(v+=1,zn=Ft=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}$.H=xb,S=o(u,d)}while(bl);return S}function wA(){var i=$.H,o=i.useState()[0];return o=typeof o.then=="function"?tc(o):o,i=i.useState()[0],(Ft!==null?Ft.memoizedState:null)!==i&&(gt.flags|=1024),o}function am(){var i=sf!==0;return sf=0,i}function lm(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function um(i){if(of){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}of=!1}Ro=0,zn=Ft=gt=null,bl=!1,ec=sf=0,wl=null}function gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?gt.memoizedState=zn=i:zn=zn.next=i,zn}function Cn(){if(Ft===null){var i=gt.alternate;i=i!==null?i.memoizedState:null}else i=Ft.next;var o=zn===null?gt.memoizedState:zn.next;if(o!==null)zn=o,Ft=i;else{if(i===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Ft=i,i={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},zn===null?gt.memoizedState=zn=i:zn=zn.next=i}return zn}function af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(i){var o=ec;return ec+=1,wl===null&&(wl=[]),i=Cv(wl,i,o),o=gt,(zn===null?o.memoizedState:zn.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?yb:wm),i}function lf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tc(i);if(i.$$typeof===k)return er(i)}throw Error(r(438,String(i)))}function cm(i){var o=null,u=gt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=gt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=af(),gt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),d=0;d<i;d++)u[d]=te;return o.index++,u}function Po(i,o){return typeof o=="function"?o(i):o}function uf(i){var o=Cn();return dm(o,Ft,i)}function dm(i,o,u){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var v=i.baseQueue,S=d.pending;if(S!==null){if(v!==null){var M=v.next;v.next=S.next,S.next=M}o.baseQueue=v=S,d.pending=null}if(S=i.baseState,v===null)i.memoizedState=S;else{o=v.next;var V=M=null,ne=null,ve=o,ke=!1;do{var ze=ve.lane&-536870913;if(ze!==ve.lane?(_t&ze)===ze:(Ro&ze)===ze){var we=ve.revertLane;if(we===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),ze===ml&&(ke=!0);else if((Ro&we)===we){ve=ve.next,we===ml&&(ke=!0);continue}else ze={lane:0,revertLane:ve.revertLane,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ne===null?(V=ne=ze,M=S):ne=ne.next=ze,gt.lanes|=we,Ns|=we;ze=ve.action,xa&&u(S,ze),S=ve.hasEagerState?ve.eagerState:u(S,ze)}else we={lane:ze,revertLane:ve.revertLane,gesture:ve.gesture,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ne===null?(V=ne=we,M=S):ne=ne.next=we,gt.lanes|=ze,Ns|=ze;ve=ve.next}while(ve!==null&&ve!==o);if(ne===null?M=S:ne.next=V,!ar(S,i.memoizedState)&&(Rn=!0,ke&&(u=gl,u!==null)))throw u;i.memoizedState=S,i.baseState=M,i.baseQueue=ne,d.lastRenderedState=S}return v===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function fm(i){var o=Cn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var d=u.dispatch,v=u.pending,S=o.memoizedState;if(v!==null){u.pending=null;var M=v=v.next;do S=i(S,M.action),M=M.next;while(M!==v);ar(S,o.memoizedState)||(Rn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),u.lastRenderedState=S}return[S,d]}function Iv(i,o,u){var d=gt,v=Cn(),S=Tt;if(S){if(u===void 0)throw Error(r(407));u=u()}else u=o();var M=!ar((Ft||v).memoizedState,u);if(M&&(v.memoizedState=u,Rn=!0),v=v.queue,mm(Bv.bind(null,d,v,i),[i]),v.getSnapshot!==o||M||zn!==null&&zn.memoizedState.tag&1){if(d.flags|=2048,Sl(9,{destroy:void 0},Fv.bind(null,d,v,u,o),null),$t===null)throw Error(r(349));S||(Ro&127)!==0||Lv(d,o,u)}return u}function Lv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=gt.updateQueue,o===null?(o=af(),gt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Fv(i,o,u,d){o.value=u,o.getSnapshot=d,Vv(o)&&$v(i)}function Bv(i,o,u){return u(function(){Vv(o)&&$v(i)})}function Vv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!ar(i,u)}catch{return!0}}function $v(i){var o=nn(i,2);o!==null&&kr(o,i,2)}function hm(i){var o=gr();if(typeof i=="function"){var u=i;if(i=u(),xa){Kt(!0);try{u()}finally{Kt(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:i},o}function Hv(i,o,u,d){return i.baseState=u,dm(i,Ft,typeof d=="function"?d:Po)}function SA(i,o,u,d,v){if(ff(i))throw Error(r(485));if(i=o.action,i!==null){var S={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){S.listeners.push(M)}};$.T!==null?u(!0):S.isTransition=!1,d(S),u=o.pending,u===null?(S.next=o.pending=S,Uv(o,S)):(S.next=u.next,o.pending=u.next=S)}}function Uv(i,o){var u=o.action,d=o.payload,v=i.state;if(o.isTransition){var S=$.T,M={};$.T=M;try{var V=u(v,d),ne=$.S;ne!==null&&ne(M,V),qv(i,o,V)}catch(ve){pm(i,o,ve)}finally{S!==null&&M.types!==null&&(S.types=M.types),$.T=S}}else try{S=u(v,d),qv(i,o,S)}catch(ve){pm(i,o,ve)}}function qv(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Zv(i,o,d)},function(d){return pm(i,o,d)}):Zv(i,o,u)}function Zv(i,o,u){o.status="fulfilled",o.value=u,Yv(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,Uv(i,u)))}function pm(i,o,u){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,Yv(o),o=o.next;while(o!==d)}i.action=null}function Yv(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Gv(i,o){return o}function Kv(i,o){if(Tt){var u=$t.formState;if(u!==null){e:{var d=gt;if(Tt){if(Jt){t:{for(var v=Jt,S=mi;v.nodeType!==8;){if(!S){v=null;break t}if(v=yi(v.nextSibling),v===null){v=null;break t}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){Jt=yi(v.nextSibling),d=v.data==="F!";break e}}ps(d)}d=!1}d&&(o=u[0])}}return u=gr(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gv,lastRenderedState:o},u.queue=d,u=pb.bind(null,gt,d),d.dispatch=u,d=hm(!1),S=bm.bind(null,gt,!1,d.queue),d=gr(),v={state:o,dispatch:null,action:i,pending:null},d.queue=v,u=SA.bind(null,gt,v,S,u),v.dispatch=u,d.memoizedState=i,[o,u,!1]}function Xv(i){var o=Cn();return Wv(o,Ft,i)}function Wv(i,o,u){if(o=dm(i,o,Gv)[0],i=uf(Po)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=tc(o)}catch(M){throw M===yl?Jd:M}else d=o;o=Cn();var v=o.queue,S=v.dispatch;return u!==o.memoizedState&&(gt.flags|=2048,Sl(9,{destroy:void 0},NA.bind(null,v,u),null)),[d,S,i]}function NA(i,o){i.action=o}function Jv(i){var o=Cn(),u=Ft;if(u!==null)return Wv(o,u,i);Cn(),o=o.memoizedState,u=Cn();var d=u.queue.dispatch;return u.memoizedState=i,[o,d,!1]}function Sl(i,o,u,d){return i={tag:i,create:u,deps:d,inst:o,next:null},o=gt.updateQueue,o===null&&(o=af(),gt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i),i}function Qv(){return Cn().memoizedState}function cf(i,o,u,d){var v=gr();gt.flags|=i,v.memoizedState=Sl(1|o,{destroy:void 0},u,d===void 0?null:d)}function df(i,o,u,d){var v=Cn();d=d===void 0?null:d;var S=v.memoizedState.inst;Ft!==null&&d!==null&&om(d,Ft.memoizedState.deps)?v.memoizedState=Sl(o,S,u,d):(gt.flags|=i,v.memoizedState=Sl(1|o,S,u,d))}function eb(i,o){cf(8390656,8,i,o)}function mm(i,o){df(2048,8,i,o)}function _A(i){gt.flags|=4;var o=gt.updateQueue;if(o===null)o=af(),gt.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function tb(i){var o=Cn().memoizedState;return _A({ref:o,nextImpl:i}),function(){if((Ot&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function nb(i,o){return df(4,2,i,o)}function rb(i,o){return df(4,4,i,o)}function ib(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function ob(i,o,u){u=u!=null?u.concat([i]):null,df(4,4,ib.bind(null,o,i),u)}function gm(){}function sb(i,o){var u=Cn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&om(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function ab(i,o){var u=Cn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&om(o,d[1]))return d[0];if(d=i(),xa){Kt(!0);try{i()}finally{Kt(!1)}}return u.memoizedState=[d,o],d}function ym(i,o,u){return u===void 0||(Ro&1073741824)!==0&&(_t&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=lw(),gt.lanes|=i,Ns|=i,u)}function lb(i,o,u,d){return ar(u,o)?u:vl.current!==null?(i=ym(i,u,d),ar(i,o)||(Rn=!0),i):(Ro&42)===0||(Ro&1073741824)!==0&&(_t&261930)===0?(Rn=!0,i.memoizedState=u):(i=lw(),gt.lanes|=i,Ns|=i,o)}function ub(i,o,u,d,v){var S=Y.p;Y.p=S!==0&&8>S?S:8;var M=$.T,V={};$.T=V,bm(i,!1,o,u);try{var ne=v(),ve=$.S;if(ve!==null&&ve(V,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ke=vA(ne,d);nc(i,o,ke,Gr(i))}else nc(i,o,d,Gr(i))}catch(ze){nc(i,o,{then:function(){},status:"rejected",reason:ze},Gr())}finally{Y.p=S,M!==null&&V.types!==null&&(M.types=V.types),$.T=M}}function EA(){}function xm(i,o,u,d){if(i.tag!==5)throw Error(r(476));var v=cb(i).queue;ub(i,v,o,K,u===null?EA:function(){return db(i),u(d)})}function cb(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:K},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function db(i){var o=cb(i);o.next===null&&(o=i.alternate.memoizedState),nc(i,o.next.queue,{},Gr())}function vm(){return er(vc)}function fb(){return Cn().memoizedState}function hb(){return Cn().memoizedState}function CA(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Gr();i=ys(u);var d=xs(o,i,u);d!==null&&(kr(d,o,u),Wu(d,o,u)),o={cache:Gp()},i.payload=o;return}o=o.return}}function TA(i,o,u){var d=Gr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ff(i)?mb(o,u):(u=Mn(i,o,u,d),u!==null&&(kr(u,i,d),gb(u,o,d)))}function pb(i,o,u){var d=Gr();nc(i,o,u,d)}function nc(i,o,u,d){var v={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(ff(i))mb(o,v);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var M=o.lastRenderedState,V=S(M,u);if(v.hasEagerState=!0,v.eagerState=V,ar(V,M))return lt(i,o,v,0),$t===null&&Xn(),!1}catch{}finally{}if(u=Mn(i,o,v,d),u!==null)return kr(u,i,d),gb(u,o,d),!0}return!1}function bm(i,o,u,d){if(d={lane:2,revertLane:Jm(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ff(i)){if(o)throw Error(r(479))}else o=Mn(i,u,d,2),o!==null&&kr(o,i,2)}function ff(i){var o=i.alternate;return i===gt||o!==null&&o===gt}function mb(i,o){bl=of=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function gb(i,o,u){if((u&4194048)!==0){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Rt(i,u)}}var rc={readContext:er,use:lf,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};rc.useEffectEvent=vn;var yb={readContext:er,use:lf,useCallback:function(i,o){return gr().memoizedState=[i,o===void 0?null:o],i},useContext:er,useEffect:eb,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,cf(4194308,4,ib.bind(null,o,i),u)},useLayoutEffect:function(i,o){return cf(4194308,4,i,o)},useInsertionEffect:function(i,o){cf(4,2,i,o)},useMemo:function(i,o){var u=gr();o=o===void 0?null:o;var d=i();if(xa){Kt(!0);try{i()}finally{Kt(!1)}}return u.memoizedState=[d,o],d},useReducer:function(i,o,u){var d=gr();if(u!==void 0){var v=u(o);if(xa){Kt(!0);try{u(o)}finally{Kt(!1)}}}else v=o;return d.memoizedState=d.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},d.queue=i,i=i.dispatch=TA.bind(null,gt,i),[d.memoizedState,i]},useRef:function(i){var o=gr();return i={current:i},o.memoizedState=i},useState:function(i){i=hm(i);var o=i.queue,u=pb.bind(null,gt,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:gm,useDeferredValue:function(i,o){var u=gr();return ym(u,i,o)},useTransition:function(){var i=hm(!1);return i=ub.bind(null,gt,i.queue,!0,!1),gr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var d=gt,v=gr();if(Tt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),$t===null)throw Error(r(349));(_t&127)!==0||Lv(d,o,u)}v.memoizedState=u;var S={value:u,getSnapshot:o};return v.queue=S,eb(Bv.bind(null,d,S,i),[i]),d.flags|=2048,Sl(9,{destroy:void 0},Fv.bind(null,d,S,u,o),null),u},useId:function(){var i=gr(),o=$t.identifierPrefix;if(Tt){var u=Gi,d=Yi;u=(d&~(1<<32-Be(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=sf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=bA++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:vm,useFormState:Kv,useActionState:Kv,useOptimistic:function(i){var o=gr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=bm.bind(null,gt,!0,u),u.dispatch=o,[i,o]},useMemoCache:cm,useCacheRefresh:function(){return gr().memoizedState=CA.bind(null,gt)},useEffectEvent:function(i){var o=gr(),u={impl:i};return o.memoizedState=u,function(){if((Ot&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},wm={readContext:er,use:lf,useCallback:sb,useContext:er,useEffect:mm,useImperativeHandle:ob,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ab,useReducer:uf,useRef:Qv,useState:function(){return uf(Po)},useDebugValue:gm,useDeferredValue:function(i,o){var u=Cn();return lb(u,Ft.memoizedState,i,o)},useTransition:function(){var i=uf(Po)[0],o=Cn().memoizedState;return[typeof i=="boolean"?i:tc(i),o]},useSyncExternalStore:Iv,useId:fb,useHostTransitionStatus:vm,useFormState:Xv,useActionState:Xv,useOptimistic:function(i,o){var u=Cn();return Hv(u,Ft,i,o)},useMemoCache:cm,useCacheRefresh:hb};wm.useEffectEvent=tb;var xb={readContext:er,use:lf,useCallback:sb,useContext:er,useEffect:mm,useImperativeHandle:ob,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ab,useReducer:fm,useRef:Qv,useState:function(){return fm(Po)},useDebugValue:gm,useDeferredValue:function(i,o){var u=Cn();return Ft===null?ym(u,i,o):lb(u,Ft.memoizedState,i,o)},useTransition:function(){var i=fm(Po)[0],o=Cn().memoizedState;return[typeof i=="boolean"?i:tc(i),o]},useSyncExternalStore:Iv,useId:fb,useHostTransitionStatus:vm,useFormState:Jv,useActionState:Jv,useOptimistic:function(i,o){var u=Cn();return Ft!==null?Hv(u,Ft,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:cm,useCacheRefresh:hb};xb.useEffectEvent=tb;function Sm(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Nm={enqueueSetState:function(i,o,u){i=i._reactInternals;var d=Gr(),v=ys(d);v.payload=o,u!=null&&(v.callback=u),o=xs(i,v,d),o!==null&&(kr(o,i,d),Wu(o,i,d))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=Gr(),v=ys(d);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=xs(i,v,d),o!==null&&(kr(o,i,d),Wu(o,i,d))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Gr(),d=ys(u);d.tag=2,o!=null&&(d.callback=o),o=xs(i,d,u),o!==null&&(kr(o,i,u),Wu(o,i,u))}};function vb(i,o,u,d,v,S,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,S,M):o.prototype&&o.prototype.isPureReactComponent?!x(u,d)||!x(v,S):!0}function bb(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&Nm.enqueueReplaceState(o,o.state,null)}function va(i,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function wb(i){Ye(i)}function Sb(i){console.error(i)}function Nb(i){Ye(i)}function hf(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function _b(i,o,u){try{var d=i.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function _m(i,o,u){return u=ys(u),u.tag=3,u.payload={element:null},u.callback=function(){hf(i,o)},u}function Eb(i){return i=ys(i),i.tag=3,i}function Cb(i,o,u,d){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var S=d.value;i.payload=function(){return v(S)},i.callback=function(){_b(o,u,d)}}var M=u.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){_b(o,u,d),typeof v!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var V=d.stack;this.componentDidCatch(d.value,{componentStack:V!==null?V:""})})}function kA(i,o,u,d,v){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&pl(o,u,v,!0),u=Ur.current,u!==null){switch(u.tag){case 31:case 13:return gi===null?Ef():u.alternate===null&&bn===0&&(bn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,d===Qd?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),Km(i,d,v)),!1;case 22:return u.flags|=65536,d===Qd?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),Km(i,d,v)),!1}throw Error(r(435,u.tag))}return Km(i,d,v),Ef(),!1}if(Tt)return o=Ur.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,d!==Hp&&(i=Error(r(422),{cause:d}),Zu(fi(i,u)))):(d!==Hp&&(o=Error(r(423),{cause:d}),Zu(fi(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,d=fi(d,u),v=_m(i.stateNode,d,v),em(i,v),bn!==4&&(bn=2)),!1;var S=Error(r(520),{cause:d});if(S=fi(S,u),dc===null?dc=[S]:dc.push(S),bn!==4&&(bn=2),o===null)return!0;d=fi(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=_m(u.stateNode,d,i),em(u,i),!1;case 1:if(o=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(_s===null||!_s.has(S))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Eb(v),Cb(v,i,u,d),em(u,v),!1}u=u.return}while(u!==null);return!1}var Em=Error(r(461)),Rn=!1;function tr(i,o,u,d){o.child=i===null?Av(o,null,u,d):ya(o,i.child,u,d)}function Tb(i,o,u,d,v){u=u.render;var S=o.ref;if("ref"in d){var M={};for(var V in d)V!=="ref"&&(M[V]=d[V])}else M=d;return ha(o),d=sm(i,o,u,M,S,v),V=am(),i!==null&&!Rn?(lm(i,o,v),Io(i,o,v)):(Tt&&V&&Vp(o),o.flags|=1,tr(i,o,d,v),o.child)}function kb(i,o,u,d,v){if(i===null){var S=u.type;return typeof S=="function"&&!Lp(S)&&S.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=S,jb(i,o,S,d,v)):(i=Yd(u.type,null,d,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!Dm(i,v)){var M=S.memoizedProps;if(u=u.compare,u=u!==null?u:x,u(M,d)&&i.ref===o.ref)return Io(i,o,v)}return o.flags|=1,i=Mo(S,d),i.ref=o.ref,i.return=o,o.child=i}function jb(i,o,u,d,v){if(i!==null){var S=i.memoizedProps;if(x(S,d)&&i.ref===o.ref)if(Rn=!1,o.pendingProps=d=S,Dm(i,v))(i.flags&131072)!==0&&(Rn=!0);else return o.lanes=i.lanes,Io(i,o,v)}return Cm(i,o,u,d,v)}function Ab(i,o,u,d){var v=d.children,S=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,i!==null){for(d=o.child=i.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~S}else d=0,o.child=null;return Mb(i,o,S,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wd(o,S!==null?S.cachePool:null),S!==null?Dv(o,S):nm(),zv(o);else return d=o.lanes=536870912,Mb(i,o,S!==null?S.baseLanes|u:u,u,d)}else S!==null?(Wd(o,S.cachePool),Dv(o,S),bs(),o.memoizedState=null):(i!==null&&Wd(o,null),nm(),bs());return tr(i,o,v,u),o.child}function ic(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Mb(i,o,u,d,v){var S=Xp();return S=S===null?null:{parent:Dn._currentValue,pool:S},o.memoizedState={baseLanes:u,cachePool:S},i!==null&&Wd(o,null),nm(),zv(o),i!==null&&pl(i,o,d,!0),o.childLanes=v,null}function pf(i,o){return o=gf({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function Ob(i,o,u){return ya(o,i.child,null,u),i=pf(o,o.pendingProps),i.flags|=2,qr(o),o.memoizedState=null,i}function jA(i,o,u){var d=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Tt){if(d.mode==="hidden")return i=pf(o,d),o.lanes=536870912,ic(null,i);if(im(o),(i=Jt)?(i=Uw(i,mi),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:fs!==null?{id:Yi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},u=mv(i),u.return=o,o.child=u,Qn=o,Jt=null)):i=null,i===null)throw ps(o);return o.lanes=536870912,null}return pf(o,d)}var S=i.memoizedState;if(S!==null){var M=S.dehydrated;if(im(o),v)if(o.flags&256)o.flags&=-257,o=Ob(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(Rn||pl(i,o,u,!1),v=(u&i.childLanes)!==0,Rn||v){if(d=$t,d!==null&&(M=un(d,u),M!==0&&M!==S.retryLane))throw S.retryLane=M,nn(i,M),kr(d,i,M),Em;Ef(),o=Ob(i,o,u)}else i=S.treeContext,Jt=yi(M.nextSibling),Qn=o,Tt=!0,hs=null,mi=!1,i!==null&&xv(o,i),o=pf(o,d),o.flags|=4096;return o}return i=Mo(i.child,{mode:d.mode,children:d.children}),i.ref=o.ref,o.child=i,i.return=o,i}function mf(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Cm(i,o,u,d,v){return ha(o),u=sm(i,o,u,d,void 0,v),d=am(),i!==null&&!Rn?(lm(i,o,v),Io(i,o,v)):(Tt&&d&&Vp(o),o.flags|=1,tr(i,o,u,v),o.child)}function Db(i,o,u,d,v,S){return ha(o),o.updateQueue=null,u=Pv(o,d,u,v),Rv(i),d=am(),i!==null&&!Rn?(lm(i,o,S),Io(i,o,S)):(Tt&&d&&Vp(o),o.flags|=1,tr(i,o,u,S),o.child)}function zb(i,o,u,d,v){if(ha(o),o.stateNode===null){var S=Nr,M=u.contextType;typeof M=="object"&&M!==null&&(S=er(M)),S=new u(d,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Nm,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=d,S.state=o.memoizedState,S.refs={},Jp(o),M=u.contextType,S.context=typeof M=="object"&&M!==null?er(M):Nr,S.state=o.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(Sm(o,u,M,d),S.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(M=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),M!==S.state&&Nm.enqueueReplaceState(S,S.state,null),Qu(o,d,S,v),Ju(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(i===null){S=o.stateNode;var V=o.memoizedProps,ne=va(u,V);S.props=ne;var ve=S.context,ke=u.contextType;M=Nr,typeof ke=="object"&&ke!==null&&(M=er(ke));var ze=u.getDerivedStateFromProps;ke=typeof ze=="function"||typeof S.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,ke||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V||ve!==M)&&bb(o,S,d,M),gs=!1;var we=o.memoizedState;S.state=we,Qu(o,d,S,v),Ju(),ve=o.memoizedState,V||we!==ve||gs?(typeof ze=="function"&&(Sm(o,u,ze,d),ve=o.memoizedState),(ne=gs||vb(o,u,ne,d,we,ve,M))?(ke||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ve),S.props=d,S.state=ve,S.context=M,d=ne):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{S=o.stateNode,Qp(i,o),M=o.memoizedProps,ke=va(u,M),S.props=ke,ze=o.pendingProps,we=S.context,ve=u.contextType,ne=Nr,typeof ve=="object"&&ve!==null&&(ne=er(ve)),V=u.getDerivedStateFromProps,(ve=typeof V=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==ze||we!==ne)&&bb(o,S,d,ne),gs=!1,we=o.memoizedState,S.state=we,Qu(o,d,S,v),Ju();var Ne=o.memoizedState;M!==ze||we!==Ne||gs||i!==null&&i.dependencies!==null&&Kd(i.dependencies)?(typeof V=="function"&&(Sm(o,u,V,d),Ne=o.memoizedState),(ke=gs||vb(o,u,ke,d,we,Ne,ne)||i!==null&&i.dependencies!==null&&Kd(i.dependencies))?(ve||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,Ne,ne),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,Ne,ne)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===i.memoizedProps&&we===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&we===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Ne),S.props=d,S.state=Ne,S.context=ne,d=ke):(typeof S.componentDidUpdate!="function"||M===i.memoizedProps&&we===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&we===i.memoizedState||(o.flags|=1024),d=!1)}return S=d,mf(i,o),d=(o.flags&128)!==0,S||d?(S=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,i!==null&&d?(o.child=ya(o,i.child,null,v),o.child=ya(o,null,u,v)):tr(i,o,u,v),o.memoizedState=S.state,i=o.child):i=Io(i,o,v),i}function Rb(i,o,u,d){return da(),o.flags|=256,tr(i,o,u,d),o.child}var Tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function km(i){return{baseLanes:i,cachePool:_v()}}function jm(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Yr),i}function Pb(i,o,u){var d=o.pendingProps,v=!1,S=(o.flags&128)!==0,M;if((M=S)||(M=i!==null&&i.memoizedState===null?!1:(En.current&2)!==0),M&&(v=!0,o.flags&=-129),M=(o.flags&32)!==0,o.flags&=-33,i===null){if(Tt){if(v?vs(o):bs(),(i=Jt)?(i=Uw(i,mi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:fs!==null?{id:Yi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},u=mv(i),u.return=o,o.child=u,Qn=o,Jt=null)):i=null,i===null)throw ps(o);return dg(i)?o.lanes=32:o.lanes=536870912,null}var V=d.children;return d=d.fallback,v?(bs(),v=o.mode,V=gf({mode:"hidden",children:V},v),d=ca(d,v,u,null),V.return=o,d.return=o,V.sibling=d,o.child=V,d=o.child,d.memoizedState=km(u),d.childLanes=jm(i,M,u),o.memoizedState=Tm,ic(null,d)):(vs(o),Am(o,V))}var ne=i.memoizedState;if(ne!==null&&(V=ne.dehydrated,V!==null)){if(S)o.flags&256?(vs(o),o.flags&=-257,o=Mm(i,o,u)):o.memoizedState!==null?(bs(),o.child=i.child,o.flags|=128,o=null):(bs(),V=d.fallback,v=o.mode,d=gf({mode:"visible",children:d.children},v),V=ca(V,v,u,null),V.flags|=2,d.return=o,V.return=o,d.sibling=V,o.child=d,ya(o,i.child,null,u),d=o.child,d.memoizedState=km(u),d.childLanes=jm(i,M,u),o.memoizedState=Tm,o=ic(null,d));else if(vs(o),dg(V)){if(M=V.nextSibling&&V.nextSibling.dataset,M)var ve=M.dgst;M=ve,d=Error(r(419)),d.stack="",d.digest=M,Zu({value:d,source:null,stack:null}),o=Mm(i,o,u)}else if(Rn||pl(i,o,u,!1),M=(u&i.childLanes)!==0,Rn||M){if(M=$t,M!==null&&(d=un(M,u),d!==0&&d!==ne.retryLane))throw ne.retryLane=d,nn(i,d),kr(M,i,d),Em;cg(V)||Ef(),o=Mm(i,o,u)}else cg(V)?(o.flags|=192,o.child=i.child,o=null):(i=ne.treeContext,Jt=yi(V.nextSibling),Qn=o,Tt=!0,hs=null,mi=!1,i!==null&&xv(o,i),o=Am(o,d.children),o.flags|=4096);return o}return v?(bs(),V=d.fallback,v=o.mode,ne=i.child,ve=ne.sibling,d=Mo(ne,{mode:"hidden",children:d.children}),d.subtreeFlags=ne.subtreeFlags&65011712,ve!==null?V=Mo(ve,V):(V=ca(V,v,u,null),V.flags|=2),V.return=o,d.return=o,d.sibling=V,o.child=d,ic(null,d),d=o.child,V=i.child.memoizedState,V===null?V=km(u):(v=V.cachePool,v!==null?(ne=Dn._currentValue,v=v.parent!==ne?{parent:ne,pool:ne}:v):v=_v(),V={baseLanes:V.baseLanes|u,cachePool:v}),d.memoizedState=V,d.childLanes=jm(i,M,u),o.memoizedState=Tm,ic(i.child,d)):(vs(o),u=i.child,i=u.sibling,u=Mo(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,i!==null&&(M=o.deletions,M===null?(o.deletions=[i],o.flags|=16):M.push(i)),o.child=u,o.memoizedState=null,u)}function Am(i,o){return o=gf({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function gf(i,o){return i=Hr(22,i,null,o),i.lanes=0,i}function Mm(i,o,u){return ya(o,i.child,null,u),i=Am(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Ib(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Zp(i.return,o,u)}function Om(i,o,u,d,v,S){var M=i.memoizedState;M===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:v,treeForkCount:S}:(M.isBackwards=o,M.rendering=null,M.renderingStartTime=0,M.last=d,M.tail=u,M.tailMode=v,M.treeForkCount=S)}function Lb(i,o,u){var d=o.pendingProps,v=d.revealOrder,S=d.tail;d=d.children;var M=En.current,V=(M&2)!==0;if(V?(M=M&1|2,o.flags|=128):M&=1,F(En,M),tr(i,o,d,u),d=Tt?qu:0,!V&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ib(i,u,o);else if(i.tag===19)Ib(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&rf(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Om(o,!1,v,u,S,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&rf(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Om(o,!0,u,null,S,d);break;case"together":Om(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Io(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ns|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(pl(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=Mo(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Mo(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Dm(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Kd(i)))}function AA(i,o,u){switch(o.tag){case 3:je(o,o.stateNode.containerInfo),ms(o,Dn,i.memoizedState.cache),da();break;case 27:case 5:We(o);break;case 4:je(o,o.stateNode.containerInfo);break;case 10:ms(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,im(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(vs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Pb(i,o,u):(vs(o),i=Io(i,o,u),i!==null?i.sibling:null);vs(o);break;case 19:var v=(i.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(pl(i,o,u,!1),d=(u&o.childLanes)!==0),v){if(d)return Lb(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),F(En,En.current),d)break;return null;case 22:return o.lanes=0,Ab(i,o,u,o.pendingProps);case 24:ms(o,Dn,i.memoizedState.cache)}return Io(i,o,u)}function Fb(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Rn=!0;else{if(!Dm(i,u)&&(o.flags&128)===0)return Rn=!1,AA(i,o,u);Rn=(i.flags&131072)!==0}else Rn=!1,Tt&&(o.flags&1048576)!==0&&yv(o,qu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(i=ma(o.elementType),o.type=i,typeof i=="function")Lp(i)?(d=va(i,d),o.tag=1,o=zb(null,o,i,d,u)):(o.tag=0,o=Cm(null,o,i,d,u));else{if(i!=null){var v=i.$$typeof;if(v===O){o.tag=11,o=Tb(null,o,i,d,u);break e}else if(v===D){o.tag=14,o=kb(null,o,i,d,u);break e}}throw o=q(i)||i,Error(r(306,o,""))}}return o;case 0:return Cm(i,o,o.type,o.pendingProps,u);case 1:return d=o.type,v=va(d,o.pendingProps),zb(i,o,d,v,u);case 3:e:{if(je(o,o.stateNode.containerInfo),i===null)throw Error(r(387));d=o.pendingProps;var S=o.memoizedState;v=S.element,Qp(i,o),Qu(o,d,null,u);var M=o.memoizedState;if(d=M.cache,ms(o,Dn,d),d!==S.cache&&Yp(o,[Dn],u,!0),Ju(),d=M.element,S.isDehydrated)if(S={element:d,isDehydrated:!1,cache:M.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=Rb(i,o,d,u);break e}else if(d!==v){v=fi(Error(r(424)),o),Zu(v),o=Rb(i,o,d,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Jt=yi(i.firstChild),Qn=o,Tt=!0,hs=null,mi=!0,u=Av(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(da(),d===v){o=Io(i,o,u);break e}tr(i,o,d,u)}o=o.child}return o;case 26:return mf(i,o),i===null?(u=Xw(o.type,null,o.pendingProps,null))?o.memoizedState=u:Tt||(u=o.type,i=o.pendingProps,d=Of(Ee.current).createElement(u),d[Lt]=o,d[cn]=i,nr(d,u,i),dn(d),o.stateNode=d):o.memoizedState=Xw(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return We(o),i===null&&Tt&&(d=o.stateNode=Yw(o.type,o.pendingProps,Ee.current),Qn=o,mi=!0,v=Jt,ks(o.type)?(fg=v,Jt=yi(d.firstChild)):Jt=v),tr(i,o,o.pendingProps.children,u),mf(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Tt&&((v=d=Jt)&&(d=sM(d,o.type,o.pendingProps,mi),d!==null?(o.stateNode=d,Qn=o,Jt=yi(d.firstChild),mi=!1,v=!0):v=!1),v||ps(o)),We(o),v=o.type,S=o.pendingProps,M=i!==null?i.memoizedProps:null,d=S.children,ag(v,S)?d=null:M!==null&&ag(v,M)&&(o.flags|=32),o.memoizedState!==null&&(v=sm(i,o,wA,null,null,u),vc._currentValue=v),mf(i,o),tr(i,o,d,u),o.child;case 6:return i===null&&Tt&&((i=u=Jt)&&(u=aM(u,o.pendingProps,mi),u!==null?(o.stateNode=u,Qn=o,Jt=null,i=!0):i=!1),i||ps(o)),null;case 13:return Pb(i,o,u);case 4:return je(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=ya(o,null,d,u):tr(i,o,d,u),o.child;case 11:return Tb(i,o,o.type,o.pendingProps,u);case 7:return tr(i,o,o.pendingProps,u),o.child;case 8:return tr(i,o,o.pendingProps.children,u),o.child;case 12:return tr(i,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,ms(o,o.type,d.value),tr(i,o,d.children,u),o.child;case 9:return v=o.type._context,d=o.pendingProps.children,ha(o),v=er(v),d=d(v),o.flags|=1,tr(i,o,d,u),o.child;case 14:return kb(i,o,o.type,o.pendingProps,u);case 15:return jb(i,o,o.type,o.pendingProps,u);case 19:return Lb(i,o,u);case 31:return jA(i,o,u);case 22:return Ab(i,o,u,o.pendingProps);case 24:return ha(o),d=er(Dn),i===null?(v=Xp(),v===null&&(v=$t,S=Gp(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=u),v=S),o.memoizedState={parent:d,cache:v},Jp(o),ms(o,Dn,v)):((i.lanes&u)!==0&&(Qp(i,o),Qu(o,null,null,u),Ju()),v=i.memoizedState,S=o.memoizedState,v.parent!==d?(v={parent:d,cache:d},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),ms(o,Dn,d)):(d=S.cache,ms(o,Dn,d),d!==v.cache&&Yp(o,[Dn],u,!0))),tr(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Lo(i){i.flags|=4}function zm(i,o,u,d,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(fw())i.flags|=8192;else throw ga=Qd,Wp}else i.flags&=-16777217}function Bb(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!t1(o))if(fw())i.flags|=8192;else throw ga=Qd,Wp}function yf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Ua():536870912,i.lanes|=o,Cl|=o)}function oc(i,o){if(!Tt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function MA(i,o,u){var d=o.pendingProps;switch($p(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return Qt(o),null;case 3:return u=o.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),zo(Dn),Se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(hl(o)?Lo(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Up())),Qt(o),null;case 26:var v=o.type,S=o.memoizedState;return i===null?(Lo(o),S!==null?(Qt(o),Bb(o,S)):(Qt(o),zm(o,v,null,d,u))):S?S!==i.memoizedState?(Lo(o),Qt(o),Bb(o,S)):(Qt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==d&&Lo(o),Qt(o),zm(o,v,i,d,u)),null;case 27:if(et(o),u=Ee.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==d&&Lo(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}i=ge.current,hl(o)?vv(o):(i=Yw(v,d,u),o.stateNode=i,Lo(o))}return Qt(o),null;case 5:if(et(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==d&&Lo(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}if(S=ge.current,hl(o))vv(o);else{var M=Of(Ee.current);switch(S){case 1:S=M.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:S=M.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":S=M.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":S=M.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":S=M.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof d.is=="string"?M.createElement("select",{is:d.is}):M.createElement("select"),d.multiple?S.multiple=!0:d.size&&(S.size=d.size);break;default:S=typeof d.is=="string"?M.createElement(v,{is:d.is}):M.createElement(v)}}S[Lt]=o,S[cn]=d;e:for(M=o.child;M!==null;){if(M.tag===5||M.tag===6)S.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===o)break e;for(;M.sibling===null;){if(M.return===null||M.return===o)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}o.stateNode=S;e:switch(nr(S,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Lo(o)}}return Qt(o),zm(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==d&&Lo(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(i=Ee.current,hl(o)){if(i=o.stateNode,u=o.memoizedProps,d=null,v=Qn,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}i[Lt]=o,i=!!(i.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||Pw(i.nodeValue,u)),i||ps(o,!0)}else i=Of(i).createTextNode(d),i[Lt]=o,o.stateNode=i}return Qt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(d=hl(o),u!==null){if(i===null){if(!d)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Lt]=o}else da(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),i=!1}else u=Up(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(qr(o),o):(qr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Qt(o),null;case 13:if(d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=hl(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Lt]=o}else da(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),v=!1}else v=Up(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(qr(o),o):(qr(o),null)}return qr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,i=i!==null&&i.memoizedState!==null,u&&(d=o.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),S=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==v&&(d.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),yf(o,o.updateQueue),Qt(o),null);case 4:return Se(),i===null&&ng(o.stateNode.containerInfo),Qt(o),null;case 10:return zo(o.type),Qt(o),null;case 19:if(J(En),d=o.memoizedState,d===null)return Qt(o),null;if(v=(o.flags&128)!==0,S=d.rendering,S===null)if(v)oc(d,!1);else{if(bn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=rf(i),S!==null){for(o.flags|=128,oc(d,!1),i=S.updateQueue,o.updateQueue=i,yf(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)pv(u,i),u=u.sibling;return F(En,En.current&1|2),Tt&&Oo(o,d.treeForkCount),o.child}i=i.sibling}d.tail!==null&&gn()>Sf&&(o.flags|=128,v=!0,oc(d,!1),o.lanes=4194304)}else{if(!v)if(i=rf(S),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,yf(o,i),oc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!S.alternate&&!Tt)return Qt(o),null}else 2*gn()-d.renderingStartTime>Sf&&u!==536870912&&(o.flags|=128,v=!0,oc(d,!1),o.lanes=4194304);d.isBackwards?(S.sibling=o.child,o.child=S):(i=d.last,i!==null?i.sibling=S:o.child=S,d.last=S)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=gn(),i.sibling=null,u=En.current,F(En,v?u&1|2:u&1),Tt&&Oo(o,d.treeForkCount),i):(Qt(o),null);case 22:case 23:return qr(o),rm(),d=o.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),u=o.updateQueue,u!==null&&yf(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),i!==null&&J(pa),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),zo(Dn),Qt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function OA(i,o){switch($p(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return zo(Dn),Se(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return et(o),null;case 31:if(o.memoizedState!==null){if(qr(o),o.alternate===null)throw Error(r(340));da()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(qr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));da()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return J(En),null;case 4:return Se(),null;case 10:return zo(o.type),null;case 22:case 23:return qr(o),rm(),i!==null&&J(pa),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return zo(Dn),null;case 25:return null;default:return null}}function Vb(i,o){switch($p(o),o.tag){case 3:zo(Dn),Se();break;case 26:case 27:case 5:et(o);break;case 4:Se();break;case 31:o.memoizedState!==null&&qr(o);break;case 13:qr(o);break;case 19:J(En);break;case 10:zo(o.type);break;case 22:case 23:qr(o),rm(),i!==null&&J(pa);break;case 24:zo(Dn)}}function sc(i,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var v=d.next;u=v;do{if((u.tag&i)===i){d=void 0;var S=u.create,M=u.inst;d=S(),M.destroy=d}u=u.next}while(u!==v)}}catch(V){It(o,o.return,V)}}function ws(i,o,u){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var S=v.next;d=S;do{if((d.tag&i)===i){var M=d.inst,V=M.destroy;if(V!==void 0){M.destroy=void 0,v=o;var ne=u,ve=V;try{ve()}catch(ke){It(v,ne,ke)}}}d=d.next}while(d!==S)}}catch(ke){It(o,o.return,ke)}}function $b(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{Ov(o,u)}catch(d){It(i,i.return,d)}}}function Hb(i,o,u){u.props=va(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(d){It(i,o,d)}}function ac(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof u=="function"?i.refCleanup=u(d):u.current=d}}catch(v){It(i,o,v)}}function Ki(i,o){var u=i.ref,d=i.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(v){It(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){It(i,o,v)}else u.current=null}function Ub(i){var o=i.type,u=i.memoizedProps,d=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(v){It(i,i.return,v)}}function Rm(i,o,u){try{var d=i.stateNode;eM(d,i.type,u,o),d[cn]=o}catch(v){It(i,i.return,v)}}function qb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ks(i.type)||i.tag===4}function Pm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ks(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Im(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Sr));else if(d!==4&&(d===27&&ks(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(Im(i,o,u),i=i.sibling;i!==null;)Im(i,o,u),i=i.sibling}function xf(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(d===27&&ks(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(xf(i,o,u),i=i.sibling;i!==null;)xf(i,o,u),i=i.sibling}function Zb(i){var o=i.stateNode,u=i.memoizedProps;try{for(var d=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);nr(o,d,u),o[Lt]=i,o[cn]=u}catch(S){It(i,i.return,S)}}var Fo=!1,Pn=!1,Lm=!1,Yb=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function DA(i,o){if(i=i.containerInfo,og=Ff,i=P(i),L(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var v=d.anchorOffset,S=d.focusNode;d=d.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var M=0,V=-1,ne=-1,ve=0,ke=0,ze=i,we=null;t:for(;;){for(var Ne;ze!==u||v!==0&&ze.nodeType!==3||(V=M+v),ze!==S||d!==0&&ze.nodeType!==3||(ne=M+d),ze.nodeType===3&&(M+=ze.nodeValue.length),(Ne=ze.firstChild)!==null;)we=ze,ze=Ne;for(;;){if(ze===i)break t;if(we===u&&++ve===v&&(V=M),we===S&&++ke===d&&(ne=M),(Ne=ze.nextSibling)!==null)break;ze=we,we=ze.parentNode}ze=Ne}u=V===-1||ne===-1?null:{start:V,end:ne}}else u=null}u=u||{start:0,end:0}}else u=null;for(sg={focusedElem:i,selectionRange:u},Ff=!1,Wn=o;Wn!==null;)if(o=Wn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Wn=i;else for(;Wn!==null;){switch(o=Wn,S=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,u=o,v=S.memoizedProps,S=S.memoizedState,d=u.stateNode;try{var Ge=va(u.type,v);i=d.getSnapshotBeforeUpdate(Ge,S),d.__reactInternalSnapshotBeforeUpdate=i}catch(st){It(u,u.return,st)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)ug(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ug(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Wn=i;break}Wn=o.return}}function Gb(i,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Vo(i,u),d&4&&sc(5,u);break;case 1:if(Vo(i,u),d&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(M){It(u,u.return,M)}else{var v=va(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(M){It(u,u.return,M)}}d&64&&$b(u),d&512&&ac(u,u.return);break;case 3:if(Vo(i,u),d&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Ov(i,o)}catch(M){It(u,u.return,M)}}break;case 27:o===null&&d&4&&Zb(u);case 26:case 5:Vo(i,u),o===null&&d&4&&Ub(u),d&512&&ac(u,u.return);break;case 12:Vo(i,u);break;case 31:Vo(i,u),d&4&&Wb(i,u);break;case 13:Vo(i,u),d&4&&Jb(i,u),d&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=$A.bind(null,u),lM(i,u))));break;case 22:if(d=u.memoizedState!==null||Fo,!d){o=o!==null&&o.memoizedState!==null||Pn,v=Fo;var S=Pn;Fo=d,(Pn=o)&&!S?$o(i,u,(u.subtreeFlags&8772)!==0):Vo(i,u),Fo=v,Pn=S}break;case 30:break;default:Vo(i,u)}}function Kb(i){var o=i.alternate;o!==null&&(i.alternate=null,Kb(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&es(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var rn=null,_r=!1;function Bo(i,o,u){for(u=u.child;u!==null;)Xb(i,o,u),u=u.sibling}function Xb(i,o,u){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(yn,u)}catch{}switch(u.tag){case 26:Pn||Ki(u,o),Bo(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Pn||Ki(u,o);var d=rn,v=_r;ks(u.type)&&(rn=u.stateNode,_r=!1),Bo(i,o,u),gc(u.stateNode),rn=d,_r=v;break;case 5:Pn||Ki(u,o);case 6:if(d=rn,v=_r,rn=null,Bo(i,o,u),rn=d,_r=v,rn!==null)if(_r)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(u.stateNode)}catch(S){It(u,o,S)}else try{rn.removeChild(u.stateNode)}catch(S){It(u,o,S)}break;case 18:rn!==null&&(_r?(i=rn,$w(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),zl(i)):$w(rn,u.stateNode));break;case 4:d=rn,v=_r,rn=u.stateNode.containerInfo,_r=!0,Bo(i,o,u),rn=d,_r=v;break;case 0:case 11:case 14:case 15:ws(2,u,o),Pn||ws(4,u,o),Bo(i,o,u);break;case 1:Pn||(Ki(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&Hb(u,o,d)),Bo(i,o,u);break;case 21:Bo(i,o,u);break;case 22:Pn=(d=Pn)||u.memoizedState!==null,Bo(i,o,u),Pn=d;break;default:Bo(i,o,u)}}function Wb(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{zl(i)}catch(u){It(o,o.return,u)}}}function Jb(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{zl(i)}catch(u){It(o,o.return,u)}}function zA(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Yb),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Yb),o;default:throw Error(r(435,i.tag))}}function vf(i,o){var u=zA(i);o.forEach(function(d){if(!u.has(d)){u.add(d);var v=HA.bind(null,i,d);d.then(v,v)}})}function Er(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var v=u[d],S=i,M=o,V=M;e:for(;V!==null;){switch(V.tag){case 27:if(ks(V.type)){rn=V.stateNode,_r=!1;break e}break;case 5:rn=V.stateNode,_r=!1;break e;case 3:case 4:rn=V.stateNode.containerInfo,_r=!0;break e}V=V.return}if(rn===null)throw Error(r(160));Xb(S,M,v),rn=null,_r=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Qb(o,i),o=o.sibling}var Mi=null;function Qb(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Er(o,i),Cr(i),d&4&&(ws(3,i,i.return),sc(3,i),ws(5,i,i.return));break;case 1:Er(o,i),Cr(i),d&512&&(Pn||u===null||Ki(u,u.return)),d&64&&Fo&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var v=Mi;if(Er(o,i),Cr(i),d&512&&(Pn||u===null||Ki(u,u.return)),d&4){var S=u!==null?u.memoizedState:null;if(d=i.memoizedState,u===null)if(d===null)if(i.stateNode===null){e:{d=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":S=v.getElementsByTagName("title")[0],(!S||S[hr]||S[Lt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(d),v.head.insertBefore(S,v.querySelector("head > title"))),nr(S,d,u),S[Lt]=i,dn(S),d=S;break e;case"link":var M=Qw("link","href",v).get(d+(u.href||""));if(M){for(var V=0;V<M.length;V++)if(S=M[V],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){M.splice(V,1);break t}}S=v.createElement(d),nr(S,d,u),v.head.appendChild(S);break;case"meta":if(M=Qw("meta","content",v).get(d+(u.content||""))){for(V=0;V<M.length;V++)if(S=M[V],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){M.splice(V,1);break t}}S=v.createElement(d),nr(S,d,u),v.head.appendChild(S);break;default:throw Error(r(468,d))}S[Lt]=i,dn(S),d=S}i.stateNode=d}else e1(v,i.type,i.stateNode);else i.stateNode=Jw(v,d,i.memoizedProps);else S!==d?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,d===null?e1(v,i.type,i.stateNode):Jw(v,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Rm(i,i.memoizedProps,u.memoizedProps)}break;case 27:Er(o,i),Cr(i),d&512&&(Pn||u===null||Ki(u,u.return)),u!==null&&d&4&&Rm(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Er(o,i),Cr(i),d&512&&(Pn||u===null||Ki(u,u.return)),i.flags&32){v=i.stateNode;try{So(v,"")}catch(Ge){It(i,i.return,Ge)}}d&4&&i.stateNode!=null&&(v=i.memoizedProps,Rm(i,v,u!==null?u.memoizedProps:v)),d&1024&&(Lm=!0);break;case 6:if(Er(o,i),Cr(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,u=i.stateNode;try{u.nodeValue=d}catch(Ge){It(i,i.return,Ge)}}break;case 3:if(Rf=null,v=Mi,Mi=Df(o.containerInfo),Er(o,i),Mi=v,Cr(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{zl(o.containerInfo)}catch(Ge){It(i,i.return,Ge)}Lm&&(Lm=!1,ew(i));break;case 4:d=Mi,Mi=Df(i.stateNode.containerInfo),Er(o,i),Cr(i),Mi=d;break;case 12:Er(o,i),Cr(i);break;case 31:Er(o,i),Cr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,vf(i,d)));break;case 13:Er(o,i),Cr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(wf=gn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,vf(i,d)));break;case 22:v=i.memoizedState!==null;var ne=u!==null&&u.memoizedState!==null,ve=Fo,ke=Pn;if(Fo=ve||v,Pn=ke||ne,Er(o,i),Pn=ke,Fo=ve,Cr(i),d&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||ne||Fo||Pn||ba(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){ne=u=o;try{if(S=ne.stateNode,v)M=S.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{V=ne.stateNode;var ze=ne.memoizedProps.style,we=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;V.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(Ge){It(ne,ne.return,Ge)}}}else if(o.tag===6){if(u===null){ne=o;try{ne.stateNode.nodeValue=v?"":ne.memoizedProps}catch(Ge){It(ne,ne.return,Ge)}}}else if(o.tag===18){if(u===null){ne=o;try{var Ne=ne.stateNode;v?Hw(Ne,!0):Hw(ne.stateNode,!1)}catch(Ge){It(ne,ne.return,Ge)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=i.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,vf(i,u))));break;case 19:Er(o,i),Cr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,vf(i,d)));break;case 30:break;case 21:break;default:Er(o,i),Cr(i)}}function Cr(i){var o=i.flags;if(o&2){try{for(var u,d=i.return;d!==null;){if(qb(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,S=Pm(i);xf(i,S,v);break;case 5:var M=u.stateNode;u.flags&32&&(So(M,""),u.flags&=-33);var V=Pm(i);xf(i,V,M);break;case 3:case 4:var ne=u.stateNode.containerInfo,ve=Pm(i);Im(i,ve,ne);break;default:throw Error(r(161))}}catch(ke){It(i,i.return,ke)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ew(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;ew(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Vo(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Gb(i,o.alternate,o),o=o.sibling}function ba(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ws(4,o,o.return),ba(o);break;case 1:Ki(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Hb(o,o.return,u),ba(o);break;case 27:gc(o.stateNode);case 26:case 5:Ki(o,o.return),ba(o);break;case 22:o.memoizedState===null&&ba(o);break;case 30:ba(o);break;default:ba(o)}i=i.sibling}}function $o(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,v=i,S=o,M=S.flags;switch(S.tag){case 0:case 11:case 15:$o(v,S,u),sc(4,S);break;case 1:if($o(v,S,u),d=S,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ve){It(d,d.return,ve)}if(d=S,v=d.updateQueue,v!==null){var V=d.stateNode;try{var ne=v.shared.hiddenCallbacks;if(ne!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ne.length;v++)Mv(ne[v],V)}catch(ve){It(d,d.return,ve)}}u&&M&64&&$b(S),ac(S,S.return);break;case 27:Zb(S);case 26:case 5:$o(v,S,u),u&&d===null&&M&4&&Ub(S),ac(S,S.return);break;case 12:$o(v,S,u);break;case 31:$o(v,S,u),u&&M&4&&Wb(v,S);break;case 13:$o(v,S,u),u&&M&4&&Jb(v,S);break;case 22:S.memoizedState===null&&$o(v,S,u),ac(S,S.return);break;case 30:break;default:$o(v,S,u)}o=o.sibling}}function Fm(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Yu(u))}function Bm(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Yu(i))}function Oi(i,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)tw(i,o,u,d),o=o.sibling}function tw(i,o,u,d){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(i,o,u,d),v&2048&&sc(9,o);break;case 1:Oi(i,o,u,d);break;case 3:Oi(i,o,u,d),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Yu(i)));break;case 12:if(v&2048){Oi(i,o,u,d),i=o.stateNode;try{var S=o.memoizedProps,M=S.id,V=S.onPostCommit;typeof V=="function"&&V(M,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ne){It(o,o.return,ne)}}else Oi(i,o,u,d);break;case 31:Oi(i,o,u,d);break;case 13:Oi(i,o,u,d);break;case 23:break;case 22:S=o.stateNode,M=o.alternate,o.memoizedState!==null?S._visibility&2?Oi(i,o,u,d):lc(i,o):S._visibility&2?Oi(i,o,u,d):(S._visibility|=2,Nl(i,o,u,d,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Fm(M,o);break;case 24:Oi(i,o,u,d),v&2048&&Bm(o.alternate,o);break;default:Oi(i,o,u,d)}}function Nl(i,o,u,d,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=i,M=o,V=u,ne=d,ve=M.flags;switch(M.tag){case 0:case 11:case 15:Nl(S,M,V,ne,v),sc(8,M);break;case 23:break;case 22:var ke=M.stateNode;M.memoizedState!==null?ke._visibility&2?Nl(S,M,V,ne,v):lc(S,M):(ke._visibility|=2,Nl(S,M,V,ne,v)),v&&ve&2048&&Fm(M.alternate,M);break;case 24:Nl(S,M,V,ne,v),v&&ve&2048&&Bm(M.alternate,M);break;default:Nl(S,M,V,ne,v)}o=o.sibling}}function lc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,d=o,v=d.flags;switch(d.tag){case 22:lc(u,d),v&2048&&Fm(d.alternate,d);break;case 24:lc(u,d),v&2048&&Bm(d.alternate,d);break;default:lc(u,d)}o=o.sibling}}var uc=8192;function _l(i,o,u){if(i.subtreeFlags&uc)for(i=i.child;i!==null;)nw(i,o,u),i=i.sibling}function nw(i,o,u){switch(i.tag){case 26:_l(i,o,u),i.flags&uc&&i.memoizedState!==null&&bM(u,Mi,i.memoizedState,i.memoizedProps);break;case 5:_l(i,o,u);break;case 3:case 4:var d=Mi;Mi=Df(i.stateNode.containerInfo),_l(i,o,u),Mi=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=uc,uc=16777216,_l(i,o,u),uc=d):_l(i,o,u));break;default:_l(i,o,u)}}function rw(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function cc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Wn=d,ow(d,i)}rw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iw(i),i=i.sibling}function iw(i){switch(i.tag){case 0:case 11:case 15:cc(i),i.flags&2048&&ws(9,i,i.return);break;case 3:cc(i);break;case 12:cc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,bf(i)):cc(i);break;default:cc(i)}}function bf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Wn=d,ow(d,i)}rw(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ws(8,o,o.return),bf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,bf(o));break;default:bf(o)}i=i.sibling}}function ow(i,o){for(;Wn!==null;){var u=Wn;switch(u.tag){case 0:case 11:case 15:ws(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Yu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Wn=d;else e:for(u=i;Wn!==null;){d=Wn;var v=d.sibling,S=d.return;if(Kb(d),d===u){Wn=null;break e}if(v!==null){v.return=S,Wn=v;break e}Wn=S}}}var RA={getCacheForType:function(i){var o=er(Dn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return er(Dn).controller.signal}},PA=typeof WeakMap=="function"?WeakMap:Map,Ot=0,$t=null,St=null,_t=0,Pt=0,Zr=null,Ss=!1,El=!1,Vm=!1,Ho=0,bn=0,Ns=0,wa=0,$m=0,Yr=0,Cl=0,dc=null,Tr=null,Hm=!1,wf=0,sw=0,Sf=1/0,Nf=null,_s=null,Hn=0,Es=null,Tl=null,Uo=0,Um=0,qm=null,aw=null,fc=0,Zm=null;function Gr(){return(Ot&2)!==0&&_t!==0?_t&-_t:$.T!==null?Jm():mo()}function lw(){if(Yr===0)if((_t&536870912)===0||Tt){var i=Bi;Bi<<=1,(Bi&3932160)===0&&(Bi=262144),Yr=i}else Yr=536870912;return i=Ur.current,i!==null&&(i.flags|=32),Yr}function kr(i,o,u){(i===$t&&(Pt===2||Pt===9)||i.cancelPendingCommit!==null)&&(kl(i,0),Cs(i,_t,Yr,!1)),br(i,u),((Ot&2)===0||i!==$t)&&(i===$t&&((Ot&2)===0&&(wa|=u),bn===4&&Cs(i,_t,Yr,!1)),Xi(i))}function uw(i,o,u){if((Ot&6)!==0)throw Error(r(327));var d=!u&&(o&127)===0&&(o&i.expiredLanes)===0||ni(i,o),v=d?FA(i,o):Gm(i,o,!0),S=d;do{if(v===0){El&&!d&&Cs(i,o,0,!1);break}else{if(u=i.current.alternate,S&&!IA(u)){v=Gm(i,o,!1),S=!1;continue}if(v===2){if(S=o,i.errorRecoveryDisabledLanes&S)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){o=M;e:{var V=i;v=dc;var ne=V.current.memoizedState.isDehydrated;if(ne&&(kl(V,M).flags|=256),M=Gm(V,M,!1),M!==2){if(Vm&&!ne){V.errorRecoveryDisabledLanes|=S,wa|=S,v=4;break e}S=Tr,Tr=v,S!==null&&(Tr===null?Tr=S:Tr.push.apply(Tr,S))}v=M}if(S=!1,v!==2)continue}}if(v===1){kl(i,0),Cs(i,o,0,!0);break}e:{switch(d=i,S=v,S){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Cs(d,o,Yr,!Ss);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=wf+300-gn(),10<v)){if(Cs(d,o,Yr,!Ss),ho(d,0,!0)!==0)break e;Uo=o,d.timeoutHandle=Bw(cw.bind(null,d,u,Tr,Nf,Hm,o,Yr,wa,Cl,Ss,S,"Throttled",-0,0),v);break e}cw(d,u,Tr,Nf,Hm,o,Yr,wa,Cl,Ss,S,null,-0,0)}}break}while(!0);Xi(i)}function cw(i,o,u,d,v,S,M,V,ne,ve,ke,ze,we,Ne){if(i.timeoutHandle=-1,ze=o.subtreeFlags,ze&8192||(ze&16785408)===16785408){ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sr},nw(o,S,ze);var Ge=(S&62914560)===S?wf-gn():(S&4194048)===S?sw-gn():0;if(Ge=wM(ze,Ge),Ge!==null){Uo=S,i.cancelPendingCommit=Ge(xw.bind(null,i,o,S,u,d,v,M,V,ne,ke,ze,null,we,Ne)),Cs(i,S,M,!ve);return}}xw(i,o,S,u,d,v,M,V,ne)}function IA(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var v=u[d],S=v.getSnapshot;v=v.value;try{if(!ar(S(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Cs(i,o,u,d){o&=~$m,o&=~wa,i.suspendedLanes|=o,i.pingedLanes&=~o,d&&(i.warmLanes|=o),d=i.expirationTimes;for(var v=o;0<v;){var S=31-Be(v),M=1<<S;d[S]=-1,v&=~M}u!==0&&po(i,u,o)}function _f(){return(Ot&6)===0?(hc(0),!1):!0}function Ym(){if(St!==null){if(Pt===0)var i=St.return;else i=St,Do=fa=null,um(i),xl=null,Ku=0,i=St;for(;i!==null;)Vb(i.alternate,i),i=i.return;St=null}}function kl(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,rM(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Uo=0,Ym(),$t=i,St=u=Mo(i.current,null),_t=o,Pt=0,Zr=null,Ss=!1,El=ni(i,o),Vm=!1,Cl=Yr=$m=wa=Ns=bn=0,Tr=dc=null,Hm=!1,(o&8)!==0&&(o|=o&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=o;0<d;){var v=31-Be(d),S=1<<v;o|=i[v],d&=~S}return Ho=o,Xn(),u}function dw(i,o){gt=null,$.H=rc,o===yl||o===Jd?(o=Tv(),Pt=3):o===Wp?(o=Tv(),Pt=4):Pt=o===Em?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zr=o,St===null&&(bn=1,hf(i,fi(o,i.current)))}function fw(){var i=Ur.current;return i===null?!0:(_t&4194048)===_t?gi===null:(_t&62914560)===_t||(_t&536870912)!==0?i===gi:!1}function hw(){var i=$.H;return $.H=rc,i===null?rc:i}function pw(){var i=$.A;return $.A=RA,i}function Ef(){bn=4,Ss||(_t&4194048)!==_t&&Ur.current!==null||(El=!0),(Ns&134217727)===0&&(wa&134217727)===0||$t===null||Cs($t,_t,Yr,!1)}function Gm(i,o,u){var d=Ot;Ot|=2;var v=hw(),S=pw();($t!==i||_t!==o)&&(Nf=null,kl(i,o)),o=!1;var M=bn;e:do try{if(Pt!==0&&St!==null){var V=St,ne=Zr;switch(Pt){case 8:Ym(),M=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(o=!0);var ve=Pt;if(Pt=0,Zr=null,jl(i,V,ne,ve),u&&El){M=0;break e}break;default:ve=Pt,Pt=0,Zr=null,jl(i,V,ne,ve)}}LA(),M=bn;break}catch(ke){dw(i,ke)}while(!0);return o&&i.shellSuspendCounter++,Do=fa=null,Ot=d,$.H=v,$.A=S,St===null&&($t=null,_t=0,Xn()),M}function LA(){for(;St!==null;)mw(St)}function FA(i,o){var u=Ot;Ot|=2;var d=hw(),v=pw();$t!==i||_t!==o?(Nf=null,Sf=gn()+500,kl(i,o)):El=ni(i,o);e:do try{if(Pt!==0&&St!==null){o=St;var S=Zr;t:switch(Pt){case 1:Pt=0,Zr=null,jl(i,o,S,1);break;case 2:case 9:if(Ev(S)){Pt=0,Zr=null,gw(o);break}o=function(){Pt!==2&&Pt!==9||$t!==i||(Pt=7),Xi(i)},S.then(o,o);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:Ev(S)?(Pt=0,Zr=null,gw(o)):(Pt=0,Zr=null,jl(i,o,S,7));break;case 5:var M=null;switch(St.tag){case 26:M=St.memoizedState;case 5:case 27:var V=St;if(M?t1(M):V.stateNode.complete){Pt=0,Zr=null;var ne=V.sibling;if(ne!==null)St=ne;else{var ve=V.return;ve!==null?(St=ve,Cf(ve)):St=null}break t}}Pt=0,Zr=null,jl(i,o,S,5);break;case 6:Pt=0,Zr=null,jl(i,o,S,6);break;case 8:Ym(),bn=6;break e;default:throw Error(r(462))}}BA();break}catch(ke){dw(i,ke)}while(!0);return Do=fa=null,$.H=d,$.A=v,Ot=u,St!==null?0:($t=null,_t=0,Xn(),bn)}function BA(){for(;St!==null&&!ti();)mw(St)}function mw(i){var o=Fb(i.alternate,i,Ho);i.memoizedProps=i.pendingProps,o===null?Cf(i):St=o}function gw(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=Db(u,o,o.pendingProps,o.type,void 0,_t);break;case 11:o=Db(u,o,o.pendingProps,o.type.render,o.ref,_t);break;case 5:um(o);default:Vb(u,o),o=St=pv(o,Ho),o=Fb(u,o,Ho)}i.memoizedProps=i.pendingProps,o===null?Cf(i):St=o}function jl(i,o,u,d){Do=fa=null,um(o),xl=null,Ku=0;var v=o.return;try{if(kA(i,v,o,u,_t)){bn=1,hf(i,fi(u,i.current)),St=null;return}}catch(S){if(v!==null)throw St=v,S;bn=1,hf(i,fi(u,i.current)),St=null;return}o.flags&32768?(Tt||d===1?i=!0:El||(_t&536870912)!==0?i=!1:(Ss=i=!0,(d===2||d===9||d===3||d===6)&&(d=Ur.current,d!==null&&d.tag===13&&(d.flags|=16384))),yw(o,i)):Cf(o)}function Cf(i){var o=i;do{if((o.flags&32768)!==0){yw(o,Ss);return}i=o.return;var u=MA(o.alternate,o,Ho);if(u!==null){St=u;return}if(o=o.sibling,o!==null){St=o;return}St=o=i}while(o!==null);bn===0&&(bn=5)}function yw(i,o){do{var u=OA(i.alternate,i);if(u!==null){u.flags&=32767,St=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){St=i;return}St=i=u}while(i!==null);bn=6,St=null}function xw(i,o,u,d,v,S,M,V,ne){i.cancelPendingCommit=null;do Tf();while(Hn!==0);if((Ot&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(S=o.lanes|o.childLanes,S|=mt,Ws(i,u,S,M,V,ne),i===$t&&(St=$t=null,_t=0),Tl=o,Es=i,Uo=u,Um=S,qm=v,aw=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,UA(tt,function(){return Nw(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,v=Y.p,Y.p=2,M=Ot,Ot|=4;try{DA(i,o,u)}finally{Ot=M,Y.p=v,$.T=d}}Hn=1,vw(),bw(),ww()}}function vw(){if(Hn===1){Hn=0;var i=Es,o=Tl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var d=Y.p;Y.p=2;var v=Ot;Ot|=4;try{Qb(o,i);var S=sg,M=P(i.containerInfo),V=S.focusedElem,ne=S.selectionRange;if(M!==V&&V&&V.ownerDocument&&j(V.ownerDocument.documentElement,V)){if(ne!==null&&L(V)){var ve=ne.start,ke=ne.end;if(ke===void 0&&(ke=ve),"selectionStart"in V)V.selectionStart=ve,V.selectionEnd=Math.min(ke,V.value.length);else{var ze=V.ownerDocument||document,we=ze&&ze.defaultView||window;if(we.getSelection){var Ne=we.getSelection(),Ge=V.textContent.length,st=Math.min(ne.start,Ge),Vt=ne.end===void 0?st:Math.min(ne.end,Ge);!Ne.extend&&st>Vt&&(M=Vt,Vt=st,st=M);var me=E(V,st),le=E(V,Vt);if(me&&le&&(Ne.rangeCount!==1||Ne.anchorNode!==me.node||Ne.anchorOffset!==me.offset||Ne.focusNode!==le.node||Ne.focusOffset!==le.offset)){var xe=ze.createRange();xe.setStart(me.node,me.offset),Ne.removeAllRanges(),st>Vt?(Ne.addRange(xe),Ne.extend(le.node,le.offset)):(xe.setEnd(le.node,le.offset),Ne.addRange(xe))}}}}for(ze=[],Ne=V;Ne=Ne.parentNode;)Ne.nodeType===1&&ze.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ze.length;V++){var Ae=ze[V];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}Ff=!!og,sg=og=null}finally{Ot=v,Y.p=d,$.T=u}}i.current=o,Hn=2}}function bw(){if(Hn===2){Hn=0;var i=Es,o=Tl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var d=Y.p;Y.p=2;var v=Ot;Ot|=4;try{Gb(i,o.alternate,o)}finally{Ot=v,Y.p=d,$.T=u}}Hn=3}}function ww(){if(Hn===4||Hn===3){Hn=0,fr();var i=Es,o=Tl,u=Uo,d=aw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Hn=5:(Hn=0,Tl=Es=null,Sw(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(_s=null),Vi(u),o=o.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(yn,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=$.T,v=Y.p,Y.p=2,$.T=null;try{for(var S=i.onRecoverableError,M=0;M<d.length;M++){var V=d[M];S(V.value,{componentStack:V.stack})}}finally{$.T=o,Y.p=v}}(Uo&3)!==0&&Tf(),Xi(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===Zm?fc++:(fc=0,Zm=i):fc=0,hc(0)}}function Sw(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Yu(o)))}function Tf(){return vw(),bw(),ww(),Nw()}function Nw(){if(Hn!==5)return!1;var i=Es,o=Um;Um=0;var u=Vi(Uo),d=$.T,v=Y.p;try{Y.p=32>u?32:u,$.T=null,u=qm,qm=null;var S=Es,M=Uo;if(Hn=0,Tl=Es=null,Uo=0,(Ot&6)!==0)throw Error(r(331));var V=Ot;if(Ot|=4,iw(S.current),tw(S,S.current,M,u),Ot=V,hc(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(yn,S)}catch{}return!0}finally{Y.p=v,$.T=d,Sw(i,o)}}function _w(i,o,u){o=fi(u,o),o=_m(i.stateNode,o,2),i=xs(i,o,2),i!==null&&(br(i,2),Xi(i))}function It(i,o,u){if(i.tag===3)_w(i,i,u);else for(;o!==null;){if(o.tag===3){_w(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(_s===null||!_s.has(d))){i=fi(u,i),u=Eb(2),d=xs(o,u,2),d!==null&&(Cb(u,d,o,i),br(d,2),Xi(d));break}}o=o.return}}function Km(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new PA;var v=new Set;d.set(o,v)}else v=d.get(o),v===void 0&&(v=new Set,d.set(o,v));v.has(u)||(Vm=!0,v.add(u),i=VA.bind(null,i,o,u),o.then(i,i))}function VA(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,$t===i&&(_t&u)===u&&(bn===4||bn===3&&(_t&62914560)===_t&&300>gn()-wf?(Ot&2)===0&&kl(i,0):$m|=u,Cl===_t&&(Cl=0)),Xi(i)}function Ew(i,o){o===0&&(o=Ua()),i=nn(i,o),i!==null&&(br(i,o),Xi(i))}function $A(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Ew(i,u)}function HA(i,o){var u=0;switch(i.tag){case 31:case 13:var d=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),Ew(i,u)}function UA(i,o){return dr(i,o)}var kf=null,Al=null,Xm=!1,jf=!1,Wm=!1,Ts=0;function Xi(i){i!==Al&&i.next===null&&(Al===null?kf=Al=i:Al=Al.next=i),jf=!0,Xm||(Xm=!0,ZA())}function hc(i,o){if(!Wm&&jf){Wm=!0;do for(var u=!1,d=kf;d!==null;){if(i!==0){var v=d.pendingLanes;if(v===0)var S=0;else{var M=d.suspendedLanes,V=d.pingedLanes;S=(1<<31-Be(42|i)+1)-1,S&=v&~(M&~V),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,jw(d,S))}else S=_t,S=ho(d,d===$t?S:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(S&3)===0||ni(d,S)||(u=!0,jw(d,S));d=d.next}while(u);Wm=!1}}function qA(){Cw()}function Cw(){jf=Xm=!1;var i=0;Ts!==0&&nM()&&(i=Ts);for(var o=gn(),u=null,d=kf;d!==null;){var v=d.next,S=Tw(d,o);S===0?(d.next=null,u===null?kf=v:u.next=v,v===null&&(Al=u)):(u=d,(i!==0||(S&3)!==0)&&(jf=!0)),d=v}Hn!==0&&Hn!==5||hc(i),Ts!==0&&(Ts=0)}function Tw(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,v=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var M=31-Be(S),V=1<<M,ne=v[M];ne===-1?((V&u)===0||(V&d)!==0)&&(v[M]=Cu(V,o)):ne<=o&&(i.expiredLanes|=V),S&=~V}if(o=$t,u=_t,u=ho(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,u===0||i===o&&(Pt===2||Pt===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Nn(d),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ni(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(d!==null&&Nn(d),Vi(u)){case 2:case 8:u=Re;break;case 32:u=tt;break;case 268435456:u=wt;break;default:u=tt}return d=kw.bind(null,i),u=dr(u,d),i.callbackPriority=o,i.callbackNode=u,o}return d!==null&&d!==null&&Nn(d),i.callbackPriority=2,i.callbackNode=null,2}function kw(i,o){if(Hn!==0&&Hn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Tf()&&i.callbackNode!==u)return null;var d=_t;return d=ho(i,i===$t?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(uw(i,d,o),Tw(i,gn()),i.callbackNode!=null&&i.callbackNode===u?kw.bind(null,i):null)}function jw(i,o){if(Tf())return null;uw(i,o,!0)}function ZA(){iM(function(){(Ot&6)!==0?dr(_e,qA):Cw()})}function Jm(){if(Ts===0){var i=ml;i===0&&(i=Ue,Ue<<=1,(Ue&261888)===0&&(Ue=256)),Ts=i}return Ts}function Aw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ai(""+i)}function Mw(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function YA(i,o,u,d,v){if(o==="submit"&&u&&u.stateNode===v){var S=Aw((v[cn]||null).action),M=d.submitter;M&&(o=(o=M[cn]||null)?Aw(o.formAction):M.getAttribute("formAction"),o!==null&&(S=o,M=null));var V=new Xa("action","action",null,d,v);i.push({event:V,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ts!==0){var ne=M?Mw(v,M):new FormData(v);xm(u,{pending:!0,data:ne,method:v.method,action:S},null,ne)}}else typeof S=="function"&&(V.preventDefault(),ne=M?Mw(v,M):new FormData(v),xm(u,{pending:!0,data:ne,method:v.method,action:S},S,ne))},currentTarget:v}]})}}for(var Qm=0;Qm<He.length;Qm++){var eg=He[Qm],GA=eg.toLowerCase(),KA=eg[0].toUpperCase()+eg.slice(1);Ie(GA,"on"+KA)}Ie(ye,"onAnimationEnd"),Ie(be,"onAnimationIteration"),Ie(Ce,"onAnimationStart"),Ie("dblclick","onDoubleClick"),Ie("focusin","onFocus"),Ie("focusout","onBlur"),Ie(De,"onTransitionRun"),Ie(Fe,"onTransitionStart"),Ie(qe,"onTransitionCancel"),Ie(Pe,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function Ow(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],v=d.event;d=d.listeners;e:{var S=void 0;if(o)for(var M=d.length-1;0<=M;M--){var V=d[M],ne=V.instance,ve=V.currentTarget;if(V=V.listener,ne!==S&&v.isPropagationStopped())break e;S=V,v.currentTarget=ve;try{S(v)}catch(ke){Ye(ke)}v.currentTarget=null,S=ne}else for(M=0;M<d.length;M++){if(V=d[M],ne=V.instance,ve=V.currentTarget,V=V.listener,ne!==S&&v.isPropagationStopped())break e;S=V,v.currentTarget=ve;try{S(v)}catch(ke){Ye(ke)}v.currentTarget=null,S=ne}}}}function Nt(i,o){var u=o[Ci];u===void 0&&(u=o[Ci]=new Set);var d=i+"__bubble";u.has(d)||(Dw(o,i,2,!1),u.add(d))}function tg(i,o,u){var d=0;o&&(d|=4),Dw(u,i,d,o)}var Af="_reactListening"+Math.random().toString(36).slice(2);function ng(i){if(!i[Af]){i[Af]=!0,Ti.forEach(function(u){u!=="selectionchange"&&(XA.has(u)||tg(u,!1,i),tg(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Af]||(o[Af]=!0,tg("selectionchange",!1,o))}}function Dw(i,o,u,d){switch(l1(o)){case 2:var v=_M;break;case 8:v=EM;break;default:v=yg}u=v.bind(null,o,u,i),v=void 0,!Au||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),d?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function rg(i,o,u,d,v){var S=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var M=d.tag;if(M===3||M===4){var V=d.stateNode.containerInfo;if(V===v)break;if(M===4)for(M=d.return;M!==null;){var ne=M.tag;if((ne===3||ne===4)&&M.stateNode.containerInfo===v)return;M=M.return}for(;V!==null;){if(M=si(V),M===null)return;if(ne=M.tag,ne===5||ne===6||ne===26||ne===27){d=S=M;continue e}V=V.parentNode}}d=d.return}rs(function(){var ve=S,ke=Ga(u),ze=[];e:{var we=Ve.get(i);if(we!==void 0){var Ne=Xa,Ge=i;switch(i){case"keypress":if(ss(u)===0)break e;case"keydown":case"keyup":Ne=rl;break;case"focusin":Ge="focus",Ne=as;break;case"focusout":Ge="blur",Ne=as;break;case"beforeblur":case"afterblur":Ne=as;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=Qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=Iu;break;case ye:case be:case Ce:Ne=Id;break;case Pe:Ne=Lu;break;case"scroll":case"scrollend":Ne=Wa;break;case"wheel":Ne=ol;break;case"copy":case"cut":case"paste":Ne=ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=Pu;break;case"toggle":case"beforetoggle":Ne=Bd}var st=(o&4)!==0,Vt=!st&&(i==="scroll"||i==="scrollend"),me=st?we!==null?we+"Capture":null:we;st=[];for(var le=ve,xe;le!==null;){var Ae=le;if(xe=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||xe===null||me===null||(Ae=Eo(le,me),Ae!=null&&st.push(mc(le,Ae,xe))),Vt)break;le=le.return}0<st.length&&(we=new Ne(we,Ge,null,u,ke),ze.push({event:we,listeners:st}))}}if((o&7)===0){e:{if(we=i==="mouseover"||i==="pointerover",Ne=i==="mouseout"||i==="pointerout",we&&u!==ui&&(Ge=u.relatedTarget||u.fromElement)&&(si(Ge)||Ge[Zn]))break e;if((Ne||we)&&(we=ke.window===ke?ke:(we=ke.ownerDocument)?we.defaultView||we.parentWindow:window,Ne?(Ge=u.relatedTarget||u.toElement,Ne=ve,Ge=Ge?si(Ge):null,Ge!==null&&(Vt=a(Ge),st=Ge.tag,Ge!==Vt||st!==5&&st!==27&&st!==6)&&(Ge=null)):(Ne=null,Ge=ve),Ne!==Ge)){if(st=Qa,Ae="onMouseLeave",me="onMouseEnter",le="mouse",(i==="pointerout"||i==="pointerover")&&(st=Pu,Ae="onPointerLeave",me="onPointerEnter",le="pointer"),Vt=Ne==null?we:or(Ne),xe=Ge==null?we:or(Ge),we=new st(Ae,le+"leave",Ne,u,ke),we.target=Vt,we.relatedTarget=xe,Ae=null,si(ke)===ve&&(st=new st(me,le+"enter",Ge,u,ke),st.target=xe,st.relatedTarget=Vt,Ae=st),Vt=Ae,Ne&&Ge)t:{for(st=WA,me=Ne,le=Ge,xe=0,Ae=me;Ae;Ae=st(Ae))xe++;Ae=0;for(var rt=le;rt;rt=st(rt))Ae++;for(;0<xe-Ae;)me=st(me),xe--;for(;0<Ae-xe;)le=st(le),Ae--;for(;xe--;){if(me===le||le!==null&&me===le.alternate){st=me;break t}me=st(me),le=st(le)}st=null}else st=null;Ne!==null&&zw(ze,we,Ne,st,!1),Ge!==null&&Vt!==null&&zw(ze,Vt,Ge,st,!0)}}e:{if(we=ve?or(ve):window,Ne=we.nodeName&&we.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&we.type==="file")var At=la;else if(ll(we))if(di)At=ds;else{At=Ao;var Je=Zd}else Ne=we.nodeName,!Ne||Ne.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?ve&&ju(ve.elementType)&&(At=la):At=Hu;if(At&&(At=At(i,ve))){$u(ze,At,u,ke);break e}Je&&Je(i,we,ve),i==="focusout"&&ve&&we.type==="number"&&ve.memoizedProps.value!=null&&Hi(we,"number",we.value)}switch(Je=ve?or(ve):window,i){case"focusin":(ll(Je)||Je.contentEditable==="true")&&(W=Je,ie=ve,oe=null);break;case"focusout":oe=ie=W=null;break;case"mousedown":fe=!0;break;case"contextmenu":case"mouseup":case"dragend":fe=!1,re(ze,u,ke);break;case"selectionchange":if(G)break;case"keydown":case"keyup":re(ze,u,ke)}var yt;if(sa)e:{switch(i){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else jo?Vu(i,u)&&(Et="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Et="onCompositionStart");Et&&(sl&&u.locale!=="ko"&&(jo||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&jo&&(yt=os()):(ci=ke,Ka="value"in ci?ci.value:ci.textContent,jo=!0)),Je=Mf(ve,Et),0<Je.length&&(Et=new nl(Et,i,null,u,ke),ze.push({event:Et,listeners:Je}),yt?Et.data=yt:(yt=$d(u),yt!==null&&(Et.data=yt)))),(yt=Rp?Hd(i,u):Pp(i,u))&&(Et=Mf(ve,"onBeforeInput"),0<Et.length&&(Je=new nl("onBeforeInput","beforeinput",null,u,ke),ze.push({event:Je,listeners:Et}),Je.data=yt)),YA(ze,i,ve,u,ke)}Ow(ze,o)})}function mc(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Mf(i,o){for(var u=o+"Capture",d=[];i!==null;){var v=i,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=Eo(i,u),v!=null&&d.unshift(mc(i,v,S)),v=Eo(i,o),v!=null&&d.push(mc(i,v,S))),i.tag===3)return d;i=i.return}return[]}function WA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function zw(i,o,u,d,v){for(var S=o._reactName,M=[];u!==null&&u!==d;){var V=u,ne=V.alternate,ve=V.stateNode;if(V=V.tag,ne!==null&&ne===d)break;V!==5&&V!==26&&V!==27||ve===null||(ne=ve,v?(ve=Eo(u,S),ve!=null&&M.unshift(mc(u,ve,ne))):v||(ve=Eo(u,S),ve!=null&&M.push(mc(u,ve,ne)))),u=u.return}M.length!==0&&i.push({event:o,listeners:M})}var JA=/\r\n?/g,QA=/\u0000|\uFFFD/g;function Rw(i){return(typeof i=="string"?i:""+i).replace(JA,`
`).replace(QA,"")}function Pw(i,o){return o=Rw(o),Rw(i)===o}function Bt(i,o,u,d,v,S){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||So(i,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&So(i,""+d);break;case"className":vo(i,"class",d);break;case"tabIndex":vo(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":vo(i,u,d);break;case"style":ku(i,d,S);break;case"data":if(o!=="object"){vo(i,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=Ai(""+d),i.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(o!=="input"&&Bt(i,o,"name",v.name,v,null),Bt(i,o,"formEncType",v.formEncType,v,null),Bt(i,o,"formMethod",v.formMethod,v,null),Bt(i,o,"formTarget",v.formTarget,v,null)):(Bt(i,o,"encType",v.encType,v,null),Bt(i,o,"method",v.method,v,null),Bt(i,o,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=Ai(""+d),i.setAttribute(u,d);break;case"onClick":d!=null&&(i.onclick=Sr);break;case"onScroll":d!=null&&Nt("scroll",i);break;case"onScrollEnd":d!=null&&Nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}u=Ai(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""+d):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":d===!0?i.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,d):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(u,d):i.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(u):i.setAttribute(u,d);break;case"popover":Nt("beforetoggle",i),Nt("toggle",i),pt(i,"popover",d);break;case"xlinkActuate":wr(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":wr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":wr(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":wr(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":wr(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":wr(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":wr(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":wr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":wr(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":pt(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Op.get(u)||u,pt(i,u,d))}}function ig(i,o,u,d,v,S){switch(u){case"style":ku(i,d,S);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof d=="string"?So(i,d):(typeof d=="number"||typeof d=="bigint")&&So(i,""+d);break;case"onScroll":d!=null&&Nt("scroll",i);break;case"onScrollEnd":d!=null&&Nt("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),S=i[cn]||null,S=S!=null?S[u]:null,typeof S=="function"&&i.removeEventListener(o,S,v),typeof d=="function")){typeof S!="function"&&S!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,d,v);break e}u in i?i[u]=d:d===!0?i.setAttribute(u,""):pt(i,u,d)}}}function nr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",i),Nt("load",i);var d=!1,v=!1,S;for(S in u)if(u.hasOwnProperty(S)){var M=u[S];if(M!=null)switch(S){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Bt(i,o,S,M,u,null)}}v&&Bt(i,o,"srcSet",u.srcSet,u,null),d&&Bt(i,o,"src",u.src,u,null);return;case"input":Nt("invalid",i);var V=S=M=v=null,ne=null,ve=null;for(d in u)if(u.hasOwnProperty(d)){var ke=u[d];if(ke!=null)switch(d){case"name":v=ke;break;case"type":M=ke;break;case"checked":ne=ke;break;case"defaultChecked":ve=ke;break;case"value":S=ke;break;case"defaultValue":V=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,o));break;default:Bt(i,o,d,ke,u,null)}}ns(i,S,V,ne,ve,M,v,!1);return;case"select":Nt("invalid",i),d=M=S=null;for(v in u)if(u.hasOwnProperty(v)&&(V=u[v],V!=null))switch(v){case"value":S=V;break;case"defaultValue":M=V;break;case"multiple":d=V;default:Bt(i,o,v,V,u,null)}o=S,u=M,i.multiple=!!d,o!=null?ji(i,!!d,o,!1):u!=null&&ji(i,!!d,u,!0);return;case"textarea":Nt("invalid",i),S=v=d=null;for(M in u)if(u.hasOwnProperty(M)&&(V=u[M],V!=null))switch(M){case"value":d=V;break;case"defaultValue":v=V;break;case"children":S=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Bt(i,o,M,V,u,null)}ta(i,d,v,S);return;case"option":for(ne in u)if(u.hasOwnProperty(ne)&&(d=u[ne],d!=null))switch(ne){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Bt(i,o,ne,d,u,null)}return;case"dialog":Nt("beforetoggle",i),Nt("toggle",i),Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":Nt("load",i);break;case"video":case"audio":for(d=0;d<pc.length;d++)Nt(pc[d],i);break;case"image":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"embed":case"source":case"link":Nt("error",i),Nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in u)if(u.hasOwnProperty(ve)&&(d=u[ve],d!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Bt(i,o,ve,d,u,null)}return;default:if(ju(o)){for(ke in u)u.hasOwnProperty(ke)&&(d=u[ke],d!==void 0&&ig(i,o,ke,d,u,void 0));return}}for(V in u)u.hasOwnProperty(V)&&(d=u[V],d!=null&&Bt(i,o,V,d,u,null))}function eM(i,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,M=null,V=null,ne=null,ve=null,ke=null;for(Ne in u){var ze=u[Ne];if(u.hasOwnProperty(Ne)&&ze!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":ne=ze;default:d.hasOwnProperty(Ne)||Bt(i,o,Ne,null,d,ze)}}for(var we in d){var Ne=d[we];if(ze=u[we],d.hasOwnProperty(we)&&(Ne!=null||ze!=null))switch(we){case"type":S=Ne;break;case"name":v=Ne;break;case"checked":ve=Ne;break;case"defaultChecked":ke=Ne;break;case"value":M=Ne;break;case"defaultValue":V=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,o));break;default:Ne!==ze&&Bt(i,o,we,Ne,d,ze)}}li(i,M,V,ne,ve,ke,S,v);return;case"select":Ne=M=V=we=null;for(S in u)if(ne=u[S],u.hasOwnProperty(S)&&ne!=null)switch(S){case"value":break;case"multiple":Ne=ne;default:d.hasOwnProperty(S)||Bt(i,o,S,null,d,ne)}for(v in d)if(S=d[v],ne=u[v],d.hasOwnProperty(v)&&(S!=null||ne!=null))switch(v){case"value":we=S;break;case"defaultValue":V=S;break;case"multiple":M=S;default:S!==ne&&Bt(i,o,v,S,d,ne)}o=V,u=M,d=Ne,we!=null?ji(i,!!u,we,!1):!!d!=!!u&&(o!=null?ji(i,!!u,o,!0):ji(i,!!u,u?[]:"",!1));return;case"textarea":Ne=we=null;for(V in u)if(v=u[V],u.hasOwnProperty(V)&&v!=null&&!d.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Bt(i,o,V,null,d,v)}for(M in d)if(v=d[M],S=u[M],d.hasOwnProperty(M)&&(v!=null||S!=null))switch(M){case"value":we=v;break;case"defaultValue":Ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==S&&Bt(i,o,M,v,d,S)}Tu(i,we,Ne);return;case"option":for(var Ge in u)if(we=u[Ge],u.hasOwnProperty(Ge)&&we!=null&&!d.hasOwnProperty(Ge))switch(Ge){case"selected":i.selected=!1;break;default:Bt(i,o,Ge,null,d,we)}for(ne in d)if(we=d[ne],Ne=u[ne],d.hasOwnProperty(ne)&&we!==Ne&&(we!=null||Ne!=null))switch(ne){case"selected":i.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:Bt(i,o,ne,we,d,Ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in u)we=u[st],u.hasOwnProperty(st)&&we!=null&&!d.hasOwnProperty(st)&&Bt(i,o,st,null,d,we);for(ve in d)if(we=d[ve],Ne=u[ve],d.hasOwnProperty(ve)&&we!==Ne&&(we!=null||Ne!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,o));break;default:Bt(i,o,ve,we,d,Ne)}return;default:if(ju(o)){for(var Vt in u)we=u[Vt],u.hasOwnProperty(Vt)&&we!==void 0&&!d.hasOwnProperty(Vt)&&ig(i,o,Vt,void 0,d,we);for(ke in d)we=d[ke],Ne=u[ke],!d.hasOwnProperty(ke)||we===Ne||we===void 0&&Ne===void 0||ig(i,o,ke,we,d,Ne);return}}for(var me in u)we=u[me],u.hasOwnProperty(me)&&we!=null&&!d.hasOwnProperty(me)&&Bt(i,o,me,null,d,we);for(ze in d)we=d[ze],Ne=u[ze],!d.hasOwnProperty(ze)||we===Ne||we==null&&Ne==null||Bt(i,o,ze,we,d,Ne)}function Iw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tM(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var v=u[d],S=v.transferSize,M=v.initiatorType,V=v.duration;if(S&&V&&Iw(M)){for(M=0,V=v.responseEnd,d+=1;d<u.length;d++){var ne=u[d],ve=ne.startTime;if(ve>V)break;var ke=ne.transferSize,ze=ne.initiatorType;ke&&Iw(ze)&&(ne=ne.responseEnd,M+=ke*(ne<V?1:(V-ve)/(ne-ve)))}if(--d,o+=8*(S+M)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var og=null,sg=null;function Of(i){return i.nodeType===9?i:i.ownerDocument}function Lw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fw(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function ag(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var lg=null;function nM(){var i=window.event;return i&&i.type==="popstate"?i===lg?!1:(lg=i,!0):(lg=null,!1)}var Bw=typeof setTimeout=="function"?setTimeout:void 0,rM=typeof clearTimeout=="function"?clearTimeout:void 0,Vw=typeof Promise=="function"?Promise:void 0,iM=typeof queueMicrotask=="function"?queueMicrotask:typeof Vw<"u"?function(i){return Vw.resolve(null).then(i).catch(oM)}:Bw;function oM(i){setTimeout(function(){throw i})}function ks(i){return i==="head"}function $w(i,o){var u=o,d=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(d===0){i.removeChild(v),zl(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")gc(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,gc(u);for(var S=u.firstChild;S;){var M=S.nextSibling,V=S.nodeName;S[hr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=M}}else u==="body"&&gc(i.ownerDocument.body);u=v}while(u);zl(o)}function Hw(i,o){var u=i;i=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=d}while(u)}function ug(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ug(u),es(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function sM(i,o,u,d){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[hr])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=yi(i.nextSibling),i===null)break}return null}function aM(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=yi(i.nextSibling),i===null))return null;return i}function Uw(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=yi(i.nextSibling),i===null))return null;return i}function cg(i){return i.data==="$?"||i.data==="$~"}function dg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function lM(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function yi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var fg=null;function qw(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return yi(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function Zw(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function Yw(i,o,u){switch(o=Of(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function gc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);es(i)}var xi=new Map,Gw=new Set;function Df(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var qo=Y.d;Y.d={f:uM,r:cM,D:dM,C:fM,L:hM,m:pM,X:gM,S:mM,M:yM};function uM(){var i=qo.f(),o=_f();return i||o}function cM(i){var o=zt(i);o!==null&&o.tag===5&&o.type==="form"?db(o):qo.r(i)}var Ml=typeof document>"u"?null:document;function Kw(i,o,u){var d=Ml;if(d&&typeof o=="string"&&o){var v=xn(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),Gw.has(v)||(Gw.add(v),i={rel:i,crossOrigin:u,href:o},d.querySelector(v)===null&&(o=d.createElement("link"),nr(o,"link",i),dn(o),d.head.appendChild(o)))}}function dM(i){qo.D(i),Kw("dns-prefetch",i,null)}function fM(i,o){qo.C(i,o),Kw("preconnect",i,o)}function hM(i,o,u){qo.L(i,o,u);var d=Ml;if(d&&i&&o){var v='link[rel="preload"][as="'+xn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+xn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+xn(u.imageSizes)+'"]')):v+='[href="'+xn(i)+'"]';var S=v;switch(o){case"style":S=Ol(i);break;case"script":S=Dl(i)}xi.has(S)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),xi.set(S,i),d.querySelector(v)!==null||o==="style"&&d.querySelector(yc(S))||o==="script"&&d.querySelector(xc(S))||(o=d.createElement("link"),nr(o,"link",i),dn(o),d.head.appendChild(o)))}}function pM(i,o){qo.m(i,o);var u=Ml;if(u&&i){var d=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+xn(d)+'"][href="'+xn(i)+'"]',S=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Dl(i)}if(!xi.has(S)&&(i=g({rel:"modulepreload",href:i},o),xi.set(S,i),u.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(xc(S)))return}d=u.createElement("link"),nr(d,"link",i),dn(d),u.head.appendChild(d)}}}function mM(i,o,u){qo.S(i,o,u);var d=Ml;if(d&&i){var v=Yn(d).hoistableStyles,S=Ol(i);o=o||"default";var M=v.get(S);if(!M){var V={loading:0,preload:null};if(M=d.querySelector(yc(S)))V.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=xi.get(S))&&hg(i,u);var ne=M=d.createElement("link");dn(ne),nr(ne,"link",i),ne._p=new Promise(function(ve,ke){ne.onload=ve,ne.onerror=ke}),ne.addEventListener("load",function(){V.loading|=1}),ne.addEventListener("error",function(){V.loading|=2}),V.loading|=4,zf(M,o,d)}M={type:"stylesheet",instance:M,count:1,state:V},v.set(S,M)}}}function gM(i,o){qo.X(i,o);var u=Ml;if(u&&i){var d=Yn(u).hoistableScripts,v=Dl(i),S=d.get(v);S||(S=u.querySelector(xc(v)),S||(i=g({src:i,async:!0},o),(o=xi.get(v))&&pg(i,o),S=u.createElement("script"),dn(S),nr(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(v,S))}}function yM(i,o){qo.M(i,o);var u=Ml;if(u&&i){var d=Yn(u).hoistableScripts,v=Dl(i),S=d.get(v);S||(S=u.querySelector(xc(v)),S||(i=g({src:i,async:!0,type:"module"},o),(o=xi.get(v))&&pg(i,o),S=u.createElement("script"),dn(S),nr(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(v,S))}}function Xw(i,o,u,d){var v=(v=Ee.current)?Df(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ol(u.href),u=Yn(v).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Ol(u.href);var S=Yn(v).hoistableStyles,M=S.get(i);if(M||(v=v.ownerDocument||v,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,M),(S=v.querySelector(yc(i)))&&!S._p&&(M.instance=S,M.state.loading=5),xi.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},xi.set(i,u),S||xM(v,i,u,M.state))),o&&d===null)throw Error(r(528,""));return M}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Dl(u),u=Yn(v).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ol(i){return'href="'+xn(i)+'"'}function yc(i){return'link[rel="stylesheet"]['+i+"]"}function Ww(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function xM(i,o,u,d){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=i.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),nr(o,"link",u),dn(o),i.head.appendChild(o))}function Dl(i){return'[src="'+xn(i)+'"]'}function xc(i){return"script[async]"+i}function Jw(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=i.querySelector('style[data-href~="'+xn(u.href)+'"]');if(d)return o.instance=d,dn(d),d;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),dn(d),nr(d,"style",v),zf(d,u.precedence,i),o.instance=d;case"stylesheet":v=Ol(u.href);var S=i.querySelector(yc(v));if(S)return o.state.loading|=4,o.instance=S,dn(S),S;d=Ww(u),(v=xi.get(v))&&hg(d,v),S=(i.ownerDocument||i).createElement("link"),dn(S);var M=S;return M._p=new Promise(function(V,ne){M.onload=V,M.onerror=ne}),nr(S,"link",d),o.state.loading|=4,zf(S,u.precedence,i),o.instance=S;case"script":return S=Dl(u.src),(v=i.querySelector(xc(S)))?(o.instance=v,dn(v),v):(d=u,(v=xi.get(S))&&(d=g({},u),pg(d,v)),i=i.ownerDocument||i,v=i.createElement("script"),dn(v),nr(v,"link",d),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,zf(d,u.precedence,i));return o.instance}function zf(i,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,S=v,M=0;M<d.length;M++){var V=d[M];if(V.dataset.precedence===o)S=V;else if(S!==v)break}S?S.parentNode.insertBefore(i,S.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function hg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function pg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Rf=null;function Qw(i,o,u){if(Rf===null){var d=new Map,v=Rf=new Map;v.set(u,d)}else v=Rf,d=v.get(u),d||(d=new Map,v.set(u,d));if(d.has(i))return d;for(d.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var S=u[v];if(!(S[hr]||S[Lt]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var M=S.getAttribute(o)||"";M=i+M;var V=d.get(M);V?V.push(S):d.set(M,[S])}}return d}function e1(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function vM(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function t1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function bM(i,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Ol(d.href),S=o.querySelector(yc(v));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Pf.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=S,dn(S);return}S=o.ownerDocument||o,d=Ww(d),(v=xi.get(v))&&hg(d,v),S=S.createElement("link"),dn(S);var M=S;M._p=new Promise(function(V,ne){M.onload=V,M.onerror=ne}),nr(S,"link",d),u.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Pf.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var mg=0;function wM(i,o){return i.stylesheets&&i.count===0&&Lf(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var d=setTimeout(function(){if(i.stylesheets&&Lf(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+o);0<i.imgBytes&&mg===0&&(mg=62500*tM());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Lf(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>mg?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function Pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var If=null;function Lf(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,If=new Map,o.forEach(SM,i),If=null,Pf.call(i))}function SM(i,o){if(!(o.state.loading&4)){var u=If.get(i);if(u)var d=u.get(null);else{u=new Map,If.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var M=v[S];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(u.set(M.dataset.precedence,M),d=M)}d&&u.set(null,d)}v=o.instance,M=v.getAttribute("data-precedence"),S=u.get(M)||d,S===d&&u.set(null,v),u.set(M,v),this.count++,d=Pf.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),S?S.parentNode.insertBefore(v,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var vc={$$typeof:k,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function NM(i,o,u,d,v,S,M,V,ne){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function n1(i,o,u,d,v,S,M,V,ne,ve,ke,ze){return i=new NM(i,o,u,M,ne,ve,ke,ze,V),o=1,S===!0&&(o|=24),S=Hr(3,null,null,o),i.current=S,S.stateNode=i,o=Gp(),o.refCount++,i.pooledCache=o,o.refCount++,S.memoizedState={element:d,isDehydrated:u,cache:o},Jp(S),i}function r1(i){return i?(i=Nr,i):Nr}function i1(i,o,u,d,v,S){v=r1(v),d.context===null?d.context=v:d.pendingContext=v,d=ys(o),d.payload={element:u},S=S===void 0?null:S,S!==null&&(d.callback=S),u=xs(i,d,o),u!==null&&(kr(u,i,o),Wu(u,i,o))}function o1(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function gg(i,o){o1(i,o),(i=i.alternate)&&o1(i,o)}function s1(i){if(i.tag===13||i.tag===31){var o=nn(i,67108864);o!==null&&kr(o,i,67108864),gg(i,67108864)}}function a1(i){if(i.tag===13||i.tag===31){var o=Gr();o=Js(o);var u=nn(i,o);u!==null&&kr(u,i,o),gg(i,o)}}var Ff=!0;function _M(i,o,u,d){var v=$.T;$.T=null;var S=Y.p;try{Y.p=2,yg(i,o,u,d)}finally{Y.p=S,$.T=v}}function EM(i,o,u,d){var v=$.T;$.T=null;var S=Y.p;try{Y.p=8,yg(i,o,u,d)}finally{Y.p=S,$.T=v}}function yg(i,o,u,d){if(Ff){var v=xg(d);if(v===null)rg(i,o,d,Bf,u),u1(i,d);else if(TM(v,i,o,u,d))d.stopPropagation();else if(u1(i,d),o&4&&-1<CM.indexOf(i)){for(;v!==null;){var S=zt(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var M=Br(S.pendingLanes);if(M!==0){var V=S;for(V.pendingLanes|=2,V.entangledLanes|=2;M;){var ne=1<<31-Be(M);V.entanglements[1]|=ne,M&=~ne}Xi(S),(Ot&6)===0&&(Sf=gn()+500,hc(0))}}break;case 31:case 13:V=nn(S,2),V!==null&&kr(V,S,2),_f(),gg(S,2)}if(S=xg(d),S===null&&rg(i,o,d,Bf,u),S===v)break;v=S}v!==null&&d.stopPropagation()}else rg(i,o,d,null,u)}}function xg(i){return i=Ga(i),vg(i)}var Bf=null;function vg(i){if(Bf=null,i=si(i),i!==null){var o=a(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Bf=i,null}function l1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vr()){case _e:return 2;case Re:return 8;case tt:case ft:return 32;case wt:return 268435456;default:return 32}default:return 32}}var bg=!1,js=null,As=null,Ms=null,bc=new Map,wc=new Map,Os=[],CM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u1(i,o){switch(i){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":bc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(o.pointerId)}}function Sc(i,o,u,d,v,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:S,targetContainers:[v]},o!==null&&(o=zt(o),o!==null&&s1(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function TM(i,o,u,d,v){switch(o){case"focusin":return js=Sc(js,i,o,u,d,v),!0;case"dragenter":return As=Sc(As,i,o,u,d,v),!0;case"mouseover":return Ms=Sc(Ms,i,o,u,d,v),!0;case"pointerover":var S=v.pointerId;return bc.set(S,Sc(bc.get(S)||null,i,o,u,d,v)),!0;case"gotpointercapture":return S=v.pointerId,wc.set(S,Sc(wc.get(S)||null,i,o,u,d,v)),!0}return!1}function c1(i){var o=si(i.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,go(i.priority,function(){a1(u)});return}}else if(o===31){if(o=c(u),o!==null){i.blockedOn=o,go(i.priority,function(){a1(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vf(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=xg(i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);ui=d,u.target.dispatchEvent(d),ui=null}else return o=zt(u),o!==null&&s1(o),i.blockedOn=u,!1;o.shift()}return!0}function d1(i,o,u){Vf(i)&&u.delete(o)}function kM(){bg=!1,js!==null&&Vf(js)&&(js=null),As!==null&&Vf(As)&&(As=null),Ms!==null&&Vf(Ms)&&(Ms=null),bc.forEach(d1),wc.forEach(d1)}function $f(i,o){i.blockedOn===o&&(i.blockedOn=null,bg||(bg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kM)))}var Hf=null;function f1(i){Hf!==i&&(Hf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hf===i&&(Hf=null);for(var o=0;o<i.length;o+=3){var u=i[o],d=i[o+1],v=i[o+2];if(typeof d!="function"){if(vg(d||u)===null)continue;break}var S=zt(u);S!==null&&(i.splice(o,3),o-=3,xm(S,{pending:!0,data:v,method:u.method,action:d},d,v))}}))}function zl(i){function o(ne){return $f(ne,i)}js!==null&&$f(js,i),As!==null&&$f(As,i),Ms!==null&&$f(Ms,i),bc.forEach(o),wc.forEach(o);for(var u=0;u<Os.length;u++){var d=Os[u];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Os.length&&(u=Os[0],u.blockedOn===null);)c1(u),u.blockedOn===null&&Os.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var v=u[d],S=u[d+1],M=v[cn]||null;if(typeof S=="function")M||f1(u);else if(M){var V=null;if(S&&S.hasAttribute("formAction")){if(v=S,M=S[cn]||null)V=M.formAction;else if(vg(v)!==null)continue}else V=M.action;typeof V=="function"?u[d+1]=V:(u.splice(d,3),d-=3),f1(u)}}}function h1(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(M){return v=M})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function wg(i){this._internalRoot=i}Uf.prototype.render=wg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=Gr();i1(u,d,i,o,null,null)},Uf.prototype.unmount=wg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;i1(i.current,2,null,i,null,null),_f(),o[Zn]=null}};function Uf(i){this._internalRoot=i}Uf.prototype.unstable_scheduleHydration=function(i){if(i){var o=mo();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Os.length&&o!==0&&o<Os[u].priority;u++);Os.splice(u,0,i),u===0&&c1(i)}};var p1=t.version;if(p1!=="19.2.0")throw Error(r(527,p1,"19.2.0"));Y.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var jM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qf.isDisabled&&qf.supportsFiber)try{yn=qf.inject(jM),Gt=qf}catch{}}return _c.createRoot=function(i,o){if(!s(i))throw Error(r(299));var u=!1,d="",v=wb,S=Sb,M=Nb;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError)),o=n1(i,1,!1,null,null,u,d,null,v,S,M,h1),i[Zn]=o.current,ng(i),new wg(o)},_c.hydrateRoot=function(i,o,u){if(!s(i))throw Error(r(299));var d=!1,v="",S=wb,M=Sb,V=Nb,ne=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError),u.formState!==void 0&&(ne=u.formState)),o=n1(i,1,!0,o,u??null,d,v,ne,S,M,V,h1),o.context=r1(null),u=o.current,d=Gr(),d=Js(d),v=ys(d),v.callback=null,xs(u,v,d),u=d,o.current.lanes=u,br(o,u),Xi(o),i[Zn]=o.current,ng(i),new Uf(o)},_c.version="19.2.0",_c}var _1;function VM(){if(_1)return _g.exports;_1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_g.exports=BM(),_g.exports}var $M=VM();function Bn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Bn(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var HM={value:()=>{}};function sp(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Nh(n)}function Nh(e){this._=e}function UM(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Nh.prototype=sp.prototype={constructor:Nh,on:function(e,t){var n=this._,r=UM(e+"",n),s,a=-1,l=r.length;if(arguments.length<2){for(;++a<l;)if((s=(e=r[a]).type)&&(s=qM(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<l;)if(s=(e=r[a]).type)n[s]=E1(n[s],e.name,t);else if(t==null)for(s in n)n[s]=E1(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Nh(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,s=a.length;r<s;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,a=r.length;s<a;++s)r[s].value.apply(t,n)}};function qM(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function E1(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=HM,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ky="http://www.w3.org/1999/xhtml";const C1={svg:"http://www.w3.org/2000/svg",xhtml:ky,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ap(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),C1.hasOwnProperty(t)?{space:C1[t],local:e}:e}function ZM(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ky&&t.documentElement.namespaceURI===ky?t.createElement(e):t.createElementNS(n,e)}}function YM(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function AE(e){var t=ap(e);return(t.local?YM:ZM)(t)}function GM(){}function O0(e){return e==null?GM:function(){return this.querySelector(e)}}function KM(e){typeof e!="function"&&(e=O0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],l=a.length,c=r[s]=new Array(l),f,h,m=0;m<l;++m)(f=a[m])&&(h=e.call(f,f.__data__,m,a))&&("__data__"in f&&(h.__data__=f.__data__),c[m]=h);return new ei(r,this._parents)}function XM(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function WM(){return[]}function ME(e){return e==null?WM:function(){return this.querySelectorAll(e)}}function JM(e){return function(){return XM(e.apply(this,arguments))}}function QM(e){typeof e=="function"?e=JM(e):e=ME(e);for(var t=this._groups,n=t.length,r=[],s=[],a=0;a<n;++a)for(var l=t[a],c=l.length,f,h=0;h<c;++h)(f=l[h])&&(r.push(e.call(f,f.__data__,h,l)),s.push(f));return new ei(r,s)}function OE(e){return function(){return this.matches(e)}}function DE(e){return function(t){return t.matches(e)}}var eO=Array.prototype.find;function tO(e){return function(){return eO.call(this.children,e)}}function nO(){return this.firstElementChild}function rO(e){return this.select(e==null?nO:tO(typeof e=="function"?e:DE(e)))}var iO=Array.prototype.filter;function oO(){return Array.from(this.children)}function sO(e){return function(){return iO.call(this.children,e)}}function aO(e){return this.selectAll(e==null?oO:sO(typeof e=="function"?e:DE(e)))}function lO(e){typeof e!="function"&&(e=OE(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],l=a.length,c=r[s]=[],f,h=0;h<l;++h)(f=a[h])&&e.call(f,f.__data__,h,a)&&c.push(f);return new ei(r,this._parents)}function zE(e){return new Array(e.length)}function uO(){return new ei(this._enter||this._groups.map(zE),this._parents)}function zh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}zh.prototype={constructor:zh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cO(e){return function(){return e}}function dO(e,t,n,r,s,a){for(var l=0,c,f=t.length,h=a.length;l<h;++l)(c=t[l])?(c.__data__=a[l],r[l]=c):n[l]=new zh(e,a[l]);for(;l<f;++l)(c=t[l])&&(s[l]=c)}function fO(e,t,n,r,s,a,l){var c,f,h=new Map,m=t.length,g=a.length,y=new Array(m),b;for(c=0;c<m;++c)(f=t[c])&&(y[c]=b=l.call(f,f.__data__,c,t)+"",h.has(b)?s[c]=f:h.set(b,f));for(c=0;c<g;++c)b=l.call(e,a[c],c,a)+"",(f=h.get(b))?(r[c]=f,f.__data__=a[c],h.delete(b)):n[c]=new zh(e,a[c]);for(c=0;c<m;++c)(f=t[c])&&h.get(y[c])===f&&(s[c]=f)}function hO(e){return e.__data__}function pO(e,t){if(!arguments.length)return Array.from(this,hO);var n=t?fO:dO,r=this._parents,s=this._groups;typeof e!="function"&&(e=cO(e));for(var a=s.length,l=new Array(a),c=new Array(a),f=new Array(a),h=0;h<a;++h){var m=r[h],g=s[h],y=g.length,b=mO(e.call(m,m&&m.__data__,h,r)),C=b.length,N=c[h]=new Array(C),T=l[h]=new Array(C),_=f[h]=new Array(y);n(m,g,N,T,_,b,t);for(var A=0,k=0,O,R;A<C;++A)if(O=N[A]){for(A>=k&&(k=A+1);!(R=T[k])&&++k<C;);O._next=R||null}}return l=new ei(l,r),l._enter=c,l._exit=f,l}function mO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gO(){return new ei(this._exit||this._groups.map(zE),this._parents)}function yO(e,t,n){var r=this.enter(),s=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function xO(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,a=r.length,l=Math.min(s,a),c=new Array(s),f=0;f<l;++f)for(var h=n[f],m=r[f],g=h.length,y=c[f]=new Array(g),b,C=0;C<g;++C)(b=h[C]||m[C])&&(y[C]=b);for(;f<s;++f)c[f]=n[f];return new ei(c,this._parents)}function vO(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,a=r[s],l;--s>=0;)(l=r[s])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function bO(e){e||(e=wO);function t(g,y){return g&&y?e(g.__data__,y.__data__):!g-!y}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var l=n[a],c=l.length,f=s[a]=new Array(c),h,m=0;m<c;++m)(h=l[m])&&(f[m]=h);f.sort(t)}return new ei(s,this._parents).order()}function wO(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function SO(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function NO(){return Array.from(this)}function _O(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,a=r.length;s<a;++s){var l=r[s];if(l)return l}return null}function EO(){let e=0;for(const t of this)++e;return e}function CO(){return!this.node()}function TO(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],a=0,l=s.length,c;a<l;++a)(c=s[a])&&e.call(c,c.__data__,a,s);return this}function kO(e){return function(){this.removeAttribute(e)}}function jO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function AO(e,t){return function(){this.setAttribute(e,t)}}function MO(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function OO(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function DO(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function zO(e,t){var n=ap(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?jO:kO:typeof t=="function"?n.local?DO:OO:n.local?MO:AO)(n,t))}function RE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function RO(e){return function(){this.style.removeProperty(e)}}function PO(e,t,n){return function(){this.style.setProperty(e,t,n)}}function IO(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function LO(e,t,n){return arguments.length>1?this.each((t==null?RO:typeof t=="function"?IO:PO)(e,t,n??"")):ou(this.node(),e)}function ou(e,t){return e.style.getPropertyValue(t)||RE(e).getComputedStyle(e,null).getPropertyValue(t)}function FO(e){return function(){delete this[e]}}function BO(e,t){return function(){this[e]=t}}function VO(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function $O(e,t){return arguments.length>1?this.each((t==null?FO:typeof t=="function"?VO:BO)(e,t)):this.node()[e]}function PE(e){return e.trim().split(/^|\s+/)}function D0(e){return e.classList||new IE(e)}function IE(e){this._node=e,this._names=PE(e.getAttribute("class")||"")}IE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function LE(e,t){for(var n=D0(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function FE(e,t){for(var n=D0(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function HO(e){return function(){LE(this,e)}}function UO(e){return function(){FE(this,e)}}function qO(e,t){return function(){(t.apply(this,arguments)?LE:FE)(this,e)}}function ZO(e,t){var n=PE(e+"");if(arguments.length<2){for(var r=D0(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?qO:t?HO:UO)(n,t))}function YO(){this.textContent=""}function GO(e){return function(){this.textContent=e}}function KO(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function XO(e){return arguments.length?this.each(e==null?YO:(typeof e=="function"?KO:GO)(e)):this.node().textContent}function WO(){this.innerHTML=""}function JO(e){return function(){this.innerHTML=e}}function QO(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function eD(e){return arguments.length?this.each(e==null?WO:(typeof e=="function"?QO:JO)(e)):this.node().innerHTML}function tD(){this.nextSibling&&this.parentNode.appendChild(this)}function nD(){return this.each(tD)}function rD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iD(){return this.each(rD)}function oD(e){var t=typeof e=="function"?e:AE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function sD(){return null}function aD(e,t){var n=typeof e=="function"?e:AE(e),r=t==null?sD:typeof t=="function"?t:O0(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lD(){var e=this.parentNode;e&&e.removeChild(this)}function uD(){return this.each(lD)}function cD(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dD(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fD(e){return this.select(e?dD:cD)}function hD(e){return arguments.length?this.property("__data__",e):this.node().__data__}function pD(e){return function(t){e.call(this,t,this.__data__)}}function mD(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function gD(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function yD(e,t,n){return function(){var r=this.__on,s,a=pD(t);if(r){for(var l=0,c=r.length;l<c;++l)if((s=r[l]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(s):this.__on=[s]}}function xD(e,t,n){var r=mD(e+""),s,a=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,h=c.length,m;f<h;++f)for(s=0,m=c[f];s<a;++s)if((l=r[s]).type===m.type&&l.name===m.name)return m.value}return}for(c=t?yD:gD,s=0;s<a;++s)this.each(c(r[s],t,n));return this}function BE(e,t,n){var r=RE(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function vD(e,t){return function(){return BE(this,e,t)}}function bD(e,t){return function(){return BE(this,e,t.apply(this,arguments))}}function wD(e,t){return this.each((typeof t=="function"?bD:vD)(e,t))}function*SD(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,a=r.length,l;s<a;++s)(l=r[s])&&(yield l)}var VE=[null];function ei(e,t){this._groups=e,this._parents=t}function bd(){return new ei([[document.documentElement]],VE)}function ND(){return this}ei.prototype=bd.prototype={constructor:ei,select:KM,selectAll:QM,selectChild:rO,selectChildren:aO,filter:lO,data:pO,enter:uO,exit:gO,join:yO,merge:xO,selection:ND,order:vO,sort:bO,call:SO,nodes:NO,node:_O,size:EO,empty:CO,each:TO,attr:zO,style:LO,property:$O,classed:ZO,text:XO,html:eD,raise:nD,lower:iD,append:oD,insert:aD,remove:uD,clone:fD,datum:hD,on:xD,dispatch:wD,[Symbol.iterator]:SD};function Xr(e){return typeof e=="string"?new ei([[document.querySelector(e)]],[document.documentElement]):new ei([[e]],VE)}function _D(e){let t;for(;t=e.sourceEvent;)e=t;return e}function zi(e,t){if(e=_D(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const ED={passive:!1},nd={capture:!0,passive:!1};function kg(e){e.stopImmediatePropagation()}function Ql(e){e.preventDefault(),e.stopImmediatePropagation()}function $E(e){var t=e.document.documentElement,n=Xr(e).on("dragstart.drag",Ql,nd);"onselectstart"in t?n.on("selectstart.drag",Ql,nd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function HE(e,t){var n=e.document.documentElement,r=Xr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ql,nd),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Zf=e=>()=>e;function jy(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:a,x:l,y:c,dx:f,dy:h,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:m}})}jy.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function CD(e){return!e.ctrlKey&&!e.button}function TD(){return this.parentNode}function kD(e,t){return t??{x:e.x,y:e.y}}function jD(){return navigator.maxTouchPoints||"ontouchstart"in this}function UE(){var e=CD,t=TD,n=kD,r=jD,s={},a=sp("start","drag","end"),l=0,c,f,h,m,g=0;function y(O){O.on("mousedown.drag",b).filter(r).on("touchstart.drag",T).on("touchmove.drag",_,ED).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(O,R){if(!(m||!e.call(this,O,R))){var z=k(this,t.call(this,O,R),O,R,"mouse");z&&(Xr(O.view).on("mousemove.drag",C,nd).on("mouseup.drag",N,nd),$E(O.view),kg(O),h=!1,c=O.clientX,f=O.clientY,z("start",O))}}function C(O){if(Ql(O),!h){var R=O.clientX-c,z=O.clientY-f;h=R*R+z*z>g}s.mouse("drag",O)}function N(O){Xr(O.view).on("mousemove.drag mouseup.drag",null),HE(O.view,h),Ql(O),s.mouse("end",O)}function T(O,R){if(e.call(this,O,R)){var z=O.changedTouches,D=t.call(this,O,R),I=z.length,H,te;for(H=0;H<I;++H)(te=k(this,D,O,R,z[H].identifier,z[H]))&&(kg(O),te("start",O,z[H]))}}function _(O){var R=O.changedTouches,z=R.length,D,I;for(D=0;D<z;++D)(I=s[R[D].identifier])&&(Ql(O),I("drag",O,R[D]))}function A(O){var R=O.changedTouches,z=R.length,D,I;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),D=0;D<z;++D)(I=s[R[D].identifier])&&(kg(O),I("end",O,R[D]))}function k(O,R,z,D,I,H){var te=a.copy(),ee=zi(H||z,R),X,ae,q;if((q=n.call(O,new jy("beforestart",{sourceEvent:z,target:y,identifier:I,active:l,x:ee[0],y:ee[1],dx:0,dy:0,dispatch:te}),D))!=null)return X=q.x-ee[0]||0,ae=q.y-ee[1]||0,function Q($,Y,K){var ue=ee,B;switch($){case"start":s[I]=Q,B=l++;break;case"end":delete s[I],--l;case"drag":ee=zi(K||Y,R),B=l;break}te.call($,O,new jy($,{sourceEvent:Y,subject:q,target:y,identifier:I,active:B,x:ee[0]+X,y:ee[1]+ae,dx:ee[0]-ue[0],dy:ee[1]-ue[1],dispatch:te}),D)}}return y.filter=function(O){return arguments.length?(e=typeof O=="function"?O:Zf(!!O),y):e},y.container=function(O){return arguments.length?(t=typeof O=="function"?O:Zf(O),y):t},y.subject=function(O){return arguments.length?(n=typeof O=="function"?O:Zf(O),y):n},y.touchable=function(O){return arguments.length?(r=typeof O=="function"?O:Zf(!!O),y):r},y.on=function(){var O=a.on.apply(a,arguments);return O===a?y:O},y.clickDistance=function(O){return arguments.length?(g=(O=+O)*O,y):Math.sqrt(g)},y}function z0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qE(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wd(){}var rd=.7,Rh=1/rd,eu="\\s*([+-]?\\d+)\\s*",id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ro="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AD=/^#([0-9a-f]{3,8})$/,MD=new RegExp(`^rgb\\(${eu},${eu},${eu}\\)$`),OD=new RegExp(`^rgb\\(${ro},${ro},${ro}\\)$`),DD=new RegExp(`^rgba\\(${eu},${eu},${eu},${id}\\)$`),zD=new RegExp(`^rgba\\(${ro},${ro},${ro},${id}\\)$`),RD=new RegExp(`^hsl\\(${id},${ro},${ro}\\)$`),PD=new RegExp(`^hsla\\(${id},${ro},${ro},${id}\\)$`),T1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};z0(wd,Pa,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k1,formatHex:k1,formatHex8:ID,formatHsl:LD,formatRgb:j1,toString:j1});function k1(){return this.rgb().formatHex()}function ID(){return this.rgb().formatHex8()}function LD(){return ZE(this).formatHsl()}function j1(){return this.rgb().formatRgb()}function Pa(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=AD.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?A1(t):n===3?new Ar(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Yf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Yf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=MD.exec(e))?new Ar(t[1],t[2],t[3],1):(t=OD.exec(e))?new Ar(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DD.exec(e))?Yf(t[1],t[2],t[3],t[4]):(t=zD.exec(e))?Yf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RD.exec(e))?D1(t[1],t[2]/100,t[3]/100,1):(t=PD.exec(e))?D1(t[1],t[2]/100,t[3]/100,t[4]):T1.hasOwnProperty(e)?A1(T1[e]):e==="transparent"?new Ar(NaN,NaN,NaN,0):null}function A1(e){return new Ar(e>>16&255,e>>8&255,e&255,1)}function Yf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ar(e,t,n,r)}function FD(e){return e instanceof wd||(e=Pa(e)),e?(e=e.rgb(),new Ar(e.r,e.g,e.b,e.opacity)):new Ar}function Ay(e,t,n,r){return arguments.length===1?FD(e):new Ar(e,t,n,r??1)}function Ar(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}z0(Ar,Ay,qE(wd,{brighter(e){return e=e==null?Rh:Math.pow(Rh,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rd:Math.pow(rd,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ar(Oa(this.r),Oa(this.g),Oa(this.b),Ph(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M1,formatHex:M1,formatHex8:BD,formatRgb:O1,toString:O1}));function M1(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}`}function BD(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}${ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function O1(){const e=Ph(this.opacity);return`${e===1?"rgb(":"rgba("}${Oa(this.r)}, ${Oa(this.g)}, ${Oa(this.b)}${e===1?")":`, ${e})`}`}function Ph(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ja(e){return e=Oa(e),(e<16?"0":"")+e.toString(16)}function D1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ri(e,t,n,r)}function ZE(e){if(e instanceof Ri)return new Ri(e.h,e.s,e.l,e.opacity);if(e instanceof wd||(e=Pa(e)),!e)return new Ri;if(e instanceof Ri)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,c=a-s,f=(a+s)/2;return c?(t===a?l=(n-r)/c+(n<r)*6:n===a?l=(r-t)/c+2:l=(t-n)/c+4,c/=f<.5?a+s:2-a-s,l*=60):c=f>0&&f<1?0:l,new Ri(l,c,f,e.opacity)}function VD(e,t,n,r){return arguments.length===1?ZE(e):new Ri(e,t,n,r??1)}function Ri(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}z0(Ri,VD,qE(wd,{brighter(e){return e=e==null?Rh:Math.pow(Rh,e),new Ri(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rd:Math.pow(rd,e),new Ri(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Ar(jg(e>=240?e-240:e+120,s,r),jg(e,s,r),jg(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Ri(z1(this.h),Gf(this.s),Gf(this.l),Ph(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ph(this.opacity);return`${e===1?"hsl(":"hsla("}${z1(this.h)}, ${Gf(this.s)*100}%, ${Gf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function z1(e){return e=(e||0)%360,e<0?e+360:e}function Gf(e){return Math.max(0,Math.min(1,e||0))}function jg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const R0=e=>()=>e;function $D(e,t){return function(n){return e+n*t}}function HD(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function UD(e){return(e=+e)==1?YE:function(t,n){return n-t?HD(t,n,e):R0(isNaN(t)?n:t)}}function YE(e,t){var n=t-e;return n?$D(e,n):R0(isNaN(e)?t:e)}const Ih=(function e(t){var n=UD(t);function r(s,a){var l=n((s=Ay(s)).r,(a=Ay(a)).r),c=n(s.g,a.g),f=n(s.b,a.b),h=YE(s.opacity,a.opacity);return function(m){return s.r=l(m),s.g=c(m),s.b=f(m),s.opacity=h(m),s+""}}return r.gamma=e,r})(1);function qD(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(a){for(s=0;s<n;++s)r[s]=e[s]*(1-a)+t[s]*a;return r}}function ZD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YD(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)s[l]=Uc(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(c){for(l=0;l<r;++l)a[l]=s[l](c);return a}}function GD(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function eo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function KD(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Uc(e[s],t[s]):r[s]=t[s];return function(a){for(s in n)r[s]=n[s](a);return r}}var My=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ag=new RegExp(My.source,"g");function XD(e){return function(){return e}}function WD(e){return function(t){return e(t)+""}}function GE(e,t){var n=My.lastIndex=Ag.lastIndex=0,r,s,a,l=-1,c=[],f=[];for(e=e+"",t=t+"";(r=My.exec(e))&&(s=Ag.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),c[l]?c[l]+=a:c[++l]=a),(r=r[0])===(s=s[0])?c[l]?c[l]+=s:c[++l]=s:(c[++l]=null,f.push({i:l,x:eo(r,s)})),n=Ag.lastIndex;return n<t.length&&(a=t.slice(n),c[l]?c[l]+=a:c[++l]=a),c.length<2?f[0]?WD(f[0].x):XD(t):(t=f.length,function(h){for(var m=0,g;m<t;++m)c[(g=f[m]).i]=g.x(h);return c.join("")})}function Uc(e,t){var n=typeof t,r;return t==null||n==="boolean"?R0(t):(n==="number"?eo:n==="string"?(r=Pa(t))?(t=r,Ih):GE:t instanceof Pa?Ih:t instanceof Date?GD:ZD(t)?qD:Array.isArray(t)?YD:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?KD:eo)(e,t)}var R1=180/Math.PI,Oy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KE(e,t,n,r,s,a){var l,c,f;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(f=e*n+t*r)&&(n-=e*f,r-=t*f),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,f/=c),e*r<t*n&&(e=-e,t=-t,f=-f,l=-l),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*R1,skewX:Math.atan(f)*R1,scaleX:l,scaleY:c}}var Kf;function JD(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Oy:KE(t.a,t.b,t.c,t.d,t.e,t.f)}function QD(e){return e==null||(Kf||(Kf=document.createElementNS("http://www.w3.org/2000/svg","g")),Kf.setAttribute("transform",e),!(e=Kf.transform.baseVal.consolidate()))?Oy:(e=e.matrix,KE(e.a,e.b,e.c,e.d,e.e,e.f))}function XE(e,t,n,r){function s(h){return h.length?h.pop()+" ":""}function a(h,m,g,y,b,C){if(h!==g||m!==y){var N=b.push("translate(",null,t,null,n);C.push({i:N-4,x:eo(h,g)},{i:N-2,x:eo(m,y)})}else(g||y)&&b.push("translate("+g+t+y+n)}function l(h,m,g,y){h!==m?(h-m>180?m+=360:m-h>180&&(h+=360),y.push({i:g.push(s(g)+"rotate(",null,r)-2,x:eo(h,m)})):m&&g.push(s(g)+"rotate("+m+r)}function c(h,m,g,y){h!==m?y.push({i:g.push(s(g)+"skewX(",null,r)-2,x:eo(h,m)}):m&&g.push(s(g)+"skewX("+m+r)}function f(h,m,g,y,b,C){if(h!==g||m!==y){var N=b.push(s(b)+"scale(",null,",",null,")");C.push({i:N-4,x:eo(h,g)},{i:N-2,x:eo(m,y)})}else(g!==1||y!==1)&&b.push(s(b)+"scale("+g+","+y+")")}return function(h,m){var g=[],y=[];return h=e(h),m=e(m),a(h.translateX,h.translateY,m.translateX,m.translateY,g,y),l(h.rotate,m.rotate,g,y),c(h.skewX,m.skewX,g,y),f(h.scaleX,h.scaleY,m.scaleX,m.scaleY,g,y),h=m=null,function(b){for(var C=-1,N=y.length,T;++C<N;)g[(T=y[C]).i]=T.x(b);return g.join("")}}}var ez=XE(JD,"px, ","px)","deg)"),tz=XE(QD,", ",")",")"),nz=1e-12;function P1(e){return((e=Math.exp(e))+1/e)/2}function rz(e){return((e=Math.exp(e))-1/e)/2}function iz(e){return((e=Math.exp(2*e))-1)/(e+1)}const _h=(function e(t,n,r){function s(a,l){var c=a[0],f=a[1],h=a[2],m=l[0],g=l[1],y=l[2],b=m-c,C=g-f,N=b*b+C*C,T,_;if(N<nz)_=Math.log(y/h)/t,T=function(D){return[c+D*b,f+D*C,h*Math.exp(t*D*_)]};else{var A=Math.sqrt(N),k=(y*y-h*h+r*N)/(2*h*n*A),O=(y*y-h*h-r*N)/(2*y*n*A),R=Math.log(Math.sqrt(k*k+1)-k),z=Math.log(Math.sqrt(O*O+1)-O);_=(z-R)/t,T=function(D){var I=D*_,H=P1(R),te=h/(n*A)*(H*iz(t*I+R)-rz(R));return[c+te*b,f+te*C,h*H/P1(t*I+R)]}}return T.duration=_*1e3*t/Math.SQRT2,T}return s.rho=function(a){var l=Math.max(.001,+a),c=l*l,f=c*c;return e(l,c,f)},s})(Math.SQRT2,2,4);var su=0,Fc=0,Ec=0,WE=1e3,Lh,Bc,Fh=0,Ia=0,lp=0,od=typeof performance=="object"&&performance.now?performance:Date,JE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function P0(){return Ia||(JE(oz),Ia=od.now()+lp)}function oz(){Ia=0}function Bh(){this._call=this._time=this._next=null}Bh.prototype=QE.prototype={constructor:Bh,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?P0():+n)+(t==null?0:+t),!this._next&&Bc!==this&&(Bc?Bc._next=this:Lh=this,Bc=this),this._call=e,this._time=n,Dy()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dy())}};function QE(e,t,n){var r=new Bh;return r.restart(e,t,n),r}function sz(){P0(),++su;for(var e=Lh,t;e;)(t=Ia-e._time)>=0&&e._call.call(void 0,t),e=e._next;--su}function I1(){Ia=(Fh=od.now())+lp,su=Fc=0;try{sz()}finally{su=0,lz(),Ia=0}}function az(){var e=od.now(),t=e-Fh;t>WE&&(lp-=t,Fh=e)}function lz(){for(var e,t=Lh,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Lh=n);Bc=e,Dy(r)}function Dy(e){if(!su){Fc&&(Fc=clearTimeout(Fc));var t=e-Ia;t>24?(e<1/0&&(Fc=setTimeout(I1,e-od.now()-lp)),Ec&&(Ec=clearInterval(Ec))):(Ec||(Fh=od.now(),Ec=setInterval(az,WE)),su=1,JE(I1))}}function L1(e,t,n){var r=new Bh;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var uz=sp("start","end","cancel","interrupt"),cz=[],eC=0,F1=1,zy=2,Eh=3,B1=4,Ry=5,Ch=6;function up(e,t,n,r,s,a){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;dz(e,n,{name:t,index:r,group:s,on:uz,tween:cz,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:eC})}function I0(e,t){var n=Fi(e,t);if(n.state>eC)throw new Error("too late; already scheduled");return n}function lo(e,t){var n=Fi(e,t);if(n.state>Eh)throw new Error("too late; already running");return n}function Fi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function dz(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=QE(a,0,n.time);function a(h){n.state=F1,n.timer.restart(l,n.delay,n.time),n.delay<=h&&l(h-n.delay)}function l(h){var m,g,y,b;if(n.state!==F1)return f();for(m in r)if(b=r[m],b.name===n.name){if(b.state===Eh)return L1(l);b.state===B1?(b.state=Ch,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete r[m]):+m<t&&(b.state=Ch,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete r[m])}if(L1(function(){n.state===Eh&&(n.state=B1,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=zy,n.on.call("start",e,e.__data__,n.index,n.group),n.state===zy){for(n.state=Eh,s=new Array(y=n.tween.length),m=0,g=-1;m<y;++m)(b=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(s[++g]=b);s.length=g+1}}function c(h){for(var m=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(f),n.state=Ry,1),g=-1,y=s.length;++g<y;)s[g].call(e,m);n.state===Ry&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=Ch,n.timer.stop(),delete r[t];for(var h in r)return;delete e.__transition}}function Th(e,t){var n=e.__transition,r,s,a=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){a=!1;continue}s=r.state>zy&&r.state<Ry,r.state=Ch,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}a&&delete e.__transition}}function fz(e){return this.each(function(){Th(this,e)})}function hz(e,t){var n,r;return function(){var s=lo(this,e),a=s.tween;if(a!==n){r=n=a;for(var l=0,c=r.length;l<c;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}s.tween=r}}function pz(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=lo(this,e),l=a.tween;if(l!==r){s=(r=l).slice();for(var c={name:t,value:n},f=0,h=s.length;f<h;++f)if(s[f].name===t){s[f]=c;break}f===h&&s.push(c)}a.tween=s}}function mz(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Fi(this.node(),n).tween,s=0,a=r.length,l;s<a;++s)if((l=r[s]).name===e)return l.value;return null}return this.each((t==null?hz:pz)(n,e,t))}function L0(e,t,n){var r=e._id;return e.each(function(){var s=lo(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Fi(s,r).value[t]}}function tC(e,t){var n;return(typeof t=="number"?eo:t instanceof Pa?Ih:(n=Pa(t))?(t=n,Ih):GE)(e,t)}function gz(e){return function(){this.removeAttribute(e)}}function yz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xz(e,t,n){var r,s=n+"",a;return function(){var l=this.getAttribute(e);return l===s?null:l===r?a:a=t(r=l,n)}}function vz(e,t,n){var r,s=n+"",a;return function(){var l=this.getAttributeNS(e.space,e.local);return l===s?null:l===r?a:a=t(r=l,n)}}function bz(e,t,n){var r,s,a;return function(){var l,c=n(this),f;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),f=c+"",l===f?null:l===r&&f===s?a:(s=f,a=t(r=l,c)))}}function wz(e,t,n){var r,s,a;return function(){var l,c=n(this),f;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),f=c+"",l===f?null:l===r&&f===s?a:(s=f,a=t(r=l,c)))}}function Sz(e,t){var n=ap(e),r=n==="transform"?tz:tC;return this.attrTween(e,typeof t=="function"?(n.local?wz:bz)(n,r,L0(this,"attr."+e,t)):t==null?(n.local?yz:gz)(n):(n.local?vz:xz)(n,r,t))}function Nz(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function _z(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ez(e,t){var n,r;function s(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&_z(e,a)),n}return s._value=t,s}function Cz(e,t){var n,r;function s(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Nz(e,a)),n}return s._value=t,s}function Tz(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ap(e);return this.tween(n,(r.local?Ez:Cz)(r,t))}function kz(e,t){return function(){I0(this,e).delay=+t.apply(this,arguments)}}function jz(e,t){return t=+t,function(){I0(this,e).delay=t}}function Az(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kz:jz)(t,e)):Fi(this.node(),t).delay}function Mz(e,t){return function(){lo(this,e).duration=+t.apply(this,arguments)}}function Oz(e,t){return t=+t,function(){lo(this,e).duration=t}}function Dz(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Mz:Oz)(t,e)):Fi(this.node(),t).duration}function zz(e,t){if(typeof t!="function")throw new Error;return function(){lo(this,e).ease=t}}function Rz(e){var t=this._id;return arguments.length?this.each(zz(t,e)):Fi(this.node(),t).ease}function Pz(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;lo(this,e).ease=n}}function Iz(e){if(typeof e!="function")throw new Error;return this.each(Pz(this._id,e))}function Lz(e){typeof e!="function"&&(e=OE(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],l=a.length,c=r[s]=[],f,h=0;h<l;++h)(f=a[h])&&e.call(f,f.__data__,h,a)&&c.push(f);return new Ko(r,this._parents,this._name,this._id)}function Fz(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,a=Math.min(r,s),l=new Array(r),c=0;c<a;++c)for(var f=t[c],h=n[c],m=f.length,g=l[c]=new Array(m),y,b=0;b<m;++b)(y=f[b]||h[b])&&(g[b]=y);for(;c<r;++c)l[c]=t[c];return new Ko(l,this._parents,this._name,this._id)}function Bz(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Vz(e,t,n){var r,s,a=Bz(t)?I0:lo;return function(){var l=a(this,e),c=l.on;c!==r&&(s=(r=c).copy()).on(t,n),l.on=s}}function $z(e,t){var n=this._id;return arguments.length<2?Fi(this.node(),n).on.on(e):this.each(Vz(n,e,t))}function Hz(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Uz(){return this.on("end.remove",Hz(this._id))}function qz(e){var t=this._name,n=this._id;typeof e!="function"&&(e=O0(e));for(var r=this._groups,s=r.length,a=new Array(s),l=0;l<s;++l)for(var c=r[l],f=c.length,h=a[l]=new Array(f),m,g,y=0;y<f;++y)(m=c[y])&&(g=e.call(m,m.__data__,y,c))&&("__data__"in m&&(g.__data__=m.__data__),h[y]=g,up(h[y],t,n,y,h,Fi(m,n)));return new Ko(a,this._parents,t,n)}function Zz(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ME(e));for(var r=this._groups,s=r.length,a=[],l=[],c=0;c<s;++c)for(var f=r[c],h=f.length,m,g=0;g<h;++g)if(m=f[g]){for(var y=e.call(m,m.__data__,g,f),b,C=Fi(m,n),N=0,T=y.length;N<T;++N)(b=y[N])&&up(b,t,n,N,y,C);a.push(y),l.push(m)}return new Ko(a,l,t,n)}var Yz=bd.prototype.constructor;function Gz(){return new Yz(this._groups,this._parents)}function Kz(e,t){var n,r,s;return function(){var a=ou(this,e),l=(this.style.removeProperty(e),ou(this,e));return a===l?null:a===n&&l===r?s:s=t(n=a,r=l)}}function nC(e){return function(){this.style.removeProperty(e)}}function Xz(e,t,n){var r,s=n+"",a;return function(){var l=ou(this,e);return l===s?null:l===r?a:a=t(r=l,n)}}function Wz(e,t,n){var r,s,a;return function(){var l=ou(this,e),c=n(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(e),ou(this,e))),l===f?null:l===r&&f===s?a:(s=f,a=t(r=l,c))}}function Jz(e,t){var n,r,s,a="style."+t,l="end."+a,c;return function(){var f=lo(this,e),h=f.on,m=f.value[a]==null?c||(c=nC(t)):void 0;(h!==n||s!==m)&&(r=(n=h).copy()).on(l,s=m),f.on=r}}function Qz(e,t,n){var r=(e+="")=="transform"?ez:tC;return t==null?this.styleTween(e,Kz(e,r)).on("end.style."+e,nC(e)):typeof t=="function"?this.styleTween(e,Wz(e,r,L0(this,"style."+e,t))).each(Jz(this._id,e)):this.styleTween(e,Xz(e,r,t),n).on("end.style."+e,null)}function eR(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function tR(e,t,n){var r,s;function a(){var l=t.apply(this,arguments);return l!==s&&(r=(s=l)&&eR(e,l,n)),r}return a._value=t,a}function nR(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,tR(e,t,n??""))}function rR(e){return function(){this.textContent=e}}function iR(e){return function(){var t=e(this);this.textContent=t??""}}function oR(e){return this.tween("text",typeof e=="function"?iR(L0(this,"text",e)):rR(e==null?"":e+""))}function sR(e){return function(t){this.textContent=e.call(this,t)}}function aR(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&sR(s)),t}return r._value=e,r}function lR(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,aR(e))}function uR(){for(var e=this._name,t=this._id,n=rC(),r=this._groups,s=r.length,a=0;a<s;++a)for(var l=r[a],c=l.length,f,h=0;h<c;++h)if(f=l[h]){var m=Fi(f,t);up(f,e,n,h,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Ko(r,this._parents,e,n)}function cR(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(a,l){var c={value:l},f={value:function(){--s===0&&a()}};n.each(function(){var h=lo(this,r),m=h.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(f)),h.on=t}),s===0&&a()})}var dR=0;function Ko(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function rC(){return++dR}var Zo=bd.prototype;Ko.prototype={constructor:Ko,select:qz,selectAll:Zz,selectChild:Zo.selectChild,selectChildren:Zo.selectChildren,filter:Lz,merge:Fz,selection:Gz,transition:uR,call:Zo.call,nodes:Zo.nodes,node:Zo.node,size:Zo.size,empty:Zo.empty,each:Zo.each,on:$z,attr:Sz,attrTween:Tz,style:Qz,styleTween:nR,text:oR,textTween:lR,remove:Uz,tween:mz,delay:Az,duration:Dz,ease:Rz,easeVarying:Iz,end:cR,[Symbol.iterator]:Zo[Symbol.iterator]};function fR(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var hR={time:null,delay:0,duration:250,ease:fR};function pR(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function mR(e){var t,n;e instanceof Ko?(t=e._id,e=e._name):(t=rC(),(n=hR).time=P0(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var l=r[a],c=l.length,f,h=0;h<c;++h)(f=l[h])&&up(f,e,t,h,l,n||pR(f,t));return new Ko(r,this._parents,e,t)}bd.prototype.interrupt=fz;bd.prototype.transition=mR;const Xf=e=>()=>e;function gR(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Go(e,t,n){this.k=e,this.x=t,this.y=n}Go.prototype={constructor:Go,scale:function(e){return e===1?this:new Go(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Go(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var cp=new Go(1,0,0);iC.prototype=Go.prototype;function iC(e){for(;!e.__zoom;)if(!(e=e.parentNode))return cp;return e.__zoom}function Mg(e){e.stopImmediatePropagation()}function Cc(e){e.preventDefault(),e.stopImmediatePropagation()}function yR(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function xR(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function V1(){return this.__zoom||cp}function vR(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function bR(){return navigator.maxTouchPoints||"ontouchstart"in this}function wR(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l))}function oC(){var e=yR,t=xR,n=wR,r=vR,s=bR,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,f=_h,h=sp("start","zoom","end"),m,g,y,b=500,C=150,N=0,T=10;function _(q){q.property("__zoom",V1).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",te).filter(s).on("touchstart.zoom",ee).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",ae).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(q,Q,$,Y){var K=q.selection?q.selection():q;K.property("__zoom",V1),q!==K?R(q,Q,$,Y):K.interrupt().each(function(){z(this,arguments).event(Y).start().zoom(null,typeof Q=="function"?Q.apply(this,arguments):Q).end()})},_.scaleBy=function(q,Q,$,Y){_.scaleTo(q,function(){var K=this.__zoom.k,ue=typeof Q=="function"?Q.apply(this,arguments):Q;return K*ue},$,Y)},_.scaleTo=function(q,Q,$,Y){_.transform(q,function(){var K=t.apply(this,arguments),ue=this.__zoom,B=$==null?O(K):typeof $=="function"?$.apply(this,arguments):$,Z=ue.invert(B),J=typeof Q=="function"?Q.apply(this,arguments):Q;return n(k(A(ue,J),B,Z),K,l)},$,Y)},_.translateBy=function(q,Q,$,Y){_.transform(q,function(){return n(this.__zoom.translate(typeof Q=="function"?Q.apply(this,arguments):Q,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),l)},null,Y)},_.translateTo=function(q,Q,$,Y,K){_.transform(q,function(){var ue=t.apply(this,arguments),B=this.__zoom,Z=Y==null?O(ue):typeof Y=="function"?Y.apply(this,arguments):Y;return n(cp.translate(Z[0],Z[1]).scale(B.k).translate(typeof Q=="function"?-Q.apply(this,arguments):-Q,typeof $=="function"?-$.apply(this,arguments):-$),ue,l)},Y,K)};function A(q,Q){return Q=Math.max(a[0],Math.min(a[1],Q)),Q===q.k?q:new Go(Q,q.x,q.y)}function k(q,Q,$){var Y=Q[0]-$[0]*q.k,K=Q[1]-$[1]*q.k;return Y===q.x&&K===q.y?q:new Go(q.k,Y,K)}function O(q){return[(+q[0][0]+ +q[1][0])/2,(+q[0][1]+ +q[1][1])/2]}function R(q,Q,$,Y){q.on("start.zoom",function(){z(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(Y).end()}).tween("zoom",function(){var K=this,ue=arguments,B=z(K,ue).event(Y),Z=t.apply(K,ue),J=$==null?O(Z):typeof $=="function"?$.apply(K,ue):$,F=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),ge=K.__zoom,Oe=typeof Q=="function"?Q.apply(K,ue):Q,Ee=f(ge.invert(J).concat(F/ge.k),Oe.invert(J).concat(F/Oe.k));return function(Te){if(Te===1)Te=Oe;else{var je=Ee(Te),Se=F/je[2];Te=new Go(Se,J[0]-je[0]*Se,J[1]-je[1]*Se)}B.zoom(null,Te)}})}function z(q,Q,$){return!$&&q.__zooming||new D(q,Q)}function D(q,Q){this.that=q,this.args=Q,this.active=0,this.sourceEvent=null,this.extent=t.apply(q,Q),this.taps=0}D.prototype={event:function(q){return q&&(this.sourceEvent=q),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(q,Q){return this.mouse&&q!=="mouse"&&(this.mouse[1]=Q.invert(this.mouse[0])),this.touch0&&q!=="touch"&&(this.touch0[1]=Q.invert(this.touch0[0])),this.touch1&&q!=="touch"&&(this.touch1[1]=Q.invert(this.touch1[0])),this.that.__zoom=Q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(q){var Q=Xr(this.that).datum();h.call(q,this.that,new gR(q,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:h}),Q)}};function I(q,...Q){if(!e.apply(this,arguments))return;var $=z(this,Q).event(q),Y=this.__zoom,K=Math.max(a[0],Math.min(a[1],Y.k*Math.pow(2,r.apply(this,arguments)))),ue=zi(q);if($.wheel)($.mouse[0][0]!==ue[0]||$.mouse[0][1]!==ue[1])&&($.mouse[1]=Y.invert($.mouse[0]=ue)),clearTimeout($.wheel);else{if(Y.k===K)return;$.mouse=[ue,Y.invert(ue)],Th(this),$.start()}Cc(q),$.wheel=setTimeout(B,C),$.zoom("mouse",n(k(A(Y,K),$.mouse[0],$.mouse[1]),$.extent,l));function B(){$.wheel=null,$.end()}}function H(q,...Q){if(y||!e.apply(this,arguments))return;var $=q.currentTarget,Y=z(this,Q,!0).event(q),K=Xr(q.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",F,!0),ue=zi(q,$),B=q.clientX,Z=q.clientY;$E(q.view),Mg(q),Y.mouse=[ue,this.__zoom.invert(ue)],Th(this),Y.start();function J(ge){if(Cc(ge),!Y.moved){var Oe=ge.clientX-B,Ee=ge.clientY-Z;Y.moved=Oe*Oe+Ee*Ee>N}Y.event(ge).zoom("mouse",n(k(Y.that.__zoom,Y.mouse[0]=zi(ge,$),Y.mouse[1]),Y.extent,l))}function F(ge){K.on("mousemove.zoom mouseup.zoom",null),HE(ge.view,Y.moved),Cc(ge),Y.event(ge).end()}}function te(q,...Q){if(e.apply(this,arguments)){var $=this.__zoom,Y=zi(q.changedTouches?q.changedTouches[0]:q,this),K=$.invert(Y),ue=$.k*(q.shiftKey?.5:2),B=n(k(A($,ue),Y,K),t.apply(this,Q),l);Cc(q),c>0?Xr(this).transition().duration(c).call(R,B,Y,q):Xr(this).call(_.transform,B,Y,q)}}function ee(q,...Q){if(e.apply(this,arguments)){var $=q.touches,Y=$.length,K=z(this,Q,q.changedTouches.length===Y).event(q),ue,B,Z,J;for(Mg(q),B=0;B<Y;++B)Z=$[B],J=zi(Z,this),J=[J,this.__zoom.invert(J),Z.identifier],K.touch0?!K.touch1&&K.touch0[2]!==J[2]&&(K.touch1=J,K.taps=0):(K.touch0=J,ue=!0,K.taps=1+!!m);m&&(m=clearTimeout(m)),ue&&(K.taps<2&&(g=J[0],m=setTimeout(function(){m=null},b)),Th(this),K.start())}}function X(q,...Q){if(this.__zooming){var $=z(this,Q).event(q),Y=q.changedTouches,K=Y.length,ue,B,Z,J;for(Cc(q),ue=0;ue<K;++ue)B=Y[ue],Z=zi(B,this),$.touch0&&$.touch0[2]===B.identifier?$.touch0[0]=Z:$.touch1&&$.touch1[2]===B.identifier&&($.touch1[0]=Z);if(B=$.that.__zoom,$.touch1){var F=$.touch0[0],ge=$.touch0[1],Oe=$.touch1[0],Ee=$.touch1[1],Te=(Te=Oe[0]-F[0])*Te+(Te=Oe[1]-F[1])*Te,je=(je=Ee[0]-ge[0])*je+(je=Ee[1]-ge[1])*je;B=A(B,Math.sqrt(Te/je)),Z=[(F[0]+Oe[0])/2,(F[1]+Oe[1])/2],J=[(ge[0]+Ee[0])/2,(ge[1]+Ee[1])/2]}else if($.touch0)Z=$.touch0[0],J=$.touch0[1];else return;$.zoom("touch",n(k(B,Z,J),$.extent,l))}}function ae(q,...Q){if(this.__zooming){var $=z(this,Q).event(q),Y=q.changedTouches,K=Y.length,ue,B;for(Mg(q),y&&clearTimeout(y),y=setTimeout(function(){y=null},b),ue=0;ue<K;++ue)B=Y[ue],$.touch0&&$.touch0[2]===B.identifier?delete $.touch0:$.touch1&&$.touch1[2]===B.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(B=zi(B,this),Math.hypot(g[0]-B[0],g[1]-B[1])<T)){var Z=Xr(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return _.wheelDelta=function(q){return arguments.length?(r=typeof q=="function"?q:Xf(+q),_):r},_.filter=function(q){return arguments.length?(e=typeof q=="function"?q:Xf(!!q),_):e},_.touchable=function(q){return arguments.length?(s=typeof q=="function"?q:Xf(!!q),_):s},_.extent=function(q){return arguments.length?(t=typeof q=="function"?q:Xf([[+q[0][0],+q[0][1]],[+q[1][0],+q[1][1]]]),_):t},_.scaleExtent=function(q){return arguments.length?(a[0]=+q[0],a[1]=+q[1],_):[a[0],a[1]]},_.translateExtent=function(q){return arguments.length?(l[0][0]=+q[0][0],l[1][0]=+q[1][0],l[0][1]=+q[0][1],l[1][1]=+q[1][1],_):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},_.constrain=function(q){return arguments.length?(n=q,_):n},_.duration=function(q){return arguments.length?(c=+q,_):c},_.interpolate=function(q){return arguments.length?(f=q,_):f},_.on=function(){var q=h.on.apply(h,arguments);return q===h?_:q},_.clickDistance=function(q){return arguments.length?(N=(q=+q)*q,_):Math.sqrt(N)},_.tapDistance=function(q){return arguments.length?(T=+q,_):T},_}const so={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},sd=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],sC=["Enter"," ","Escape"],aC={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var au;(function(e){e.Strict="strict",e.Loose="loose"})(au||(au={}));var Da;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Da||(Da={}));var ad;(function(e){e.Partial="partial",e.Full="full"})(ad||(ad={}));const lC={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Vs;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Vs||(Vs={}));var Vh;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Vh||(Vh={}));var Ze;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ze||(Ze={}));const $1={[Ze.Left]:Ze.Right,[Ze.Right]:Ze.Left,[Ze.Top]:Ze.Bottom,[Ze.Bottom]:Ze.Top};function uC(e){return e===null?null:e?"valid":"invalid"}const cC=e=>"id"in e&&"source"in e&&"target"in e,SR=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),F0=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Sd=(e,t=[0,0])=>{const{width:n,height:r}=Jo(e),s=e.origin??t,a=n*s[0],l=r*s[1];return{x:e.position.x-a,y:e.position.y-l}},NR=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const a=typeof s=="string";let l=!t.nodeLookup&&!a?s:void 0;t.nodeLookup&&(l=a?t.nodeLookup.get(s):F0(s)?s:t.nodeLookup.get(s.id));const c=l?$h(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return dp(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return fp(n)},Nd=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const s=$h(r);n=dp(n,s)}}),fp(n)},B0=(e,t,[n,r,s]=[0,0,1],a=!1,l=!1)=>{const c={...Ed(t,[n,r,s]),width:t.width/s,height:t.height/s},f=[];for(const h of e.values()){const{measured:m,selectable:g=!0,hidden:y=!1}=h;if(l&&!g||y)continue;const b=m.width??h.width??h.initialWidth??null,C=m.height??h.height??h.initialHeight??null,N=ld(c,uu(h)),T=(b??0)*(C??0),_=a&&N>0;(!h.internals.handleBounds||_||N>=T||h.dragging)&&f.push(h)}return f},_R=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function ER(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&(t?.includeHiddenNodes||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function CR({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:a},l){if(e.size===0)return Promise.resolve(!0);const c=ER(e,l),f=Nd(c),h=V0(f,t,n,l?.minZoom??s,l?.maxZoom??a,l?.padding??.1);return await r.setViewport(h,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function dC({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:a}){const l=n.get(e),c=l.parentId?n.get(l.parentId):void 0,{x:f,y:h}=c?c.internals.positionAbsolute:{x:0,y:0},m=l.origin??r;let g=l.extent||s;if(l.extent==="parent"&&!l.expandParent)if(!c)a?.("005",so.error005());else{const b=c.measured.width,C=c.measured.height;b&&C&&(g=[[f,h],[f+b,h+C]])}else c&&cu(l.extent)&&(g=[[l.extent[0][0]+f,l.extent[0][1]+h],[l.extent[1][0]+f,l.extent[1][1]+h]]);const y=cu(g)?La(t,g,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&a?.("015",so.error015()),{position:{x:y.x-f+(l.measured.width??0)*m[0],y:y.y-h+(l.measured.height??0)*m[1]},positionAbsolute:y}}async function TR({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const a=new Set(e.map(y=>y.id)),l=[];for(const y of n){if(y.deletable===!1)continue;const b=a.has(y.id),C=!b&&y.parentId&&l.find(N=>N.id===y.parentId);(b||C)&&l.push(y)}const c=new Set(t.map(y=>y.id)),f=r.filter(y=>y.deletable!==!1),m=_R(l,f);for(const y of f)c.has(y.id)&&!m.find(C=>C.id===y.id)&&m.push(y);if(!s)return{edges:m,nodes:l};const g=await s({nodes:l,edges:m});return typeof g=="boolean"?g?{edges:m,nodes:l}:{edges:[],nodes:[]}:g}const lu=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),La=(e={x:0,y:0},t,n)=>({x:lu(e.x,t[0][0],t[1][0]-(n?.width??0)),y:lu(e.y,t[0][1],t[1][1]-(n?.height??0))});function fC(e,t,n){const{width:r,height:s}=Jo(n),{x:a,y:l}=n.internals.positionAbsolute;return La(e,[[a,l],[a+r,l+s]],t)}const H1=(e,t,n)=>e<t?lu(Math.abs(e-t),1,t)/t:e>n?-lu(Math.abs(e-n),1,t)/t:0,hC=(e,t,n=15,r=40)=>{const s=H1(e.x,r,t.width-r)*n,a=H1(e.y,r,t.height-r)*n;return[s,a]},dp=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Py=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),fp=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),uu=(e,t=[0,0])=>{const{x:n,y:r}=F0(e)?e.internals.positionAbsolute:Sd(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},$h=(e,t=[0,0])=>{const{x:n,y:r}=F0(e)?e.internals.positionAbsolute:Sd(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},pC=(e,t)=>fp(dp(Py(e),Py(t))),ld=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},U1=e=>Pi(e.width)&&Pi(e.height)&&Pi(e.x)&&Pi(e.y),Pi=e=>!isNaN(e)&&isFinite(e),kR=(e,t)=>{},_d=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Ed=({x:e,y:t},[n,r,s],a=!1,l=[1,1])=>{const c={x:(e-n)/s,y:(t-r)/s};return a?_d(c,l):c},Hh=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function Rl(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function jR(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Rl(e,n),s=Rl(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=Rl(e.top??e.y??0,n),s=Rl(e.bottom??e.y??0,n),a=Rl(e.left??e.x??0,t),l=Rl(e.right??e.x??0,t);return{top:r,right:l,bottom:s,left:a,x:a+l,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function AR(e,t,n,r,s,a){const{x:l,y:c}=Hh(e,[t,n,r]),{x:f,y:h}=Hh({x:e.x+e.width,y:e.y+e.height},[t,n,r]),m=s-f,g=a-h;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(m),bottom:Math.floor(g)}}const V0=(e,t,n,r,s,a)=>{const l=jR(a,t,n),c=(t-l.x)/e.width,f=(n-l.y)/e.height,h=Math.min(c,f),m=lu(h,r,s),g=e.x+e.width/2,y=e.y+e.height/2,b=t/2-g*m,C=n/2-y*m,N=AR(e,b,C,m,t,n),T={left:Math.min(N.left-l.left,0),top:Math.min(N.top-l.top,0),right:Math.min(N.right-l.right,0),bottom:Math.min(N.bottom-l.bottom,0)};return{x:b-T.left+T.right,y:C-T.top+T.bottom,zoom:m}},ud=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function cu(e){return e!=null&&e!=="parent"}function Jo(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function mC(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function gC(e,t={width:0,height:0},n,r,s){const a={...e},l=r.get(n);if(l){const c=l.origin||s;a.x+=l.internals.positionAbsolute.x-(t.width??0)*c[0],a.y+=l.internals.positionAbsolute.y-(t.height??0)*c[1]}return a}function q1(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function MR(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function OR(e){return{...aC,...e||{}}}function qc(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:a,y:l}=Ii(e),c=Ed({x:a-(s?.left??0),y:l-(s?.top??0)},r),{x:f,y:h}=n?_d(c,t):c;return{xSnapped:f,ySnapped:h,...c}}const $0=e=>({width:e.offsetWidth,height:e.offsetHeight}),yC=e=>e?.getRootNode?.()||window?.document,DR=["INPUT","SELECT","TEXTAREA"];function xC(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:DR.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const vC=e=>"clientX"in e,Ii=(e,t)=>{const n=vC(e),r=n?e.clientX:e.touches?.[0].clientX,s=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:s-(t?.top??0)}},Z1=(e,t,n,r,s)=>{const a=t.querySelectorAll(`.${e}`);return!a||!a.length?null:Array.from(a).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:s,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...$0(l)}})};function bC({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:c}){const f=e*.125+s*.375+l*.375+n*.125,h=t*.125+a*.375+c*.375+r*.125,m=Math.abs(f-e),g=Math.abs(h-t);return[f,h,m,g]}function Wf(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Y1({pos:e,x1:t,y1:n,x2:r,y2:s,c:a}){switch(e){case Ze.Left:return[t-Wf(t-r,a),n];case Ze.Right:return[t+Wf(r-t,a),n];case Ze.Top:return[t,n-Wf(n-s,a)];case Ze.Bottom:return[t,n+Wf(s-n,a)]}}function wC({sourceX:e,sourceY:t,sourcePosition:n=Ze.Bottom,targetX:r,targetY:s,targetPosition:a=Ze.Top,curvature:l=.25}){const[c,f]=Y1({pos:n,x1:e,y1:t,x2:r,y2:s,c:l}),[h,m]=Y1({pos:a,x1:r,y1:s,x2:e,y2:t,c:l}),[g,y,b,C]=bC({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:c,sourceControlY:f,targetControlX:h,targetControlY:m});return[`M${e},${t} C${c},${f} ${h},${m} ${r},${s}`,g,y,b,C]}function SC({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,a=n<e?n+s:n-s,l=Math.abs(r-t)/2,c=r<t?r+l:r-l;return[a,c,s,l]}function zR({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:s=!1}){if(r!==void 0)return r;const a=s&&n?1e3:0,l=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return a+l}function RR({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const a=dp($h(e),$h(t));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const l={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return ld(l,fp(a))>0}const PR=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,IR=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),NC=(e,t)=>{if(!e.source||!e.target)return t;let n;return cC(e)?n={...e}:n={...e,id:PR(e)},IR(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function _C({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,a,l,c]=SC({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,a,l,c]}const G1={[Ze.Left]:{x:-1,y:0},[Ze.Right]:{x:1,y:0},[Ze.Top]:{x:0,y:-1},[Ze.Bottom]:{x:0,y:1}},LR=({source:e,sourcePosition:t=Ze.Bottom,target:n})=>t===Ze.Left||t===Ze.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},K1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function FR({source:e,sourcePosition:t=Ze.Bottom,target:n,targetPosition:r=Ze.Top,center:s,offset:a,stepPosition:l}){const c=G1[t],f=G1[r],h={x:e.x+c.x*a,y:e.y+c.y*a},m={x:n.x+f.x*a,y:n.y+f.y*a},g=LR({source:h,sourcePosition:t,target:m}),y=g.x!==0?"x":"y",b=g[y];let C=[],N,T;const _={x:0,y:0},A={x:0,y:0},[,,k,O]=SC({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[y]*f[y]===-1){y==="x"?(N=s.x??h.x+(m.x-h.x)*l,T=s.y??(h.y+m.y)/2):(N=s.x??(h.x+m.x)/2,T=s.y??h.y+(m.y-h.y)*l);const z=[{x:N,y:h.y},{x:N,y:m.y}],D=[{x:h.x,y:T},{x:m.x,y:T}];c[y]===b?C=y==="x"?z:D:C=y==="x"?D:z}else{const z=[{x:h.x,y:m.y}],D=[{x:m.x,y:h.y}];if(y==="x"?C=c.x===b?D:z:C=c.y===b?z:D,t===r){const X=Math.abs(e[y]-n[y]);if(X<=a){const ae=Math.min(a-1,a-X);c[y]===b?_[y]=(h[y]>e[y]?-1:1)*ae:A[y]=(m[y]>n[y]?-1:1)*ae}}if(t!==r){const X=y==="x"?"y":"x",ae=c[y]===f[X],q=h[X]>m[X],Q=h[X]<m[X];(c[y]===1&&(!ae&&q||ae&&Q)||c[y]!==1&&(!ae&&Q||ae&&q))&&(C=y==="x"?z:D)}const I={x:h.x+_.x,y:h.y+_.y},H={x:m.x+A.x,y:m.y+A.y},te=Math.max(Math.abs(I.x-C[0].x),Math.abs(H.x-C[0].x)),ee=Math.max(Math.abs(I.y-C[0].y),Math.abs(H.y-C[0].y));te>=ee?(N=(I.x+H.x)/2,T=C[0].y):(N=C[0].x,T=(I.y+H.y)/2)}return[[e,{x:h.x+_.x,y:h.y+_.y},...C,{x:m.x+A.x,y:m.y+A.y},n],N,T,k,O]}function BR(e,t,n,r){const s=Math.min(K1(e,t)/2,K1(t,n)/2,r),{x:a,y:l}=t;if(e.x===a&&a===n.x||e.y===l&&l===n.y)return`L${a} ${l}`;if(e.y===l){const h=e.x<n.x?-1:1,m=e.y<n.y?1:-1;return`L ${a+s*h},${l}Q ${a},${l} ${a},${l+s*m}`}const c=e.x<n.x?1:-1,f=e.y<n.y?-1:1;return`L ${a},${l+s*f}Q ${a},${l} ${a+s*c},${l}`}function Iy({sourceX:e,sourceY:t,sourcePosition:n=Ze.Bottom,targetX:r,targetY:s,targetPosition:a=Ze.Top,borderRadius:l=5,centerX:c,centerY:f,offset:h=20,stepPosition:m=.5}){const[g,y,b,C,N]=FR({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:a,center:{x:c,y:f},offset:h,stepPosition:m});return[g.reduce((_,A,k)=>{let O="";return k>0&&k<g.length-1?O=BR(g[k-1],A,g[k+1],l):O=`${k===0?"M":"L"}${A.x} ${A.y}`,_+=O,_},""),y,b,C,N]}function X1(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function VR(e){const{sourceNode:t,targetNode:n}=e;if(!X1(t)||!X1(n))return null;const r=t.internals.handleBounds||W1(t.handles),s=n.internals.handleBounds||W1(n.handles),a=J1(r?.source??[],e.sourceHandle),l=J1(e.connectionMode===au.Strict?s?.target??[]:(s?.target??[]).concat(s?.source??[]),e.targetHandle);if(!a||!l)return e.onError?.("008",so.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const c=a?.position||Ze.Bottom,f=l?.position||Ze.Top,h=cd(t,a,c),m=cd(n,l,f);return{sourceX:h.x,sourceY:h.y,targetX:m.x,targetY:m.y,sourcePosition:c,targetPosition:f}}function W1(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function cd(e,t,n=Ze.Left,r=!1){const s=(t?.x??0)+e.internals.positionAbsolute.x,a=(t?.y??0)+e.internals.positionAbsolute.y,{width:l,height:c}=t??Jo(e);if(r)return{x:s+l/2,y:a+c/2};switch(t?.position??n){case Ze.Top:return{x:s+l/2,y:a};case Ze.Right:return{x:s+l,y:a+c/2};case Ze.Bottom:return{x:s+l/2,y:a+c};case Ze.Left:return{x:s,y:a+c/2}}}function J1(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Ly(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function $R(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const a=new Set;return e.reduce((l,c)=>([c.markerStart||r,c.markerEnd||s].forEach(f=>{if(f&&typeof f=="object"){const h=Ly(f,t);a.has(h)||(l.push({id:h,color:f.color||n,...f}),a.add(h))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const H0={nodeOrigin:[0,0],nodeExtent:sd,elevateNodesOnSelect:!0,defaults:{}},HR={...H0,checkEquality:!0};function U0(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function UR(e,t,n){const r=U0(H0,n);for(const s of e.values())if(s.parentId)q0(s,e,t,r);else{const a=Sd(s,r.nodeOrigin),l=cu(s.extent)?s.extent:r.nodeExtent,c=La(a,l,Jo(s));s.internals.positionAbsolute=c}}function qR(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],r=[];for(const s of e.handles){const a={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(a):s.type==="target"&&r.push(a)}return{source:n,target:r}}function Fy(e,t,n,r){const s=U0(HR,r);let a=e.length>0;const l=new Map(t),c=s?.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const f of e){let h=l.get(f.id);if(s.checkEquality&&f===h?.internals.userNode)t.set(f.id,h);else{const m=Sd(f,s.nodeOrigin),g=cu(f.extent)?f.extent:s.nodeExtent,y=La(m,g,Jo(f));h={...s.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:y,handleBounds:qR(f,h),z:EC(f,c),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(a=!1),f.parentId&&q0(h,t,n,r)}return a}function ZR(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function q0(e,t,n,r){const{elevateNodesOnSelect:s,nodeOrigin:a,nodeExtent:l}=U0(H0,r),c=e.parentId,f=t.get(c);if(!f){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}ZR(e,n);const h=s?1e3:0,{x:m,y:g,z:y}=YR(e,f,a,l,h),{positionAbsolute:b}=e.internals,C=m!==b.x||g!==b.y;(C||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:C?{x:m,y:g}:b,z:y}})}function EC(e,t){return(Pi(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function YR(e,t,n,r,s){const{x:a,y:l}=t.internals.positionAbsolute,c=Jo(e),f=Sd(e,n),h=cu(e.extent)?La(f,e.extent,c):f;let m=La({x:a+h.x,y:l+h.y},r,c);e.extent==="parent"&&(m=fC(m,c,t));const g=EC(e,s),y=t.internals.z??0;return{x:m.x,y:m.y,z:y>=g?y+1:g}}function Z0(e,t,n,r=[0,0]){const s=[],a=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const f=a.get(l.parentId)?.expandedRect??uu(c),h=pC(f,l.rect);a.set(l.parentId,{expandedRect:h,parent:c})}return a.size>0&&a.forEach(({expandedRect:l,parent:c},f)=>{const h=c.internals.positionAbsolute,m=Jo(c),g=c.origin??r,y=l.x<h.x?Math.round(Math.abs(h.x-l.x)):0,b=l.y<h.y?Math.round(Math.abs(h.y-l.y)):0,C=Math.max(m.width,Math.round(l.width)),N=Math.max(m.height,Math.round(l.height)),T=(C-m.width)*g[0],_=(N-m.height)*g[1];(y>0||b>0||T||_)&&(s.push({id:f,type:"position",position:{x:c.position.x-y+T,y:c.position.y-b+_}}),n.get(f)?.forEach(A=>{e.some(k=>k.id===A.id)||s.push({id:A.id,type:"position",position:{x:A.position.x+y,y:A.position.y+b}})})),(m.width<l.width||m.height<l.height||y||b)&&s.push({id:f,type:"dimensions",setAttributes:!0,dimensions:{width:C+(y?g[0]*y-T:0),height:N+(b?g[1]*b-_:0)}})}),s}function GR(e,t,n,r,s,a){const l=r?.querySelector(".xyflow__viewport");let c=!1;if(!l)return{changes:[],updatedInternals:c};const f=[],h=window.getComputedStyle(l),{m22:m}=new window.DOMMatrixReadOnly(h.transform),g=[];for(const y of e.values()){const b=t.get(y.id);if(!b)continue;if(b.hidden){t.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),c=!0;continue}const C=$0(y.nodeElement),N=b.measured.width!==C.width||b.measured.height!==C.height;if(!!(C.width&&C.height&&(N||!b.internals.handleBounds||y.force))){const _=y.nodeElement.getBoundingClientRect(),A=cu(b.extent)?b.extent:a;let{positionAbsolute:k}=b.internals;b.parentId&&b.extent==="parent"?k=fC(k,C,t.get(b.parentId)):A&&(k=La(k,A,C));const O={...b,measured:C,internals:{...b.internals,positionAbsolute:k,handleBounds:{source:Z1("source",y.nodeElement,_,m,b.id),target:Z1("target",y.nodeElement,_,m,b.id)}}};t.set(b.id,O),b.parentId&&q0(O,t,n,{nodeOrigin:s}),c=!0,N&&(f.push({id:b.id,type:"dimensions",dimensions:C}),b.expandParent&&b.parentId&&g.push({id:b.id,parentId:b.parentId,rect:uu(O,s)}))}}if(g.length>0){const y=Z0(g,t,n,s);f.push(...y)}return{changes:f,updatedInternals:c}}async function KR({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:a}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,a]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function Q1(e,t,n,r,s,a){let l=s;const c=r.get(l)||new Map;r.set(l,c.set(n,t)),l=`${s}-${e}`;const f=r.get(l)||new Map;if(r.set(l,f.set(n,t)),a){l=`${s}-${e}-${a}`;const h=r.get(l)||new Map;r.set(l,h.set(n,t))}}function CC(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:a,sourceHandle:l=null,targetHandle:c=null}=r,f={edgeId:r.id,source:s,target:a,sourceHandle:l,targetHandle:c},h=`${s}-${l}--${a}-${c}`,m=`${a}-${c}--${s}-${l}`;Q1("source",f,m,e,s,l),Q1("target",f,h,e,a,c),t.set(r.id,r)}}function TC(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:TC(n,t):!1}function eS(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function XR(e,t,n,r){const s=new Map;for(const[a,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!TC(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const c=e.get(a);c&&s.set(a,{id:a,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return s}function Og({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const s=[];for(const[l,c]of t){const f=n.get(l)?.internals.userNode;f&&s.push({...f,position:c.position,dragging:r})}if(!e)return[s[0],s];const a=n.get(e)?.internals.userNode;return[a?{...a,position:t.get(e)?.position||a.position,dragging:r}:s[0],s]}function WR({dragItems:e,snapGrid:t,x:n,y:r}){const s=e.values().next().value;if(!s)return null;const a={x:n-s.distance.x,y:r-s.distance.y},l=_d(a,t);return{x:l.x-a.x,y:l.y-a.y}}function JR({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let a={x:null,y:null},l=0,c=new Map,f=!1,h={x:0,y:0},m=null,g=!1,y=null,b=!1,C=!1,N=null;function T({noDragClassName:A,handleSelector:k,domNode:O,isSelectable:R,nodeId:z,nodeClickDistance:D=0}){y=Xr(O);function I({x:X,y:ae}){const{nodeLookup:q,nodeExtent:Q,snapGrid:$,snapToGrid:Y,nodeOrigin:K,onNodeDrag:ue,onSelectionDrag:B,onError:Z,updateNodePositions:J}=t();a={x:X,y:ae};let F=!1;const ge=c.size>1,Oe=ge&&Q?Py(Nd(c)):null,Ee=ge&&Y?WR({dragItems:c,snapGrid:$,x:X,y:ae}):null;for(const[Te,je]of c){if(!q.has(Te))continue;let Se={x:X-je.distance.x,y:ae-je.distance.y};Y&&(Se=Ee?{x:Math.round(Se.x+Ee.x),y:Math.round(Se.y+Ee.y)}:_d(Se,$));let We=null;if(ge&&Q&&!je.extent&&Oe){const{positionAbsolute:ot}=je.internals,at=ot.x-Oe.x+Q[0][0],vt=ot.x+je.measured.width-Oe.x2+Q[1][0],Ut=ot.y-Oe.y+Q[0][1],ln=ot.y+je.measured.height-Oe.y2+Q[1][1];We=[[at,Ut],[vt,ln]]}const{position:et,positionAbsolute:$e}=dC({nodeId:Te,nextPosition:Se,nodeLookup:q,nodeExtent:We||Q,nodeOrigin:K,onError:Z});F=F||je.position.x!==et.x||je.position.y!==et.y,je.position=et,je.internals.positionAbsolute=$e}if(C=C||F,!!F&&(J(c,!0),N&&(r||ue||!z&&B))){const[Te,je]=Og({nodeId:z,dragItems:c,nodeLookup:q});r?.(N,c,Te,je),ue?.(N,Te,je),z||B?.(N,je)}}async function H(){if(!m)return;const{transform:X,panBy:ae,autoPanSpeed:q,autoPanOnNodeDrag:Q}=t();if(!Q){f=!1,cancelAnimationFrame(l);return}const[$,Y]=hC(h,m,q);($!==0||Y!==0)&&(a.x=(a.x??0)-$/X[2],a.y=(a.y??0)-Y/X[2],await ae({x:$,y:Y})&&I(a)),l=requestAnimationFrame(H)}function te(X){const{nodeLookup:ae,multiSelectionActive:q,nodesDraggable:Q,transform:$,snapGrid:Y,snapToGrid:K,selectNodesOnDrag:ue,onNodeDragStart:B,onSelectionDragStart:Z,unselectNodesAndEdges:J}=t();g=!0,(!ue||!R)&&!q&&z&&(ae.get(z)?.selected||J()),R&&ue&&z&&e?.(z);const F=qc(X.sourceEvent,{transform:$,snapGrid:Y,snapToGrid:K,containerBounds:m});if(a=F,c=XR(ae,Q,F,z),c.size>0&&(n||B||!z&&Z)){const[ge,Oe]=Og({nodeId:z,dragItems:c,nodeLookup:ae});n?.(X.sourceEvent,c,ge,Oe),B?.(X.sourceEvent,ge,Oe),z||Z?.(X.sourceEvent,Oe)}}const ee=UE().clickDistance(D).on("start",X=>{const{domNode:ae,nodeDragThreshold:q,transform:Q,snapGrid:$,snapToGrid:Y}=t();m=ae?.getBoundingClientRect()||null,b=!1,C=!1,N=X.sourceEvent,q===0&&te(X),a=qc(X.sourceEvent,{transform:Q,snapGrid:$,snapToGrid:Y,containerBounds:m}),h=Ii(X.sourceEvent,m)}).on("drag",X=>{const{autoPanOnNodeDrag:ae,transform:q,snapGrid:Q,snapToGrid:$,nodeDragThreshold:Y,nodeLookup:K}=t(),ue=qc(X.sourceEvent,{transform:q,snapGrid:Q,snapToGrid:$,containerBounds:m});if(N=X.sourceEvent,(X.sourceEvent.type==="touchmove"&&X.sourceEvent.touches.length>1||z&&!K.has(z))&&(b=!0),!b){if(!f&&ae&&g&&(f=!0,H()),!g){const B=Ii(X.sourceEvent,m),Z=B.x-h.x,J=B.y-h.y;Math.sqrt(Z*Z+J*J)>Y&&te(X)}(a.x!==ue.xSnapped||a.y!==ue.ySnapped)&&c&&g&&(h=Ii(X.sourceEvent,m),I(ue))}}).on("end",X=>{if(!(!g||b)&&(f=!1,g=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:ae,updateNodePositions:q,onNodeDragStop:Q,onSelectionDragStop:$}=t();if(C&&(q(c,!1),C=!1),s||Q||!z&&$){const[Y,K]=Og({nodeId:z,dragItems:c,nodeLookup:ae,dragging:!1});s?.(X.sourceEvent,c,Y,K),Q?.(X.sourceEvent,Y,K),z||$?.(X.sourceEvent,K)}}}).filter(X=>{const ae=X.target;return!X.button&&(!A||!eS(ae,`.${A}`,O))&&(!k||eS(ae,k,O))});y.call(ee)}function _(){y?.on(".drag",null)}return{update:T,destroy:_}}function QR(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const a of t.values())ld(s,uu(a))>0&&r.push(a);return r}const e5=250;function t5(e,t,n,r){let s=[],a=1/0;const l=QR(e,n,t+e5);for(const c of l){const f=[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]];for(const h of f){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:m,y:g}=cd(c,h,h.position,!0),y=Math.sqrt(Math.pow(m-e.x,2)+Math.pow(g-e.y,2));y>t||(y<a?(s=[{...h,x:m,y:g}],a=y):y===a&&s.push({...h,x:m,y:g}))}}if(!s.length)return null;if(s.length>1){const c=r.type==="source"?"target":"source";return s.find(f=>f.type===c)??s[0]}return s[0]}function kC(e,t,n,r,s,a=!1){const l=r.get(e);if(!l)return null;const c=s==="strict"?l.internals.handleBounds?.[t]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],f=(n?c?.find(h=>h.id===n):c?.[0])??null;return f&&a?{...f,...cd(l,f,f.position,!0)}:f}function jC(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function n5(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const AC=()=>!0;function r5(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:a,isTarget:l,domNode:c,nodeLookup:f,lib:h,autoPanOnConnect:m,flowId:g,panBy:y,cancelConnection:b,onConnectStart:C,onConnect:N,onConnectEnd:T,isValidConnection:_=AC,onReconnectEnd:A,updateConnection:k,getTransform:O,getFromHandle:R,autoPanSpeed:z,dragThreshold:D=1,handleDomNode:I}){const H=yC(e.target);let te=0,ee;const{x:X,y:ae}=Ii(e),q=jC(a,I),Q=c?.getBoundingClientRect();let $=!1;if(!Q||!q)return;const Y=kC(s,q,r,f,t);if(!Y)return;let K=Ii(e,Q),ue=!1,B=null,Z=!1,J=null;function F(){if(!m||!Q)return;const[et,$e]=hC(K,Q,z);y({x:et,y:$e}),te=requestAnimationFrame(F)}const ge={...Y,nodeId:s,type:q,position:Y.position},Oe=f.get(s);let Te={inProgress:!0,isValid:null,from:cd(Oe,ge,Ze.Left,!0),fromHandle:ge,fromPosition:ge.position,fromNode:Oe,to:K,toHandle:null,toPosition:$1[ge.position],toNode:null};function je(){$=!0,k(Te),C?.(e,{nodeId:s,handleId:r,handleType:q})}D===0&&je();function Se(et){if(!$){const{x:vt,y:Ut}=Ii(et),ln=vt-X,Lr=Ut-ae;if(!(ln*ln+Lr*Lr>D*D))return;je()}if(!R()||!ge){We(et);return}const $e=O();K=Ii(et,Q),ee=t5(Ed(K,$e,!1,[1,1]),n,f,ge),ue||(F(),ue=!0);const ot=MC(et,{handle:ee,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:l?"target":"source",isValidConnection:_,doc:H,lib:h,flowId:g,nodeLookup:f});J=ot.handleDomNode,B=ot.connection,Z=n5(!!ee,ot.isValid);const at={...Te,isValid:Z,to:ot.toHandle&&Z?Hh({x:ot.toHandle.x,y:ot.toHandle.y},$e):K,toHandle:ot.toHandle,toPosition:Z&&ot.toHandle?ot.toHandle.position:$1[ge.position],toNode:ot.toHandle?f.get(ot.toHandle.nodeId):null};Z&&ee&&Te.toHandle&&at.toHandle&&Te.toHandle.type===at.toHandle.type&&Te.toHandle.nodeId===at.toHandle.nodeId&&Te.toHandle.id===at.toHandle.id&&Te.to.x===at.to.x&&Te.to.y===at.to.y||(k(at),Te=at)}function We(et){if(!("touches"in et&&et.touches.length>0)){if($){(ee||J)&&B&&Z&&N?.(B);const{inProgress:$e,...ot}=Te,at={...ot,toPosition:Te.toHandle?Te.toPosition:null};T?.(et,at),a&&A?.(et,at)}b(),cancelAnimationFrame(te),ue=!1,Z=!1,B=null,J=null,H.removeEventListener("mousemove",Se),H.removeEventListener("mouseup",We),H.removeEventListener("touchmove",Se),H.removeEventListener("touchend",We)}}H.addEventListener("mousemove",Se),H.addEventListener("mouseup",We),H.addEventListener("touchmove",Se),H.addEventListener("touchend",We)}function MC(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:a,doc:l,lib:c,flowId:f,isValidConnection:h=AC,nodeLookup:m}){const g=a==="target",y=t?l.querySelector(`.${c}-flow__handle[data-id="${f}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:b,y:C}=Ii(e),N=l.elementFromPoint(b,C),T=N?.classList.contains(`${c}-flow__handle`)?N:y,_={handleDomNode:T,isValid:!1,connection:null,toHandle:null};if(T){const A=jC(void 0,T),k=T.getAttribute("data-nodeid"),O=T.getAttribute("data-handleid"),R=T.classList.contains("connectable"),z=T.classList.contains("connectableend");if(!k||!A)return _;const D={source:g?k:r,sourceHandle:g?O:s,target:g?r:k,targetHandle:g?s:O};_.connection=D;const H=R&&z&&(n===au.Strict?g&&A==="source"||!g&&A==="target":k!==r||O!==s);_.isValid=H&&h(D),_.toHandle=kC(k,A,O,m,n,!0)}return _}const By={onPointerDown:r5,isValid:MC};function i5({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=Xr(e);function a({translateExtent:c,width:f,height:h,zoomStep:m=1,pannable:g=!0,zoomable:y=!0,inversePan:b=!1}){const C=k=>{if(k.sourceEvent.type!=="wheel"||!t)return;const O=n(),R=k.sourceEvent.ctrlKey&&ud()?10:1,z=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*m,D=O[2]*Math.pow(2,z*R);t.scaleTo(D)};let N=[0,0];const T=k=>{(k.sourceEvent.type==="mousedown"||k.sourceEvent.type==="touchstart")&&(N=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},_=k=>{const O=n();if(k.sourceEvent.type!=="mousemove"&&k.sourceEvent.type!=="touchmove"||!t)return;const R=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],z=[R[0]-N[0],R[1]-N[1]];N=R;const D=r()*Math.max(O[2],Math.log(O[2]))*(b?-1:1),I={x:O[0]-z[0]*D,y:O[1]-z[1]*D},H=[[0,0],[f,h]];t.setViewportConstrained({x:I.x,y:I.y,zoom:O[2]},H,c)},A=oC().on("start",T).on("zoom",g?_:null).on("zoom.wheel",y?C:null);s.call(A,{})}function l(){s.on("zoom",null)}return{update:a,destroy:l,pointer:zi}}const o5=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,hp=e=>({x:e.x,y:e.y,zoom:e.k}),Dg=({x:e,y:t,zoom:n})=>cp.translate(e,t).scale(n),Ul=(e,t)=>e.target.closest(`.${t}`),OC=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),s5=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,zg=(e,t=0,n=s5,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},DC=e=>{const t=e.ctrlKey&&ud()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function a5({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:a,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:f,onPanZoomEnd:h}){return m=>{if(Ul(m,t))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const g=n.property("__zoom").k||1;if(m.ctrlKey&&l){const T=zi(m),_=DC(m),A=g*Math.pow(2,_);r.scaleTo(n,A,T,m);return}const y=m.deltaMode===1?20:1;let b=s===Da.Vertical?0:m.deltaX*y,C=s===Da.Horizontal?0:m.deltaY*y;!ud()&&m.shiftKey&&s!==Da.Vertical&&(b=m.deltaY*y,C=0),r.translateBy(n,-(b/g)*a,-(C/g)*a,{internal:!0});const N=hp(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,c?.(m,N)),e.isPanScrolling&&(f?.(m,N),e.panScrollTimeout=setTimeout(()=>{h?.(m,N),e.isPanScrolling=!1},150))}}function l5({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const a=r.type==="wheel",l=!t&&a&&!r.ctrlKey,c=Ul(r,e);if(r.ctrlKey&&a&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,s)}}function u5({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const s=hp(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=s,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,s)}}function c5({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return a=>{e.usedRightMouseButton=!!(n&&OC(t,e.mouseButton??0)),a.sourceEvent?.sync||r([a.transform.x,a.transform.y,a.transform.k]),s&&!a.sourceEvent?.internal&&s?.(a.sourceEvent,hp(a.transform))}}function d5({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:a}){return l=>{if(!l.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,a&&OC(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&a(l.sourceEvent),e.usedRightMouseButton=!1,r(!1),s&&o5(e.prevViewport,l.transform))){const c=hp(l.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s?.(l.sourceEvent,c)},n?150:0)}}}function f5({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:a,userSelectionActive:l,noWheelClassName:c,noPanClassName:f,lib:h,connectionInProgress:m}){return g=>{const y=e||t,b=n&&g.ctrlKey,C=g.type==="wheel";if(g.button===1&&g.type==="mousedown"&&(Ul(g,`${h}-flow__node`)||Ul(g,`${h}-flow__edge`)))return!0;if(!r&&!y&&!s&&!a&&!n||l||m&&!C||Ul(g,c)&&C||Ul(g,f)&&(!C||s&&C&&!e)||!n&&g.ctrlKey&&C)return!1;if(!n&&g.type==="touchstart"&&g.touches?.length>1)return g.preventDefault(),!1;if(!y&&!s&&!b&&C||!r&&(g.type==="mousedown"||g.type==="touchstart")||Array.isArray(r)&&!r.includes(g.button)&&g.type==="mousedown")return!1;const N=Array.isArray(r)&&r.includes(g.button)||!g.button||g.button<=1;return(!g.ctrlKey||C)&&N}}function h5({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:s,viewport:a,onPanZoom:l,onPanZoomStart:c,onPanZoomEnd:f,onDraggingChange:h}){const m={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=e.getBoundingClientRect(),y=oC().clickDistance(!Pi(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(s),b=Xr(e).call(y);k({x:a.x,y:a.y,zoom:lu(a.zoom,t,n)},[[0,0],[g.width,g.height]],s);const C=b.on("wheel.zoom"),N=b.on("dblclick.zoom");y.wheelDelta(DC);function T(X,ae){return b?new Promise(q=>{y?.interpolate(ae?.interpolate==="linear"?Uc:_h).transform(zg(b,ae?.duration,ae?.ease,()=>q(!0)),X)}):Promise.resolve(!1)}function _({noWheelClassName:X,noPanClassName:ae,onPaneContextMenu:q,userSelectionActive:Q,panOnScroll:$,panOnDrag:Y,panOnScrollMode:K,panOnScrollSpeed:ue,preventScrolling:B,zoomOnPinch:Z,zoomOnScroll:J,zoomOnDoubleClick:F,zoomActivationKeyPressed:ge,lib:Oe,onTransformChange:Ee,connectionInProgress:Te}){Q&&!m.isZoomingOrPanning&&A();const Se=$&&!ge&&!Q?a5({zoomPanValues:m,noWheelClassName:X,d3Selection:b,d3Zoom:y,panOnScrollMode:K,panOnScrollSpeed:ue,zoomOnPinch:Z,onPanZoomStart:c,onPanZoom:l,onPanZoomEnd:f}):l5({noWheelClassName:X,preventScrolling:B,d3ZoomHandler:C});if(b.on("wheel.zoom",Se,{passive:!1}),!Q){const et=u5({zoomPanValues:m,onDraggingChange:h,onPanZoomStart:c});y.on("start",et);const $e=c5({zoomPanValues:m,panOnDrag:Y,onPaneContextMenu:!!q,onPanZoom:l,onTransformChange:Ee});y.on("zoom",$e);const ot=d5({zoomPanValues:m,panOnDrag:Y,panOnScroll:$,onPaneContextMenu:q,onPanZoomEnd:f,onDraggingChange:h});y.on("end",ot)}const We=f5({zoomActivationKeyPressed:ge,panOnDrag:Y,zoomOnScroll:J,panOnScroll:$,zoomOnDoubleClick:F,zoomOnPinch:Z,userSelectionActive:Q,noPanClassName:ae,noWheelClassName:X,lib:Oe,connectionInProgress:Te});y.filter(We),F?b.on("dblclick.zoom",N):b.on("dblclick.zoom",null)}function A(){y.on("zoom",null)}async function k(X,ae,q){const Q=Dg(X),$=y?.constrain()(Q,ae,q);return $&&await T($),new Promise(Y=>Y($))}async function O(X,ae){const q=Dg(X);return await T(q,ae),new Promise(Q=>Q(q))}function R(X){if(b){const ae=Dg(X),q=b.property("__zoom");(q.k!==X.zoom||q.x!==X.x||q.y!==X.y)&&y?.transform(b,ae,null,{sync:!0})}}function z(){const X=b?iC(b.node()):{x:0,y:0,k:1};return{x:X.x,y:X.y,zoom:X.k}}function D(X,ae){return b?new Promise(q=>{y?.interpolate(ae?.interpolate==="linear"?Uc:_h).scaleTo(zg(b,ae?.duration,ae?.ease,()=>q(!0)),X)}):Promise.resolve(!1)}function I(X,ae){return b?new Promise(q=>{y?.interpolate(ae?.interpolate==="linear"?Uc:_h).scaleBy(zg(b,ae?.duration,ae?.ease,()=>q(!0)),X)}):Promise.resolve(!1)}function H(X){y?.scaleExtent(X)}function te(X){y?.translateExtent(X)}function ee(X){const ae=!Pi(X)||X<0?0:X;y?.clickDistance(ae)}return{update:_,destroy:A,setViewport:O,setViewportConstrained:k,getViewport:z,scaleTo:D,scaleBy:I,setScaleExtent:H,setTranslateExtent:te,syncViewport:R,setClickDistance:ee}}var Fa;(function(e){e.Line="line",e.Handle="handle"})(Fa||(Fa={}));const p5=["top-left","top-right","bottom-left","bottom-right"],m5=["top","right","bottom","left"];function g5({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:a}){const l=e-t,c=n-r,f=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&s&&(f[0]=f[0]*-1),c&&a&&(f[1]=f[1]*-1),f}function y5(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function zs(e,t){return Math.max(0,t-e)}function Rs(e,t){return Math.max(0,e-t)}function Jf(e,t,n){return Math.max(0,t-e,e-n)}function tS(e,t){return e?!t:t}function x5(e,t,n,r,s,a,l,c){let{affectsX:f,affectsY:h}=t;const{isHorizontal:m,isVertical:g}=t,y=m&&g,{xSnapped:b,ySnapped:C}=n,{minWidth:N,maxWidth:T,minHeight:_,maxHeight:A}=r,{x:k,y:O,width:R,height:z,aspectRatio:D}=e;let I=Math.floor(m?b-e.pointerX:0),H=Math.floor(g?C-e.pointerY:0);const te=R+(f?-I:I),ee=z+(h?-H:H),X=-a[0]*R,ae=-a[1]*z;let q=Jf(te,N,T),Q=Jf(ee,_,A);if(l){let K=0,ue=0;f&&I<0?K=zs(k+I+X,l[0][0]):!f&&I>0&&(K=Rs(k+te+X,l[1][0])),h&&H<0?ue=zs(O+H+ae,l[0][1]):!h&&H>0&&(ue=Rs(O+ee+ae,l[1][1])),q=Math.max(q,K),Q=Math.max(Q,ue)}if(c){let K=0,ue=0;f&&I>0?K=Rs(k+I,c[0][0]):!f&&I<0&&(K=zs(k+te,c[1][0])),h&&H>0?ue=Rs(O+H,c[0][1]):!h&&H<0&&(ue=zs(O+ee,c[1][1])),q=Math.max(q,K),Q=Math.max(Q,ue)}if(s){if(m){const K=Jf(te/D,_,A)*D;if(q=Math.max(q,K),l){let ue=0;!f&&!h||f&&!h&&y?ue=Rs(O+ae+te/D,l[1][1])*D:ue=zs(O+ae+(f?I:-I)/D,l[0][1])*D,q=Math.max(q,ue)}if(c){let ue=0;!f&&!h||f&&!h&&y?ue=zs(O+te/D,c[1][1])*D:ue=Rs(O+(f?I:-I)/D,c[0][1])*D,q=Math.max(q,ue)}}if(g){const K=Jf(ee*D,N,T)/D;if(Q=Math.max(Q,K),l){let ue=0;!f&&!h||h&&!f&&y?ue=Rs(k+ee*D+X,l[1][0])/D:ue=zs(k+(h?H:-H)*D+X,l[0][0])/D,Q=Math.max(Q,ue)}if(c){let ue=0;!f&&!h||h&&!f&&y?ue=zs(k+ee*D,c[1][0])/D:ue=Rs(k+(h?H:-H)*D,c[0][0])/D,Q=Math.max(Q,ue)}}}H=H+(H<0?Q:-Q),I=I+(I<0?q:-q),s&&(y?te>ee*D?H=(tS(f,h)?-I:I)/D:I=(tS(f,h)?-H:H)*D:m?(H=I/D,h=f):(I=H*D,f=h));const $=f?k+I:k,Y=h?O+H:O;return{width:R+(f?-I:I),height:z+(h?-H:H),x:a[0]*I*(f?-1:1)+$,y:a[1]*H*(h?-1:1)+Y}}const zC={width:0,height:0,x:0,y:0},v5={...zC,pointerX:0,pointerY:0,aspectRatio:1};function b5(e){return[[0,0],[e.measured.width,e.measured.height]]}function w5(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,a=e.measured.width??0,l=e.measured.height??0,c=n[0]*a,f=n[1]*l;return[[r-c,s-f],[r+a-c,s+l-f]]}function S5({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const a=Xr(e);function l({controlPosition:f,boundaries:h,keepAspectRatio:m,resizeDirection:g,onResizeStart:y,onResize:b,onResizeEnd:C,shouldResize:N}){let T={...zC},_={...v5};const A=y5(f);let k,O=null,R=[],z,D,I,H=!1;const te=UE().on("start",ee=>{const{nodeLookup:X,transform:ae,snapGrid:q,snapToGrid:Q,nodeOrigin:$,paneDomNode:Y}=n();if(k=X.get(t),!k)return;O=Y?.getBoundingClientRect()??null;const{xSnapped:K,ySnapped:ue}=qc(ee.sourceEvent,{transform:ae,snapGrid:q,snapToGrid:Q,containerBounds:O});T={width:k.measured.width??0,height:k.measured.height??0,x:k.position.x??0,y:k.position.y??0},_={...T,pointerX:K,pointerY:ue,aspectRatio:T.width/T.height},z=void 0,k.parentId&&(k.extent==="parent"||k.expandParent)&&(z=X.get(k.parentId),D=z&&k.extent==="parent"?b5(z):void 0),R=[],I=void 0;for(const[B,Z]of X)if(Z.parentId===t&&(R.push({id:B,position:{...Z.position},extent:Z.extent}),Z.extent==="parent"||Z.expandParent)){const J=w5(Z,k,Z.origin??$);I?I=[[Math.min(J[0][0],I[0][0]),Math.min(J[0][1],I[0][1])],[Math.max(J[1][0],I[1][0]),Math.max(J[1][1],I[1][1])]]:I=J}y?.(ee,{...T})}).on("drag",ee=>{const{transform:X,snapGrid:ae,snapToGrid:q,nodeOrigin:Q}=n(),$=qc(ee.sourceEvent,{transform:X,snapGrid:ae,snapToGrid:q,containerBounds:O}),Y=[];if(!k)return;const{x:K,y:ue,width:B,height:Z}=T,J={},F=k.origin??Q,{width:ge,height:Oe,x:Ee,y:Te}=x5(_,A,$,h,m,F,D,I),je=ge!==B,Se=Oe!==Z,We=Ee!==K&&je,et=Te!==ue&&Se;if(!We&&!et&&!je&&!Se)return;if((We||et||F[0]===1||F[1]===1)&&(J.x=We?Ee:T.x,J.y=et?Te:T.y,T.x=J.x,T.y=J.y,R.length>0)){const vt=Ee-K,Ut=Te-ue;for(const ln of R)ln.position={x:ln.position.x-vt+F[0]*(ge-B),y:ln.position.y-Ut+F[1]*(Oe-Z)},Y.push(ln)}if((je||Se)&&(J.width=je&&(!g||g==="horizontal")?ge:T.width,J.height=Se&&(!g||g==="vertical")?Oe:T.height,T.width=J.width,T.height=J.height),z&&k.expandParent){const vt=F[0]*(J.width??0);J.x&&J.x<vt&&(T.x=vt,_.x=_.x-(J.x-vt));const Ut=F[1]*(J.height??0);J.y&&J.y<Ut&&(T.y=Ut,_.y=_.y-(J.y-Ut))}const $e=g5({width:T.width,prevWidth:B,height:T.height,prevHeight:Z,affectsX:A.affectsX,affectsY:A.affectsY}),ot={...T,direction:$e};N?.(ee,ot)!==!1&&(H=!0,b?.(ee,ot),r(J,Y))}).on("end",ee=>{H&&(C?.(ee,{...T}),s?.({...T}),H=!1)});a.call(te)}function c(){a.on(".drag",null)}return{update:l,destroy:c}}var Rg={exports:{}},Pg={},Ig={exports:{}},Lg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function N5(){if(nS)return Lg;nS=1;var e=Ba();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function c(g,y){var b=y(),C=r({inst:{value:b,getSnapshot:y}}),N=C[0].inst,T=C[1];return a(function(){N.value=b,N.getSnapshot=y,f(N)&&T({inst:N})},[g,b,y]),s(function(){return f(N)&&T({inst:N}),g(function(){f(N)&&T({inst:N})})},[g]),l(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!n(g,b)}catch{return!0}}function h(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Lg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Lg}var rS;function _5(){return rS||(rS=1,Ig.exports=N5()),Ig.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function E5(){if(iS)return Pg;iS=1;var e=Ba(),t=_5();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,c=e.useMemo,f=e.useDebugValue;return Pg.useSyncExternalStoreWithSelector=function(h,m,g,y,b){var C=a(null);if(C.current===null){var N={hasValue:!1,value:null};C.current=N}else N=C.current;C=c(function(){function _(z){if(!A){if(A=!0,k=z,z=y(z),b!==void 0&&N.hasValue){var D=N.value;if(b(D,z))return O=D}return O=z}if(D=O,r(k,z))return D;var I=y(z);return b!==void 0&&b(D,I)?(k=z,D):(k=z,O=I)}var A=!1,k,O,R=g===void 0?null:g;return[function(){return _(m())},R===null?void 0:function(){return _(R())}]},[m,g,y,b]);var T=s(h,C[0],C[1]);return l(function(){N.hasValue=!0,N.value=T},[T]),f(T),T},Pg}var oS;function C5(){return oS||(oS=1,Rg.exports=E5()),Rg.exports}var T5=C5();const k5=yu(T5),j5={},sS=e=>{let t;const n=new Set,r=(m,g)=>{const y=typeof m=="function"?m(t):m;if(!Object.is(y,t)){const b=t;t=g??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(C=>C(t,b))}},s=()=>t,f={setState:r,getState:s,getInitialState:()=>h,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(j5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=t=e(r,s,f);return f},A5=e=>e?sS(e):sS,{useDebugValue:M5}=to,{useSyncExternalStoreWithSelector:O5}=k5,D5=e=>e;function RC(e,t=D5,n){const r=O5(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return M5(r),r}const aS=(e,t)=>{const n=A5(e),r=(s,a=t)=>RC(n,s,a);return Object.assign(r,n),r},z5=(e,t)=>e?aS(e,t):aS;function hn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Y0=op();const pp=U.createContext(null),R5=pp.Provider,PC=so.error001();function kt(e,t){const n=U.useContext(pp);if(n===null)throw new Error(PC);return RC(n,e,t)}function sn(){const e=U.useContext(pp);if(e===null)throw new Error(PC);return U.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const lS={display:"none"},P5={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},IC="react-flow__node-desc",LC="react-flow__edge-desc",I5="react-flow__aria-live",L5=e=>e.ariaLiveMessage,F5=e=>e.ariaLabelConfig;function B5({rfId:e}){const t=kt(L5);return p.jsx("div",{id:`${I5}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:P5,children:t})}function V5({rfId:e,disableKeyboardA11y:t}){const n=kt(F5);return p.jsxs(p.Fragment,{children:[p.jsx("div",{id:`${IC}-${e}`,style:lS,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),p.jsx("div",{id:`${LC}-${e}`,style:lS,children:n["edge.a11yDescription.default"]}),!t&&p.jsx(B5,{rfId:e})]})}const Cd=U.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},a)=>{const l=`${e}`.split("-");return p.jsx("div",{className:Bn(["react-flow__panel",n,...l]),style:r,ref:a,...s,children:t})});Cd.displayName="Panel";function $5({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:p.jsx(Cd,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:p.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const H5=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Qf=e=>e.id;function U5(e,t){return hn(e.selectedNodes.map(Qf),t.selectedNodes.map(Qf))&&hn(e.selectedEdges.map(Qf),t.selectedEdges.map(Qf))}function q5({onSelectionChange:e}){const t=sn(),{selectedNodes:n,selectedEdges:r}=kt(H5,U5);return U.useEffect(()=>{const s={nodes:n,edges:r};e?.(s),t.getState().onSelectionChangeHandlers.forEach(a=>a(s))},[n,r,e]),null}const Z5=e=>!!e.onSelectionChangeHandlers;function Y5({onSelectionChange:e}){const t=kt(Z5);return e||t?p.jsx(q5,{onSelectionChange:e}):null}const FC=[0,0],G5={x:0,y:0,zoom:1},K5=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],uS=[...K5,"rfId"],X5=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),cS={translateExtent:sd,nodeOrigin:FC,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function W5(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:a,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:f,setPaneClickDistance:h}=kt(X5,hn),m=sn();U.useEffect(()=>(f(e.defaultNodes,e.defaultEdges),()=>{g.current=cS,c()}),[]);const g=U.useRef(cS);return U.useEffect(()=>{for(const y of uS){const b=e[y],C=g.current[y];b!==C&&(typeof e[y]>"u"||(y==="nodes"?t(b):y==="edges"?n(b):y==="minZoom"?r(b):y==="maxZoom"?s(b):y==="translateExtent"?a(b):y==="nodeExtent"?l(b):y==="paneClickDistance"?h(b):y==="ariaLabelConfig"?m.setState({ariaLabelConfig:OR(b)}):y==="fitView"?m.setState({fitViewQueued:b}):y==="fitViewOptions"?m.setState({fitViewOptions:b}):m.setState({[y]:b})))}g.current=e},uS.map(y=>e[y])),null}function dS(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function J5(e){const[t,n]=U.useState(e==="system"?null:e);return U.useEffect(()=>{if(e!=="system"){n(e);return}const r=dS(),s=()=>n(r?.matches?"dark":"light");return s(),r?.addEventListener("change",s),()=>{r?.removeEventListener("change",s)}},[e]),t!==null?t:dS()?.matches?"dark":"light"}const fS=typeof document<"u"?document:null;function dd(e=null,t={target:fS,actInsideInputWithModifier:!0}){const[n,r]=U.useState(!1),s=U.useRef(!1),a=U.useRef(new Set([])),[l,c]=U.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(g=>typeof g=="string").map(g=>g.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=h.reduce((g,y)=>g.concat(...y),[]);return[h,m]}return[[],[]]},[e]);return U.useEffect(()=>{const f=t?.target??fS,h=t?.actInsideInputWithModifier??!0;if(e!==null){const m=b=>{if(s.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!s.current||s.current&&!h)&&xC(b))return!1;const N=pS(b.code,c);if(a.current.add(b[N]),hS(l,a.current,!1)){const T=b.composedPath?.()?.[0]||b.target,_=T?.nodeName==="BUTTON"||T?.nodeName==="A";t.preventDefault!==!1&&(s.current||!_)&&b.preventDefault(),r(!0)}},g=b=>{const C=pS(b.code,c);hS(l,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(b[C]),b.key==="Meta"&&a.current.clear(),s.current=!1},y=()=>{a.current.clear(),r(!1)};return f?.addEventListener("keydown",m),f?.addEventListener("keyup",g),window.addEventListener("blur",y),window.addEventListener("contextmenu",y),()=>{f?.removeEventListener("keydown",m),f?.removeEventListener("keyup",g),window.removeEventListener("blur",y),window.removeEventListener("contextmenu",y)}}},[e,r]),n}function hS(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function pS(e,t){return t.includes(e)?"code":"key"}const Q5=()=>{const e=sn();return U.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,a],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??a},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:a,maxZoom:l,panZoom:c}=e.getState(),f=V0(t,r,s,a,l,n?.padding??.1);return c?(await c.setViewport(f,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:a,domNode:l}=e.getState();if(!l)return t;const{x:c,y:f}=l.getBoundingClientRect(),h={x:t.x-c,y:t.y-f},m=n.snapGrid??s,g=n.snapToGrid??a;return Ed(h,r,g,m)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:a}=r.getBoundingClientRect(),l=Hh(t,n);return{x:l.x+s,y:l.y+a}}}),[])};function BC(e,t){const n=[],r=new Map,s=[];for(const a of e)if(a.type==="add"){s.push(a);continue}else if(a.type==="remove"||a.type==="replace")r.set(a.id,[a]);else{const l=r.get(a.id);l?l.push(a):r.set(a.id,[a])}for(const a of t){const l=r.get(a.id);if(!l){n.push(a);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...a};for(const f of l)e3(f,c);n.push(c)}return s.length&&s.forEach(a=>{a.index!==void 0?n.splice(a.index,0,{...a.item}):n.push({...a.item})}),n}function e3(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function VC(e,t){return BC(e,t)}function $C(e,t){return BC(e,t)}function Ta(e,t){return{id:e,type:"select",selected:t}}function ql(e,t=new Set,n=!1){const r=[];for(const[s,a]of e){const l=t.has(s);!(a.selected===void 0&&!l)&&a.selected!==l&&(n&&(a.selected=l),r.push(Ta(a.id,l)))}return r}function mS({items:e=[],lookup:t}){const n=[],r=new Map(e.map(s=>[s.id,s]));for(const[s,a]of e.entries()){const l=t.get(a.id),c=l?.internals?.userNode??l;c!==void 0&&c!==a&&n.push({id:a.id,item:a,type:"replace"}),c===void 0&&n.push({item:a,type:"add",index:s})}for(const[s]of t)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function gS(e){return{id:e.id,type:"remove"}}const yS=e=>SR(e),t3=e=>cC(e);function HC(e){return U.forwardRef(e)}const n3=typeof window<"u"?U.useLayoutEffect:U.useEffect;function xS(e){const[t,n]=U.useState(BigInt(0)),[r]=U.useState(()=>r3(()=>n(s=>s+BigInt(1))));return n3(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function r3(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const UC=U.createContext(null);function i3({children:e}){const t=sn(),n=U.useCallback(c=>{const{nodes:f=[],setNodes:h,hasDefaultNodes:m,onNodesChange:g,nodeLookup:y,fitViewQueued:b}=t.getState();let C=f;for(const T of c)C=typeof T=="function"?T(C):T;const N=mS({items:C,lookup:y});m&&h(C),N.length>0?g?.(N):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:T,nodes:_,setNodes:A}=t.getState();T&&A(_)})},[]),r=xS(n),s=U.useCallback(c=>{const{edges:f=[],setEdges:h,hasDefaultEdges:m,onEdgesChange:g,edgeLookup:y}=t.getState();let b=f;for(const C of c)b=typeof C=="function"?C(b):C;m?h(b):g&&g(mS({items:b,lookup:y}))},[]),a=xS(s),l=U.useMemo(()=>({nodeQueue:r,edgeQueue:a}),[]);return p.jsx(UC.Provider,{value:l,children:e})}function o3(){const e=U.useContext(UC);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const s3=e=>!!e.panZoom;function xu(){const e=Q5(),t=sn(),n=o3(),r=kt(s3),s=U.useMemo(()=>{const a=g=>t.getState().nodeLookup.get(g),l=g=>{n.nodeQueue.push(g)},c=g=>{n.edgeQueue.push(g)},f=g=>{const{nodeLookup:y,nodeOrigin:b}=t.getState(),C=yS(g)?g:y.get(g.id),N=C.parentId?gC(C.position,C.measured,C.parentId,y,b):C.position,T={...C,position:N,width:C.measured?.width??C.width,height:C.measured?.height??C.height};return uu(T)},h=(g,y,b={replace:!1})=>{l(C=>C.map(N=>{if(N.id===g){const T=typeof y=="function"?y(N):y;return b.replace&&yS(T)?T:{...N,...T}}return N}))},m=(g,y,b={replace:!1})=>{c(C=>C.map(N=>{if(N.id===g){const T=typeof y=="function"?y(N):y;return b.replace&&t3(T)?T:{...N,...T}}return N}))};return{getNodes:()=>t.getState().nodes.map(g=>({...g})),getNode:g=>a(g)?.internals.userNode,getInternalNode:a,getEdges:()=>{const{edges:g=[]}=t.getState();return g.map(y=>({...y}))},getEdge:g=>t.getState().edgeLookup.get(g),setNodes:l,setEdges:c,addNodes:g=>{const y=Array.isArray(g)?g:[g];n.nodeQueue.push(b=>[...b,...y])},addEdges:g=>{const y=Array.isArray(g)?g:[g];n.edgeQueue.push(b=>[...b,...y])},toObject:()=>{const{nodes:g=[],edges:y=[],transform:b}=t.getState(),[C,N,T]=b;return{nodes:g.map(_=>({..._})),edges:y.map(_=>({..._})),viewport:{x:C,y:N,zoom:T}}},deleteElements:async({nodes:g=[],edges:y=[]})=>{const{nodes:b,edges:C,onNodesDelete:N,onEdgesDelete:T,triggerNodeChanges:_,triggerEdgeChanges:A,onDelete:k,onBeforeDelete:O}=t.getState(),{nodes:R,edges:z}=await TR({nodesToRemove:g,edgesToRemove:y,nodes:b,edges:C,onBeforeDelete:O}),D=z.length>0,I=R.length>0;if(D){const H=z.map(gS);T?.(z),A(H)}if(I){const H=R.map(gS);N?.(R),_(H)}return(I||D)&&k?.({nodes:R,edges:z}),{deletedNodes:R,deletedEdges:z}},getIntersectingNodes:(g,y=!0,b)=>{const C=U1(g),N=C?g:f(g),T=b!==void 0;return N?(b||t.getState().nodes).filter(_=>{const A=t.getState().nodeLookup.get(_.id);if(A&&!C&&(_.id===g.id||!A.internals.positionAbsolute))return!1;const k=uu(T?_:A),O=ld(k,N);return y&&O>0||O>=k.width*k.height||O>=N.width*N.height}):[]},isNodeIntersecting:(g,y,b=!0)=>{const N=U1(g)?g:f(g);if(!N)return!1;const T=ld(N,y);return b&&T>0||T>=y.width*y.height||T>=N.width*N.height},updateNode:h,updateNodeData:(g,y,b={replace:!1})=>{h(g,C=>{const N=typeof y=="function"?y(C):y;return b.replace?{...C,data:N}:{...C,data:{...C.data,...N}}},b)},updateEdge:m,updateEdgeData:(g,y,b={replace:!1})=>{m(g,C=>{const N=typeof y=="function"?y(C):y;return b.replace?{...C,data:N}:{...C,data:{...C.data,...N}}},b)},getNodesBounds:g=>{const{nodeLookup:y,nodeOrigin:b}=t.getState();return NR(g,{nodeLookup:y,nodeOrigin:b})},getHandleConnections:({type:g,id:y,nodeId:b})=>Array.from(t.getState().connectionLookup.get(`${b}-${g}${y?`-${y}`:""}`)?.values()??[]),getNodeConnections:({type:g,handleId:y,nodeId:b})=>Array.from(t.getState().connectionLookup.get(`${b}${g?y?`-${g}-${y}`:`-${g}`:""}`)?.values()??[]),fitView:async g=>{const y=t.getState().fitViewResolver??MR();return t.setState({fitViewQueued:!0,fitViewOptions:g,fitViewResolver:y}),n.nodeQueue.push(b=>[...b]),y.promise}}},[]);return U.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const vS=e=>e.selected,a3=typeof window<"u"?window:void 0;function l3({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=sn(),{deleteElements:r}=xu(),s=dd(e,{actInsideInputWithModifier:!1}),a=dd(t,{target:a3});U.useEffect(()=>{if(s){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(vS),edges:l.filter(vS)}),n.setState({nodesSelectionActive:!1})}},[s]),U.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])}function u3(e){const t=sn();U.useEffect(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const r=$0(e.current);(r.height===0||r.width===0)&&t.getState().onError?.("004",so.error004()),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const mp={position:"absolute",width:"100%",height:"100%",top:0,left:0},c3=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function d3({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:a=Da.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:f,translateExtent:h,minZoom:m,maxZoom:g,zoomActivationKeyCode:y,preventScrolling:b=!0,children:C,noWheelClassName:N,noPanClassName:T,onViewportChange:_,isControlledViewport:A,paneClickDistance:k}){const O=sn(),R=U.useRef(null),{userSelectionActive:z,lib:D,connectionInProgress:I}=kt(c3,hn),H=dd(y),te=U.useRef();u3(R);const ee=U.useCallback(X=>{_?.({x:X[0],y:X[1],zoom:X[2]}),A||O.setState({transform:X})},[_,A]);return U.useEffect(()=>{if(R.current){te.current=h5({domNode:R.current,minZoom:m,maxZoom:g,translateExtent:h,viewport:f,paneClickDistance:k,onDraggingChange:Q=>O.setState({paneDragging:Q}),onPanZoomStart:(Q,$)=>{const{onViewportChangeStart:Y,onMoveStart:K}=O.getState();K?.(Q,$),Y?.($)},onPanZoom:(Q,$)=>{const{onViewportChange:Y,onMove:K}=O.getState();K?.(Q,$),Y?.($)},onPanZoomEnd:(Q,$)=>{const{onViewportChangeEnd:Y,onMoveEnd:K}=O.getState();K?.(Q,$),Y?.($)}});const{x:X,y:ae,zoom:q}=te.current.getViewport();return O.setState({panZoom:te.current,transform:[X,ae,q],domNode:R.current.closest(".react-flow")}),()=>{te.current?.destroy()}}},[]),U.useEffect(()=>{te.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:a,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:H,preventScrolling:b,noPanClassName:T,userSelectionActive:z,noWheelClassName:N,lib:D,onTransformChange:ee,connectionInProgress:I})},[e,t,n,r,s,a,l,c,H,b,T,z,N,D,ee,I]),p.jsx("div",{className:"react-flow__renderer",ref:R,style:mp,children:C})}const f3=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function h3(){const{userSelectionActive:e,userSelectionRect:t}=kt(f3,hn);return e&&t?p.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Fg=(e,t)=>n=>{n.target===t.current&&e?.(n)},p3=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function m3({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ad.Full,panOnDrag:r,selectionOnDrag:s,onSelectionStart:a,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:f,onPaneScroll:h,onPaneMouseEnter:m,onPaneMouseMove:g,onPaneMouseLeave:y,children:b}){const C=sn(),{userSelectionActive:N,elementsSelectable:T,dragging:_,connectionInProgress:A}=kt(p3,hn),k=T&&(e||N),O=U.useRef(null),R=U.useRef(),z=U.useRef(new Set),D=U.useRef(new Set),I=U.useRef(!1),H=U.useRef(!1),te=Y=>{if(I.current||A){I.current=!1;return}c?.(Y),C.getState().resetSelectedElements(),C.setState({nodesSelectionActive:!1})},ee=Y=>{if(Array.isArray(r)&&r?.includes(2)){Y.preventDefault();return}f?.(Y)},X=h?Y=>h(Y):void 0,ae=Y=>{const{resetSelectedElements:K,domNode:ue}=C.getState();if(R.current=ue?.getBoundingClientRect(),!T||!e||Y.button!==0||Y.target!==O.current||!R.current)return;Y.target?.setPointerCapture?.(Y.pointerId),H.current=!0,I.current=!1;const{x:B,y:Z}=Ii(Y.nativeEvent,R.current);K(),C.setState({userSelectionRect:{width:0,height:0,startX:B,startY:Z,x:B,y:Z}}),a?.(Y)},q=Y=>{const{userSelectionRect:K,transform:ue,nodeLookup:B,edgeLookup:Z,connectionLookup:J,triggerNodeChanges:F,triggerEdgeChanges:ge,defaultEdgeOptions:Oe}=C.getState();if(!R.current||!K)return;I.current=!0;const{x:Ee,y:Te}=Ii(Y.nativeEvent,R.current),{startX:je,startY:Se}=K,We={startX:je,startY:Se,x:Ee<je?Ee:je,y:Te<Se?Te:Se,width:Math.abs(Ee-je),height:Math.abs(Te-Se)},et=z.current,$e=D.current;z.current=new Set(B0(B,We,ue,n===ad.Partial,!0).map(at=>at.id)),D.current=new Set;const ot=Oe?.selectable??!0;for(const at of z.current){const vt=J.get(at);if(vt)for(const{edgeId:Ut}of vt.values()){const ln=Z.get(Ut);ln&&(ln.selectable??ot)&&D.current.add(Ut)}}if(!q1(et,z.current)){const at=ql(B,z.current,!0);F(at)}if(!q1($e,D.current)){const at=ql(Z,D.current);ge(at)}C.setState({userSelectionRect:We,userSelectionActive:!0,nodesSelectionActive:!1})},Q=Y=>{if(Y.button!==0||!H.current)return;Y.target?.releasePointerCapture?.(Y.pointerId);const{userSelectionRect:K}=C.getState();!N&&K&&Y.target===O.current&&te?.(Y),C.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:z.current.size>0}),l?.(Y),(t||s)&&(I.current=!1),H.current=!1},$=r===!0||Array.isArray(r)&&r.includes(0);return p.jsxs("div",{className:Bn(["react-flow__pane",{draggable:$,dragging:_,selection:e}]),onClick:k?void 0:Fg(te,O),onContextMenu:Fg(ee,O),onWheel:Fg(X,O),onPointerEnter:k?void 0:m,onPointerDown:k?ae:g,onPointerMove:k?q:g,onPointerUp:k?Q:void 0,onPointerLeave:y,ref:O,style:mp,children:[b,p.jsx(h3,{})]})}function Vy({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:l,nodeLookup:c,onError:f}=t.getState(),h=c.get(e);if(!h){f?.("012",so.error012(e));return}t.setState({nodesSelectionActive:!1}),h.selected?(n||h.selected&&l)&&(a({nodes:[h],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):s([e])}function qC({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:a,nodeClickDistance:l}){const c=sn(),[f,h]=U.useState(!1),m=U.useRef();return U.useEffect(()=>{m.current=JR({getStoreItems:()=>c.getState(),onNodeMouseDown:g=>{Vy({id:g,store:c,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),U.useEffect(()=>{if(t)m.current?.destroy();else if(e.current)return m.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:a,nodeId:s,nodeClickDistance:l}),()=>{m.current?.destroy()}},[n,r,t,a,e,s]),f}const g3=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function ZC(){const e=sn();return U.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:a,nodesDraggable:l,onError:c,updateNodePositions:f,nodeLookup:h,nodeOrigin:m}=e.getState(),g=new Map,y=g3(l),b=s?a[0]:5,C=s?a[1]:5,N=n.direction.x*b*n.factor,T=n.direction.y*C*n.factor;for(const[,_]of h){if(!y(_))continue;let A={x:_.internals.positionAbsolute.x+N,y:_.internals.positionAbsolute.y+T};s&&(A=_d(A,a));const{position:k,positionAbsolute:O}=dC({nodeId:_.id,nextPosition:A,nodeLookup:h,nodeExtent:r,nodeOrigin:m,onError:c});_.position=k,_.internals.positionAbsolute=O,g.set(_.id,_)}f(g)},[])}const G0=U.createContext(null),y3=G0.Provider;G0.Consumer;const YC=()=>U.useContext(G0),x3=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),v3=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:a,connection:l}=r,{fromHandle:c,toHandle:f,isValid:h}=l,m=f?.nodeId===e&&f?.id===t&&f?.type===n;return{connectingFrom:c?.nodeId===e&&c?.id===t&&c?.type===n,connectingTo:m,clickConnecting:s?.nodeId===e&&s?.id===t&&s?.type===n,isPossibleEndHandle:a===au.Strict?c?.type!==n:e!==c?.nodeId||t!==c?.id,connectionInProcess:!!c,clickConnectionInProcess:!!s,valid:m&&h}};function b3({type:e="source",position:t=Ze.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:l,onConnect:c,children:f,className:h,onMouseDown:m,onTouchStart:g,...y},b){const C=l||null,N=e==="target",T=sn(),_=YC(),{connectOnClick:A,noPanClassName:k,rfId:O}=kt(x3,hn),{connectingFrom:R,connectingTo:z,clickConnecting:D,isPossibleEndHandle:I,connectionInProcess:H,clickConnectionInProcess:te,valid:ee}=kt(v3(_,C,e),hn);_||T.getState().onError?.("010",so.error010());const X=Q=>{const{defaultEdgeOptions:$,onConnect:Y,hasDefaultEdges:K}=T.getState(),ue={...$,...Q};if(K){const{edges:B,setEdges:Z}=T.getState();Z(NC(ue,B))}Y?.(ue),c?.(ue)},ae=Q=>{if(!_)return;const $=vC(Q.nativeEvent);if(s&&($&&Q.button===0||!$)){const Y=T.getState();By.onPointerDown(Q.nativeEvent,{handleDomNode:Q.currentTarget,autoPanOnConnect:Y.autoPanOnConnect,connectionMode:Y.connectionMode,connectionRadius:Y.connectionRadius,domNode:Y.domNode,nodeLookup:Y.nodeLookup,lib:Y.lib,isTarget:N,handleId:C,nodeId:_,flowId:Y.rfId,panBy:Y.panBy,cancelConnection:Y.cancelConnection,onConnectStart:Y.onConnectStart,onConnectEnd:Y.onConnectEnd,updateConnection:Y.updateConnection,onConnect:X,isValidConnection:n||Y.isValidConnection,getTransform:()=>T.getState().transform,getFromHandle:()=>T.getState().connection.fromHandle,autoPanSpeed:Y.autoPanSpeed,dragThreshold:Y.connectionDragThreshold})}$?m?.(Q):g?.(Q)},q=Q=>{const{onClickConnectStart:$,onClickConnectEnd:Y,connectionClickStartHandle:K,connectionMode:ue,isValidConnection:B,lib:Z,rfId:J,nodeLookup:F,connection:ge}=T.getState();if(!_||!K&&!s)return;if(!K){$?.(Q.nativeEvent,{nodeId:_,handleId:C,handleType:e}),T.setState({connectionClickStartHandle:{nodeId:_,type:e,id:C}});return}const Oe=yC(Q.target),Ee=n||B,{connection:Te,isValid:je}=By.isValid(Q.nativeEvent,{handle:{nodeId:_,id:C,type:e},connectionMode:ue,fromNodeId:K.nodeId,fromHandleId:K.id||null,fromType:K.type,isValidConnection:Ee,flowId:J,doc:Oe,lib:Z,nodeLookup:F});je&&Te&&X(Te);const Se=structuredClone(ge);delete Se.inProgress,Se.toPosition=Se.toHandle?Se.toHandle.position:null,Y?.(Q,Se),T.setState({connectionClickStartHandle:null})};return p.jsx("div",{"data-handleid":C,"data-nodeid":_,"data-handlepos":t,"data-id":`${O}-${_}-${C}-${e}`,className:Bn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",k,h,{source:!N,target:N,connectable:r,connectablestart:s,connectableend:a,clickconnecting:D,connectingfrom:R,connectingto:z,valid:ee,connectionindicator:r&&(!H||I)&&(H||te?a:s)}]),onMouseDown:ae,onTouchStart:ae,onClick:A?q:void 0,ref:b,...y,children:f})}const tn=U.memo(HC(b3));function w3({data:e,isConnectable:t,sourcePosition:n=Ze.Bottom}){return p.jsxs(p.Fragment,{children:[e?.label,p.jsx(tn,{type:"source",position:n,isConnectable:t})]})}function S3({data:e,isConnectable:t,targetPosition:n=Ze.Top,sourcePosition:r=Ze.Bottom}){return p.jsxs(p.Fragment,{children:[p.jsx(tn,{type:"target",position:n,isConnectable:t}),e?.label,p.jsx(tn,{type:"source",position:r,isConnectable:t})]})}function N3(){return null}function _3({data:e,isConnectable:t,targetPosition:n=Ze.Top}){return p.jsxs(p.Fragment,{children:[p.jsx(tn,{type:"target",position:n,isConnectable:t}),e?.label]})}const Uh={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},bS={input:w3,default:S3,output:_3,group:N3};function E3(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const C3=e=>{const{width:t,height:n,x:r,y:s}=Nd(e.nodeLookup,{filter:a=>!!a.selected});return{width:Pi(t)?t:null,height:Pi(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function T3({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=sn(),{width:s,height:a,transformString:l,userSelectionActive:c}=kt(C3,hn),f=ZC(),h=U.useRef(null);if(U.useEffect(()=>{n||h.current?.focus({preventScroll:!0})},[n]),qC({nodeRef:h}),c||!s||!a)return null;const m=e?y=>{const b=r.getState().nodes.filter(C=>C.selected);e(y,b)}:void 0,g=y=>{Object.prototype.hasOwnProperty.call(Uh,y.key)&&(y.preventDefault(),f({direction:Uh[y.key],factor:y.shiftKey?4:1}))};return p.jsx("div",{className:Bn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:p.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:s,height:a}})})}const wS=typeof window<"u"?window:void 0,k3=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function GC({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:f,selectionKeyCode:h,selectionOnDrag:m,selectionMode:g,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:C,panActivationKeyCode:N,zoomActivationKeyCode:T,elementsSelectable:_,zoomOnScroll:A,zoomOnPinch:k,panOnScroll:O,panOnScrollSpeed:R,panOnScrollMode:z,zoomOnDoubleClick:D,panOnDrag:I,defaultViewport:H,translateExtent:te,minZoom:ee,maxZoom:X,preventScrolling:ae,onSelectionContextMenu:q,noWheelClassName:Q,noPanClassName:$,disableKeyboardA11y:Y,onViewportChange:K,isControlledViewport:ue}){const{nodesSelectionActive:B,userSelectionActive:Z}=kt(k3),J=dd(h,{target:wS}),F=dd(N,{target:wS}),ge=F||I,Oe=F||O,Ee=m&&ge!==!0,Te=J||Z||Ee;return l3({deleteKeyCode:f,multiSelectionKeyCode:C}),p.jsx(d3,{onPaneContextMenu:a,elementsSelectable:_,zoomOnScroll:A,zoomOnPinch:k,panOnScroll:Oe,panOnScrollSpeed:R,panOnScrollMode:z,zoomOnDoubleClick:D,panOnDrag:!J&&ge,defaultViewport:H,translateExtent:te,minZoom:ee,maxZoom:X,zoomActivationKeyCode:T,preventScrolling:ae,noWheelClassName:Q,noPanClassName:$,onViewportChange:K,isControlledViewport:ue,paneClickDistance:c,children:p.jsxs(m3,{onSelectionStart:y,onSelectionEnd:b,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:l,panOnDrag:ge,isSelecting:!!Te,selectionMode:g,selectionKeyPressed:J,selectionOnDrag:Ee,children:[e,B&&p.jsx(T3,{onSelectionContextMenu:q,noPanClassName:$,disableKeyboardA11y:Y})]})})}GC.displayName="FlowRenderer";const j3=U.memo(GC),A3=e=>t=>e?B0(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function M3(e){return kt(U.useCallback(A3(e),[e]),hn)}const O3=e=>e.updateNodeInternals;function D3(){const e=kt(O3),[t]=U.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const a=s.target.getAttribute("data-id");r.set(a,{id:a,nodeElement:s.target,force:!0})}),e(r)}));return U.useEffect(()=>()=>{t?.disconnect()},[t]),t}function z3({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=sn(),a=U.useRef(null),l=U.useRef(null),c=U.useRef(e.sourcePosition),f=U.useRef(e.targetPosition),h=U.useRef(t),m=n&&!!e.internals.handleBounds;return U.useEffect(()=>{a.current&&!e.hidden&&(!m||l.current!==a.current)&&(l.current&&r?.unobserve(l.current),r?.observe(a.current),l.current=a.current)},[m,e.hidden]),U.useEffect(()=>()=>{l.current&&(r?.unobserve(l.current),l.current=null)},[]),U.useEffect(()=>{if(a.current){const g=h.current!==t,y=c.current!==e.sourcePosition,b=f.current!==e.targetPosition;(g||y||b)&&(h.current=t,c.current=e.sourcePosition,f.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:a.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),a}function R3({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:a,onDoubleClick:l,nodesDraggable:c,elementsSelectable:f,nodesConnectable:h,nodesFocusable:m,resizeObserver:g,noDragClassName:y,noPanClassName:b,disableKeyboardA11y:C,rfId:N,nodeTypes:T,nodeClickDistance:_,onError:A}){const{node:k,internals:O,isParent:R}=kt(je=>{const Se=je.nodeLookup.get(e),We=je.parentLookup.has(e);return{node:Se,internals:Se.internals,isParent:We}},hn);let z=k.type||"default",D=T?.[z]||bS[z];D===void 0&&(A?.("003",so.error003(z)),z="default",D=T?.default||bS.default);const I=!!(k.draggable||c&&typeof k.draggable>"u"),H=!!(k.selectable||f&&typeof k.selectable>"u"),te=!!(k.connectable||h&&typeof k.connectable>"u"),ee=!!(k.focusable||m&&typeof k.focusable>"u"),X=sn(),ae=mC(k),q=z3({node:k,nodeType:z,hasDimensions:ae,resizeObserver:g}),Q=qC({nodeRef:q,disabled:k.hidden||!I,noDragClassName:y,handleSelector:k.dragHandle,nodeId:e,isSelectable:H,nodeClickDistance:_}),$=ZC();if(k.hidden)return null;const Y=Jo(k),K=E3(k),ue=H||I||t||n||r||s,B=n?je=>n(je,{...O.userNode}):void 0,Z=r?je=>r(je,{...O.userNode}):void 0,J=s?je=>s(je,{...O.userNode}):void 0,F=a?je=>a(je,{...O.userNode}):void 0,ge=l?je=>l(je,{...O.userNode}):void 0,Oe=je=>{const{selectNodesOnDrag:Se,nodeDragThreshold:We}=X.getState();H&&(!Se||!I||We>0)&&Vy({id:e,store:X,nodeRef:q}),t&&t(je,{...O.userNode})},Ee=je=>{if(!(xC(je.nativeEvent)||C)){if(sC.includes(je.key)&&H){const Se=je.key==="Escape";Vy({id:e,store:X,unselect:Se,nodeRef:q})}else if(I&&k.selected&&Object.prototype.hasOwnProperty.call(Uh,je.key)){je.preventDefault();const{ariaLabelConfig:Se}=X.getState();X.setState({ariaLiveMessage:Se["node.a11yDescription.ariaLiveMessage"]({direction:je.key.replace("Arrow","").toLowerCase(),x:~~O.positionAbsolute.x,y:~~O.positionAbsolute.y})}),$({direction:Uh[je.key],factor:je.shiftKey?4:1})}}},Te=()=>{if(C||!q.current?.matches(":focus-visible"))return;const{transform:je,width:Se,height:We,autoPanOnNodeFocus:et,setCenter:$e}=X.getState();if(!et)return;B0(new Map([[e,k]]),{x:0,y:0,width:Se,height:We},je,!0).length>0||$e(k.position.x+Y.width/2,k.position.y+Y.height/2,{zoom:je[2]})};return p.jsx("div",{className:Bn(["react-flow__node",`react-flow__node-${z}`,{[b]:I},k.className,{selected:k.selected,selectable:H,parent:R,draggable:I,dragging:Q}]),ref:q,style:{zIndex:O.z,transform:`translate(${O.positionAbsolute.x}px,${O.positionAbsolute.y}px)`,pointerEvents:ue?"all":"none",visibility:ae?"visible":"hidden",...k.style,...K},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:B,onMouseMove:Z,onMouseLeave:J,onContextMenu:F,onClick:Oe,onDoubleClick:ge,onKeyDown:ee?Ee:void 0,tabIndex:ee?0:void 0,onFocus:ee?Te:void 0,role:k.ariaRole??(ee?"group":void 0),"aria-roledescription":"node","aria-describedby":C?void 0:`${IC}-${N}`,"aria-label":k.ariaLabel,...k.domAttributes,children:p.jsx(y3,{value:e,children:p.jsx(D,{id:e,data:k.data,type:z,positionAbsoluteX:O.positionAbsolute.x,positionAbsoluteY:O.positionAbsolute.y,selected:k.selected??!1,selectable:H,draggable:I,deletable:k.deletable??!0,isConnectable:te,sourcePosition:k.sourcePosition,targetPosition:k.targetPosition,dragging:Q,dragHandle:k.dragHandle,zIndex:O.z,parentId:k.parentId,...Y})})})}const P3=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function KC(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:a}=kt(P3,hn),l=M3(e.onlyRenderVisibleElements),c=D3();return p.jsx("div",{className:"react-flow__nodes",style:mp,children:l.map(f=>p.jsx(R3,{id:f,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:a},f))})}KC.displayName="NodeRenderer";const I3=U.memo(KC);function L3(e){return kt(U.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const a=n.nodeLookup.get(s.source),l=n.nodeLookup.get(s.target);a&&l&&RR({sourceNode:a,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),hn)}const F3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return p.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},B3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return p.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},SS={[Vh.Arrow]:F3,[Vh.ArrowClosed]:B3};function V3(e){const t=sn();return U.useMemo(()=>Object.prototype.hasOwnProperty.call(SS,e)?SS[e]:(t.getState().onError?.("009",so.error009(e)),null),[e])}const $3=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const f=V3(t);return f?p.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:c,refX:"0",refY:"0",children:p.jsx(f,{color:n,strokeWidth:l})}):null},XC=({defaultColor:e,rfId:t})=>{const n=kt(a=>a.edges),r=kt(a=>a.defaultEdgeOptions),s=U.useMemo(()=>$R(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return s.length?p.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:p.jsx("defs",{children:s.map(a=>p.jsx($3,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})}):null};XC.displayName="MarkerDefinitions";var H3=U.memo(XC);function WC({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:a,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:f,className:h,...m}){const[g,y]=U.useState({x:1,y:0,width:0,height:0}),b=Bn(["react-flow__edge-textwrapper",h]),C=U.useRef(null);return U.useEffect(()=>{if(C.current){const N=C.current.getBBox();y({x:N.x,y:N.y,width:N.width,height:N.height})}},[n]),n?p.jsxs("g",{transform:`translate(${e-g.width/2} ${t-g.height/2})`,className:b,visibility:g.width?"visible":"hidden",...m,children:[s&&p.jsx("rect",{width:g.width+2*l[0],x:-l[0],y:-l[1],height:g.height+2*l[1],className:"react-flow__edge-textbg",style:a,rx:c,ry:c}),p.jsx("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:C,style:r,children:n}),f]}):null}WC.displayName="EdgeText";const U3=U.memo(WC);function gp({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,interactionWidth:h=20,...m}){return p.jsxs(p.Fragment,{children:[p.jsx("path",{...m,d:e,fill:"none",className:Bn(["react-flow__edge-path",m.className])}),h?p.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,r&&Pi(t)&&Pi(n)?p.jsx(U3,{x:t,y:n,label:r,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f}):null]})}function NS({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===Ze.Left||e===Ze.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function JC({sourceX:e,sourceY:t,sourcePosition:n=Ze.Bottom,targetX:r,targetY:s,targetPosition:a=Ze.Top}){const[l,c]=NS({pos:n,x1:e,y1:t,x2:r,y2:s}),[f,h]=NS({pos:a,x1:r,y1:s,x2:e,y2:t}),[m,g,y,b]=bC({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:f,targetControlY:h});return[`M${e},${t} C${l},${c} ${f},${h} ${r},${s}`,m,g,y,b]}function QC(e){return U.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:a,sourcePosition:l,targetPosition:c,label:f,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:b,style:C,markerEnd:N,markerStart:T,interactionWidth:_})=>{const[A,k,O]=JC({sourceX:n,sourceY:r,sourcePosition:l,targetX:s,targetY:a,targetPosition:c}),R=e.isInternal?void 0:t;return p.jsx(gp,{id:R,path:A,labelX:k,labelY:O,label:f,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:b,style:C,markerEnd:N,markerStart:T,interactionWidth:_})})}const q3=QC({isInternal:!1}),e2=QC({isInternal:!0});q3.displayName="SimpleBezierEdge";e2.displayName="SimpleBezierEdgeInternal";function t2(e){return U.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:a,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:y,sourcePosition:b=Ze.Bottom,targetPosition:C=Ze.Top,markerEnd:N,markerStart:T,pathOptions:_,interactionWidth:A})=>{const[k,O,R]=Iy({sourceX:n,sourceY:r,sourcePosition:b,targetX:s,targetY:a,targetPosition:C,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),z=e.isInternal?void 0:t;return p.jsx(gp,{id:z,path:k,labelX:O,labelY:R,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:y,markerEnd:N,markerStart:T,interactionWidth:A})})}const n2=t2({isInternal:!1}),r2=t2({isInternal:!0});n2.displayName="SmoothStepEdge";r2.displayName="SmoothStepEdgeInternal";function i2(e){return U.memo(({id:t,...n})=>{const r=e.isInternal?void 0:t;return p.jsx(n2,{...n,id:r,pathOptions:U.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const Z3=i2({isInternal:!1}),o2=i2({isInternal:!0});Z3.displayName="StepEdge";o2.displayName="StepEdgeInternal";function s2(e){return U.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:a,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:C,interactionWidth:N})=>{const[T,_,A]=_C({sourceX:n,sourceY:r,targetX:s,targetY:a}),k=e.isInternal?void 0:t;return p.jsx(gp,{id:k,path:T,labelX:_,labelY:A,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:C,interactionWidth:N})})}const Y3=s2({isInternal:!1}),a2=s2({isInternal:!0});Y3.displayName="StraightEdge";a2.displayName="StraightEdgeInternal";function l2(e){return U.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:a,sourcePosition:l=Ze.Bottom,targetPosition:c=Ze.Top,label:f,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:b,style:C,markerEnd:N,markerStart:T,pathOptions:_,interactionWidth:A})=>{const[k,O,R]=wC({sourceX:n,sourceY:r,sourcePosition:l,targetX:s,targetY:a,targetPosition:c,curvature:_?.curvature}),z=e.isInternal?void 0:t;return p.jsx(gp,{id:z,path:k,labelX:O,labelY:R,label:f,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:b,style:C,markerEnd:N,markerStart:T,interactionWidth:A})})}const G3=l2({isInternal:!1}),u2=l2({isInternal:!0});G3.displayName="BezierEdge";u2.displayName="BezierEdgeInternal";const _S={default:u2,straight:a2,step:o2,smoothstep:r2,simplebezier:e2},ES={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},K3=(e,t,n)=>n===Ze.Left?e-t:n===Ze.Right?e+t:e,X3=(e,t,n)=>n===Ze.Top?e-t:n===Ze.Bottom?e+t:e,CS="react-flow__edgeupdater";function TS({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:a,onMouseOut:l,type:c}){return p.jsx("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:l,className:Bn([CS,`${CS}-${c}`]),cx:K3(t,r,e),cy:X3(n,r,e),r,stroke:"transparent",fill:"transparent"})}function W3({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:a,targetY:l,sourcePosition:c,targetPosition:f,onReconnect:h,onReconnectStart:m,onReconnectEnd:g,setReconnecting:y,setUpdateHover:b}){const C=sn(),N=(O,R)=>{if(O.button!==0)return;const{autoPanOnConnect:z,domNode:D,isValidConnection:I,connectionMode:H,connectionRadius:te,lib:ee,onConnectStart:X,onConnectEnd:ae,cancelConnection:q,nodeLookup:Q,rfId:$,panBy:Y,updateConnection:K}=C.getState(),ue=R.type==="target",B=(F,ge)=>{y(!1),g?.(F,n,R.type,ge)},Z=F=>h?.(n,F),J=(F,ge)=>{y(!0),m?.(O,n,R.type),X?.(F,ge)};By.onPointerDown(O.nativeEvent,{autoPanOnConnect:z,connectionMode:H,connectionRadius:te,domNode:D,handleId:R.id,nodeId:R.nodeId,nodeLookup:Q,isTarget:ue,edgeUpdaterType:R.type,lib:ee,flowId:$,cancelConnection:q,panBy:Y,isValidConnection:I,onConnect:Z,onConnectStart:J,onConnectEnd:ae,onReconnectEnd:B,updateConnection:K,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,dragThreshold:C.getState().connectionDragThreshold,handleDomNode:O.currentTarget})},T=O=>N(O,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),_=O=>N(O,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),A=()=>b(!0),k=()=>b(!1);return p.jsxs(p.Fragment,{children:[(e===!0||e==="source")&&p.jsx(TS,{position:c,centerX:r,centerY:s,radius:t,onMouseDown:T,onMouseEnter:A,onMouseOut:k,type:"source"}),(e===!0||e==="target")&&p.jsx(TS,{position:f,centerX:a,centerY:l,radius:t,onMouseDown:_,onMouseEnter:A,onMouseOut:k,type:"target"})]})}function J3({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:a,onContextMenu:l,onMouseEnter:c,onMouseMove:f,onMouseLeave:h,reconnectRadius:m,onReconnect:g,onReconnectStart:y,onReconnectEnd:b,rfId:C,edgeTypes:N,noPanClassName:T,onError:_,disableKeyboardA11y:A}){let k=kt($e=>$e.edgeLookup.get(e));const O=kt($e=>$e.defaultEdgeOptions);k=O?{...O,...k}:k;let R=k.type||"default",z=N?.[R]||_S[R];z===void 0&&(_?.("011",so.error011(R)),R="default",z=N?.default||_S.default);const D=!!(k.focusable||t&&typeof k.focusable>"u"),I=typeof g<"u"&&(k.reconnectable||n&&typeof k.reconnectable>"u"),H=!!(k.selectable||r&&typeof k.selectable>"u"),te=U.useRef(null),[ee,X]=U.useState(!1),[ae,q]=U.useState(!1),Q=sn(),{zIndex:$,sourceX:Y,sourceY:K,targetX:ue,targetY:B,sourcePosition:Z,targetPosition:J}=kt(U.useCallback($e=>{const ot=$e.nodeLookup.get(k.source),at=$e.nodeLookup.get(k.target);if(!ot||!at)return{zIndex:k.zIndex,...ES};const vt=VR({id:e,sourceNode:ot,targetNode:at,sourceHandle:k.sourceHandle||null,targetHandle:k.targetHandle||null,connectionMode:$e.connectionMode,onError:_});return{zIndex:zR({selected:k.selected,zIndex:k.zIndex,sourceNode:ot,targetNode:at,elevateOnSelect:$e.elevateEdgesOnSelect}),...vt||ES}},[k.source,k.target,k.sourceHandle,k.targetHandle,k.selected,k.zIndex]),hn),F=U.useMemo(()=>k.markerStart?`url('#${Ly(k.markerStart,C)}')`:void 0,[k.markerStart,C]),ge=U.useMemo(()=>k.markerEnd?`url('#${Ly(k.markerEnd,C)}')`:void 0,[k.markerEnd,C]);if(k.hidden||Y===null||K===null||ue===null||B===null)return null;const Oe=$e=>{const{addSelectedEdges:ot,unselectNodesAndEdges:at,multiSelectionActive:vt}=Q.getState();H&&(Q.setState({nodesSelectionActive:!1}),k.selected&&vt?(at({nodes:[],edges:[k]}),te.current?.blur()):ot([e])),s&&s($e,k)},Ee=a?$e=>{a($e,{...k})}:void 0,Te=l?$e=>{l($e,{...k})}:void 0,je=c?$e=>{c($e,{...k})}:void 0,Se=f?$e=>{f($e,{...k})}:void 0,We=h?$e=>{h($e,{...k})}:void 0,et=$e=>{if(!A&&sC.includes($e.key)&&H){const{unselectNodesAndEdges:ot,addSelectedEdges:at}=Q.getState();$e.key==="Escape"?(te.current?.blur(),ot({edges:[k]})):at([e])}};return p.jsx("svg",{style:{zIndex:$},children:p.jsxs("g",{className:Bn(["react-flow__edge",`react-flow__edge-${R}`,k.className,T,{selected:k.selected,animated:k.animated,inactive:!H&&!s,updating:ee,selectable:H}]),onClick:Oe,onDoubleClick:Ee,onContextMenu:Te,onMouseEnter:je,onMouseMove:Se,onMouseLeave:We,onKeyDown:D?et:void 0,tabIndex:D?0:void 0,role:k.ariaRole??(D?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":k.ariaLabel===null?void 0:k.ariaLabel||`Edge from ${k.source} to ${k.target}`,"aria-describedby":D?`${LC}-${C}`:void 0,ref:te,...k.domAttributes,children:[!ae&&p.jsx(z,{id:e,source:k.source,target:k.target,type:k.type,selected:k.selected,animated:k.animated,selectable:H,deletable:k.deletable??!0,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,sourceX:Y,sourceY:K,targetX:ue,targetY:B,sourcePosition:Z,targetPosition:J,data:k.data,style:k.style,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerStart:F,markerEnd:ge,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth}),I&&p.jsx(W3,{edge:k,isReconnectable:I,reconnectRadius:m,onReconnect:g,onReconnectStart:y,onReconnectEnd:b,sourceX:Y,sourceY:K,targetX:ue,targetY:B,sourcePosition:Z,targetPosition:J,setUpdateHover:X,setReconnecting:q})]})})}const Q3=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function c2({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:a,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:f,onEdgeMouseLeave:h,onEdgeClick:m,reconnectRadius:g,onEdgeDoubleClick:y,onReconnectStart:b,onReconnectEnd:C,disableKeyboardA11y:N}){const{edgesFocusable:T,edgesReconnectable:_,elementsSelectable:A,onError:k}=kt(Q3,hn),O=L3(t);return p.jsxs("div",{className:"react-flow__edges",children:[p.jsx(H3,{defaultColor:e,rfId:n}),O.map(R=>p.jsx(J3,{id:R,edgesFocusable:T,edgesReconnectable:_,elementsSelectable:A,noPanClassName:s,onReconnect:a,onContextMenu:l,onMouseEnter:c,onMouseMove:f,onMouseLeave:h,onClick:m,reconnectRadius:g,onDoubleClick:y,onReconnectStart:b,onReconnectEnd:C,rfId:n,onError:k,edgeTypes:r,disableKeyboardA11y:N},R))]})}c2.displayName="EdgeRenderer";const e4=U.memo(c2),t4=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function n4({children:e}){const t=kt(t4);return p.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function r4(e){const t=xu(),n=U.useRef(!1);U.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const i4=e=>e.panZoom?.syncViewport;function o4(e){const t=kt(i4),n=sn();return U.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function s4(e){return e.connection.inProgress?{...e.connection,to:Ed(e.connection.to,e.transform)}:{...e.connection}}function a4(e){return s4}function l4(e){const t=a4();return kt(t,hn)}const u4=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function c4({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:a,height:l,isValid:c,inProgress:f}=kt(u4,hn);return!(a&&s&&f)?null:p.jsx("svg",{style:e,width:a,height:l,className:"react-flow__connectionline react-flow__container",children:p.jsx("g",{className:Bn(["react-flow__connection",uC(c)]),children:p.jsx(d2,{style:t,type:n,CustomComponent:r,isValid:c})})})}const d2=({style:e,type:t=Vs.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:a,fromNode:l,fromHandle:c,fromPosition:f,to:h,toNode:m,toHandle:g,toPosition:y}=l4();if(!s)return;if(n)return p.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:c,fromX:a.x,fromY:a.y,toX:h.x,toY:h.y,fromPosition:f,toPosition:y,connectionStatus:uC(r),toNode:m,toHandle:g});let b="";const C={sourceX:a.x,sourceY:a.y,sourcePosition:f,targetX:h.x,targetY:h.y,targetPosition:y};switch(t){case Vs.Bezier:[b]=wC(C);break;case Vs.SimpleBezier:[b]=JC(C);break;case Vs.Step:[b]=Iy({...C,borderRadius:0});break;case Vs.SmoothStep:[b]=Iy(C);break;default:[b]=_C(C)}return p.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:e})};d2.displayName="ConnectionLine";const d4={};function kS(e=d4){U.useRef(e),sn(),U.useEffect(()=>{},[e])}function f4(){sn(),U.useRef(!1),U.useEffect(()=>{},[])}function f2({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:a,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:y,onSelectionEnd:b,connectionLineType:C,connectionLineStyle:N,connectionLineComponent:T,connectionLineContainerStyle:_,selectionKeyCode:A,selectionOnDrag:k,selectionMode:O,multiSelectionKeyCode:R,panActivationKeyCode:z,zoomActivationKeyCode:D,deleteKeyCode:I,onlyRenderVisibleElements:H,elementsSelectable:te,defaultViewport:ee,translateExtent:X,minZoom:ae,maxZoom:q,preventScrolling:Q,defaultMarkerColor:$,zoomOnScroll:Y,zoomOnPinch:K,panOnScroll:ue,panOnScrollSpeed:B,panOnScrollMode:Z,zoomOnDoubleClick:J,panOnDrag:F,onPaneClick:ge,onPaneMouseEnter:Oe,onPaneMouseMove:Ee,onPaneMouseLeave:Te,onPaneScroll:je,onPaneContextMenu:Se,paneClickDistance:We,nodeClickDistance:et,onEdgeContextMenu:$e,onEdgeMouseEnter:ot,onEdgeMouseMove:at,onEdgeMouseLeave:vt,reconnectRadius:Ut,onReconnect:ln,onReconnectStart:Lr,onReconnectEnd:Fr,noDragClassName:dr,noWheelClassName:Nn,noPanClassName:ti,disableKeyboardA11y:fr,nodeExtent:gn,rfId:vr,viewport:_e,onViewportChange:Re}){return kS(e),kS(t),f4(),r4(n),o4(_e),p.jsx(j3,{onPaneClick:ge,onPaneMouseEnter:Oe,onPaneMouseMove:Ee,onPaneMouseLeave:Te,onPaneContextMenu:Se,onPaneScroll:je,paneClickDistance:We,deleteKeyCode:I,selectionKeyCode:A,selectionOnDrag:k,selectionMode:O,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:R,panActivationKeyCode:z,zoomActivationKeyCode:D,elementsSelectable:te,zoomOnScroll:Y,zoomOnPinch:K,zoomOnDoubleClick:J,panOnScroll:ue,panOnScrollSpeed:B,panOnScrollMode:Z,panOnDrag:F,defaultViewport:ee,translateExtent:X,minZoom:ae,maxZoom:q,onSelectionContextMenu:g,preventScrolling:Q,noDragClassName:dr,noWheelClassName:Nn,noPanClassName:ti,disableKeyboardA11y:fr,onViewportChange:Re,isControlledViewport:!!_e,children:p.jsxs(n4,{children:[p.jsx(e4,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:l,onReconnect:ln,onReconnectStart:Lr,onReconnectEnd:Fr,onlyRenderVisibleElements:H,onEdgeContextMenu:$e,onEdgeMouseEnter:ot,onEdgeMouseMove:at,onEdgeMouseLeave:vt,reconnectRadius:Ut,defaultMarkerColor:$,noPanClassName:ti,disableKeyboardA11y:fr,rfId:vr}),p.jsx(c4,{style:N,type:C,component:T,containerStyle:_}),p.jsx("div",{className:"react-flow__edgelabel-renderer"}),p.jsx(I3,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,nodeClickDistance:et,onlyRenderVisibleElements:H,noPanClassName:ti,noDragClassName:dr,disableKeyboardA11y:fr,nodeExtent:gn,rfId:vr}),p.jsx("div",{className:"react-flow__viewport-portal"})]})})}f2.displayName="GraphView";const h4=U.memo(f2),jS=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:a,fitView:l,fitViewOptions:c,minZoom:f=.5,maxZoom:h=2,nodeOrigin:m,nodeExtent:g}={})=>{const y=new Map,b=new Map,C=new Map,N=new Map,T=r??t??[],_=n??e??[],A=m??[0,0],k=g??sd;CC(C,N,T);const O=Fy(_,y,b,{nodeOrigin:A,nodeExtent:k,elevateNodesOnSelect:!1});let R=[0,0,1];if(l&&s&&a){const z=Nd(y,{filter:te=>!!((te.width||te.initialWidth)&&(te.height||te.initialHeight))}),{x:D,y:I,zoom:H}=V0(z,s,a,f,h,c?.padding??.1);R=[D,I,H]}return{rfId:"1",width:s??0,height:a??0,transform:R,nodes:_,nodesInitialized:O,nodeLookup:y,parentLookup:b,edges:T,edgeLookup:N,connectionLookup:C,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:f,maxZoom:h,translateExtent:sd,nodeExtent:k,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:au.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:A,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{...lC},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:kR,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:aC}},p4=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:a,fitView:l,fitViewOptions:c,minZoom:f,maxZoom:h,nodeOrigin:m,nodeExtent:g})=>z5((y,b)=>{async function C(){const{nodeLookup:N,panZoom:T,fitViewOptions:_,fitViewResolver:A,width:k,height:O,minZoom:R,maxZoom:z}=b();T&&(await CR({nodes:N,width:k,height:O,panZoom:T,minZoom:R,maxZoom:z},_),A?.resolve(!0),y({fitViewResolver:null}))}return{...jS({nodes:e,edges:t,width:s,height:a,fitView:l,fitViewOptions:c,minZoom:f,maxZoom:h,nodeOrigin:m,nodeExtent:g,defaultNodes:n,defaultEdges:r}),setNodes:N=>{const{nodeLookup:T,parentLookup:_,nodeOrigin:A,elevateNodesOnSelect:k,fitViewQueued:O}=b(),R=Fy(N,T,_,{nodeOrigin:A,nodeExtent:g,elevateNodesOnSelect:k,checkEquality:!0});O&&R?(C(),y({nodes:N,nodesInitialized:R,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:N,nodesInitialized:R})},setEdges:N=>{const{connectionLookup:T,edgeLookup:_}=b();CC(T,_,N),y({edges:N})},setDefaultNodesAndEdges:(N,T)=>{if(N){const{setNodes:_}=b();_(N),y({hasDefaultNodes:!0})}if(T){const{setEdges:_}=b();_(T),y({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:T,nodeLookup:_,parentLookup:A,domNode:k,nodeOrigin:O,nodeExtent:R,debug:z,fitViewQueued:D}=b(),{changes:I,updatedInternals:H}=GR(N,_,A,k,O,R);H&&(UR(_,A,{nodeOrigin:O,nodeExtent:R}),D?(C(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),I?.length>0&&(z&&console.log("React Flow: trigger node changes",I),T?.(I)))},updateNodePositions:(N,T=!1)=>{const _=[],A=[],{nodeLookup:k,triggerNodeChanges:O}=b();for(const[R,z]of N){const D=k.get(R),I=!!(D?.expandParent&&D?.parentId&&z?.position),H={id:R,type:"position",position:I?{x:Math.max(0,z.position.x),y:Math.max(0,z.position.y)}:z.position,dragging:T};I&&D.parentId&&_.push({id:R,parentId:D.parentId,rect:{...z.internals.positionAbsolute,width:z.measured.width??0,height:z.measured.height??0}}),A.push(H)}if(_.length>0){const{parentLookup:R,nodeOrigin:z}=b(),D=Z0(_,k,R,z);A.push(...D)}O(A)},triggerNodeChanges:N=>{const{onNodesChange:T,setNodes:_,nodes:A,hasDefaultNodes:k,debug:O}=b();if(N?.length){if(k){const R=VC(N,A);_(R)}O&&console.log("React Flow: trigger node changes",N),T?.(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:T,setEdges:_,edges:A,hasDefaultEdges:k,debug:O}=b();if(N?.length){if(k){const R=$C(N,A);_(R)}O&&console.log("React Flow: trigger edge changes",N),T?.(N)}},addSelectedNodes:N=>{const{multiSelectionActive:T,edgeLookup:_,nodeLookup:A,triggerNodeChanges:k,triggerEdgeChanges:O}=b();if(T){const R=N.map(z=>Ta(z,!0));k(R);return}k(ql(A,new Set([...N]),!0)),O(ql(_))},addSelectedEdges:N=>{const{multiSelectionActive:T,edgeLookup:_,nodeLookup:A,triggerNodeChanges:k,triggerEdgeChanges:O}=b();if(T){const R=N.map(z=>Ta(z,!0));O(R);return}O(ql(_,new Set([...N]))),k(ql(A,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:T}={})=>{const{edges:_,nodes:A,nodeLookup:k,triggerNodeChanges:O,triggerEdgeChanges:R}=b(),z=N||A,D=T||_,I=z.map(te=>{const ee=k.get(te.id);return ee&&(ee.selected=!1),Ta(te.id,!1)}),H=D.map(te=>Ta(te.id,!1));O(I),R(H)},setMinZoom:N=>{const{panZoom:T,maxZoom:_}=b();T?.setScaleExtent([N,_]),y({minZoom:N})},setMaxZoom:N=>{const{panZoom:T,minZoom:_}=b();T?.setScaleExtent([_,N]),y({maxZoom:N})},setTranslateExtent:N=>{b().panZoom?.setTranslateExtent(N),y({translateExtent:N})},setPaneClickDistance:N=>{b().panZoom?.setClickDistance(N)},resetSelectedElements:()=>{const{edges:N,nodes:T,triggerNodeChanges:_,triggerEdgeChanges:A,elementsSelectable:k}=b();if(!k)return;const O=T.reduce((z,D)=>D.selected?[...z,Ta(D.id,!1)]:z,[]),R=N.reduce((z,D)=>D.selected?[...z,Ta(D.id,!1)]:z,[]);_(O),A(R)},setNodeExtent:N=>{const{nodes:T,nodeLookup:_,parentLookup:A,nodeOrigin:k,elevateNodesOnSelect:O,nodeExtent:R}=b();N[0][0]===R[0][0]&&N[0][1]===R[0][1]&&N[1][0]===R[1][0]&&N[1][1]===R[1][1]||(Fy(T,_,A,{nodeOrigin:k,nodeExtent:N,elevateNodesOnSelect:O,checkEquality:!1}),y({nodeExtent:N}))},panBy:N=>{const{transform:T,width:_,height:A,panZoom:k,translateExtent:O}=b();return KR({delta:N,panZoom:k,transform:T,translateExtent:O,width:_,height:A})},setCenter:async(N,T,_)=>{const{width:A,height:k,maxZoom:O,panZoom:R}=b();if(!R)return Promise.resolve(!1);const z=typeof _?.zoom<"u"?_.zoom:O;return await R.setViewport({x:A/2-N*z,y:k/2-T*z,zoom:z},{duration:_?.duration,ease:_?.ease,interpolate:_?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...lC}})},updateConnection:N=>{y({connection:N})},reset:()=>y({...jS()})}},Object.is);function K0({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:a,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:f,fitView:h,nodeOrigin:m,nodeExtent:g,children:y}){const[b]=U.useState(()=>p4({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:a,fitView:h,minZoom:l,maxZoom:c,fitViewOptions:f,nodeOrigin:m,nodeExtent:g}));return p.jsx(R5,{value:b,children:p.jsx(i3,{children:y})})}function m4({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:a,height:l,fitView:c,fitViewOptions:f,minZoom:h,maxZoom:m,nodeOrigin:g,nodeExtent:y}){return U.useContext(pp)?p.jsx(p.Fragment,{children:e}):p.jsx(K0,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:a,initialHeight:l,fitView:c,initialFitViewOptions:f,initialMinZoom:h,initialMaxZoom:m,nodeOrigin:g,nodeExtent:y,children:e})}const g4={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function y4({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:a,edgeTypes:l,onNodeClick:c,onEdgeClick:f,onInit:h,onMove:m,onMoveStart:g,onMoveEnd:y,onConnect:b,onConnectStart:C,onConnectEnd:N,onClickConnectStart:T,onClickConnectEnd:_,onNodeMouseEnter:A,onNodeMouseMove:k,onNodeMouseLeave:O,onNodeContextMenu:R,onNodeDoubleClick:z,onNodeDragStart:D,onNodeDrag:I,onNodeDragStop:H,onNodesDelete:te,onEdgesDelete:ee,onDelete:X,onSelectionChange:ae,onSelectionDragStart:q,onSelectionDrag:Q,onSelectionDragStop:$,onSelectionContextMenu:Y,onSelectionStart:K,onSelectionEnd:ue,onBeforeDelete:B,connectionMode:Z,connectionLineType:J=Vs.Bezier,connectionLineStyle:F,connectionLineComponent:ge,connectionLineContainerStyle:Oe,deleteKeyCode:Ee="Backspace",selectionKeyCode:Te="Shift",selectionOnDrag:je=!1,selectionMode:Se=ad.Full,panActivationKeyCode:We="Space",multiSelectionKeyCode:et=ud()?"Meta":"Control",zoomActivationKeyCode:$e=ud()?"Meta":"Control",snapToGrid:ot,snapGrid:at,onlyRenderVisibleElements:vt=!1,selectNodesOnDrag:Ut,nodesDraggable:ln,autoPanOnNodeFocus:Lr,nodesConnectable:Fr,nodesFocusable:dr,nodeOrigin:Nn=FC,edgesFocusable:ti,edgesReconnectable:fr,elementsSelectable:gn=!0,defaultViewport:vr=G5,minZoom:_e=.5,maxZoom:Re=2,translateExtent:tt=sd,preventScrolling:ft=!0,nodeExtent:wt,defaultMarkerColor:jn="#b1b1b7",zoomOnScroll:Vn=!0,zoomOnPinch:yn=!0,panOnScroll:Gt=!1,panOnScrollSpeed:Kt=.5,panOnScrollMode:Be=Da.Free,zoomOnDoubleClick:ir=!0,panOnDrag:_n=!0,onPaneClick:Qo,onPaneMouseEnter:Ue,onPaneMouseMove:Bi,onPaneMouseLeave:fo,onPaneScroll:Br,onPaneContextMenu:ho,paneClickDistance:ni=0,nodeClickDistance:Cu=0,children:Ua,onReconnect:ri,onReconnectStart:br,onReconnectEnd:Ws,onEdgeContextMenu:po,onEdgeDoubleClick:Rt,onEdgeMouseEnter:un,onEdgeMouseMove:Js,onEdgeMouseLeave:Vi,reconnectRadius:mo=10,onNodesChange:go,onEdgesChange:ii,noDragClassName:Lt="nodrag",noWheelClassName:cn="nowheel",noPanClassName:Zn="nopan",fitView:Ci,fitViewOptions:qa,connectOnClick:oi,attributionPosition:Qs,proOptions:hr,defaultEdgeOptions:es,elevateNodesOnSelect:si,elevateEdgesOnSelect:zt,disableKeyboardA11y:or=!1,autoPanOnConnect:Yn,autoPanOnNodeDrag:dn,autoPanSpeed:Ti,connectionRadius:yo,isValidConnection:Vr,onError:ai,style:ki,id:ts,nodeDragThreshold:xo,connectionDragThreshold:Za,viewport:pt,onViewportChange:vo,width:wr,height:$n,colorMode:$i="light",debug:Ya,onScroll:bo,ariaLabelConfig:ea,...jt},wo){const xn=ts||"1",li=J5($i),ns=U.useCallback(Hi=>{Hi.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),bo?.(Hi)},[bo]);return p.jsx("div",{"data-testid":"rf__wrapper",...jt,onScroll:ns,style:{...ki,...g4},ref:wo,className:Bn(["react-flow",s,li]),id:ts,role:"application",children:p.jsxs(m4,{nodes:e,edges:t,width:wr,height:$n,fitView:Ci,fitViewOptions:qa,minZoom:_e,maxZoom:Re,nodeOrigin:Nn,nodeExtent:wt,children:[p.jsx(h4,{onInit:h,onNodeClick:c,onEdgeClick:f,onNodeMouseEnter:A,onNodeMouseMove:k,onNodeMouseLeave:O,onNodeContextMenu:R,onNodeDoubleClick:z,nodeTypes:a,edgeTypes:l,connectionLineType:J,connectionLineStyle:F,connectionLineComponent:ge,connectionLineContainerStyle:Oe,selectionKeyCode:Te,selectionOnDrag:je,selectionMode:Se,deleteKeyCode:Ee,multiSelectionKeyCode:et,panActivationKeyCode:We,zoomActivationKeyCode:$e,onlyRenderVisibleElements:vt,defaultViewport:vr,translateExtent:tt,minZoom:_e,maxZoom:Re,preventScrolling:ft,zoomOnScroll:Vn,zoomOnPinch:yn,zoomOnDoubleClick:ir,panOnScroll:Gt,panOnScrollSpeed:Kt,panOnScrollMode:Be,panOnDrag:_n,onPaneClick:Qo,onPaneMouseEnter:Ue,onPaneMouseMove:Bi,onPaneMouseLeave:fo,onPaneScroll:Br,onPaneContextMenu:ho,paneClickDistance:ni,nodeClickDistance:Cu,onSelectionContextMenu:Y,onSelectionStart:K,onSelectionEnd:ue,onReconnect:ri,onReconnectStart:br,onReconnectEnd:Ws,onEdgeContextMenu:po,onEdgeDoubleClick:Rt,onEdgeMouseEnter:un,onEdgeMouseMove:Js,onEdgeMouseLeave:Vi,reconnectRadius:mo,defaultMarkerColor:jn,noDragClassName:Lt,noWheelClassName:cn,noPanClassName:Zn,rfId:xn,disableKeyboardA11y:or,nodeExtent:wt,viewport:pt,onViewportChange:vo}),p.jsx(W5,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:C,onConnectEnd:N,onClickConnectStart:T,onClickConnectEnd:_,nodesDraggable:ln,autoPanOnNodeFocus:Lr,nodesConnectable:Fr,nodesFocusable:dr,edgesFocusable:ti,edgesReconnectable:fr,elementsSelectable:gn,elevateNodesOnSelect:si,elevateEdgesOnSelect:zt,minZoom:_e,maxZoom:Re,nodeExtent:wt,onNodesChange:go,onEdgesChange:ii,snapToGrid:ot,snapGrid:at,connectionMode:Z,translateExtent:tt,connectOnClick:oi,defaultEdgeOptions:es,fitView:Ci,fitViewOptions:qa,onNodesDelete:te,onEdgesDelete:ee,onDelete:X,onNodeDragStart:D,onNodeDrag:I,onNodeDragStop:H,onSelectionDrag:Q,onSelectionDragStart:q,onSelectionDragStop:$,onMove:m,onMoveStart:g,onMoveEnd:y,noPanClassName:Zn,nodeOrigin:Nn,rfId:xn,autoPanOnConnect:Yn,autoPanOnNodeDrag:dn,autoPanSpeed:Ti,onError:ai,connectionRadius:yo,isValidConnection:Vr,selectNodesOnDrag:Ut,nodeDragThreshold:xo,connectionDragThreshold:Za,onBeforeDelete:B,paneClickDistance:ni,debug:Ya,ariaLabelConfig:ea}),p.jsx(Y5,{onSelectionChange:ae}),Ua,p.jsx($5,{proOptions:hr,position:Qs}),p.jsx(V5,{rfId:xn,disableKeyboardA11y:or})]})})}var x4=HC(y4);function v4({dimensions:e,lineWidth:t,variant:n,className:r}){return p.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Bn(["react-flow__background-pattern",n,r])})}function b4({radius:e,className:t}){return p.jsx("circle",{cx:e,cy:e,r:e,className:Bn(["react-flow__background-pattern","dots",t])})}var $s;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})($s||($s={}));const w4={[$s.Dots]:1,[$s.Lines]:1,[$s.Cross]:6},S4=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function h2({id:e,variant:t=$s.Dots,gap:n=20,size:r,lineWidth:s=1,offset:a=0,color:l,bgColor:c,style:f,className:h,patternClassName:m}){const g=U.useRef(null),{transform:y,patternId:b}=kt(S4,hn),C=r||w4[t],N=t===$s.Dots,T=t===$s.Cross,_=Array.isArray(n)?n:[n,n],A=[_[0]*y[2]||1,_[1]*y[2]||1],k=C*y[2],O=Array.isArray(a)?a:[a,a],R=T?[k,k]:A,z=[O[0]*y[2]||1+R[0]/2,O[1]*y[2]||1+R[1]/2],D=`${b}${e||""}`;return p.jsxs("svg",{className:Bn(["react-flow__background",h]),style:{...f,...mp,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:g,"data-testid":"rf__background",children:[p.jsx("pattern",{id:D,x:y[0]%A[0],y:y[1]%A[1],width:A[0],height:A[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${z[0]},-${z[1]})`,children:N?p.jsx(b4,{radius:k/2,className:m}):p.jsx(v4,{dimensions:R,lineWidth:s,variant:t,className:m})}),p.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${D})`})]})}h2.displayName="Background";const N4=U.memo(h2);function _4(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:p.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function E4(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:p.jsx("path",{d:"M0 0h32v4.2H0z"})})}function C4(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:p.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function T4(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function k4(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function eh({children:e,className:t,...n}){return p.jsx("button",{type:"button",className:Bn(["react-flow__controls-button",t]),...n,children:e})}const j4=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function p2({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:l,onFitView:c,onInteractiveChange:f,className:h,children:m,position:g="bottom-left",orientation:y="vertical","aria-label":b}){const C=sn(),{isInteractive:N,minZoomReached:T,maxZoomReached:_,ariaLabelConfig:A}=kt(j4,hn),{zoomIn:k,zoomOut:O,fitView:R}=xu(),z=()=>{k(),a?.()},D=()=>{O(),l?.()},I=()=>{R(s),c?.()},H=()=>{C.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),f?.(!N)},te=y==="horizontal"?"horizontal":"vertical";return p.jsxs(Cd,{className:Bn(["react-flow__controls",te,h]),position:g,style:e,"data-testid":"rf__controls","aria-label":b??A["controls.ariaLabel"],children:[t&&p.jsxs(p.Fragment,{children:[p.jsx(eh,{onClick:z,className:"react-flow__controls-zoomin",title:A["controls.zoomIn.ariaLabel"],"aria-label":A["controls.zoomIn.ariaLabel"],disabled:_,children:p.jsx(_4,{})}),p.jsx(eh,{onClick:D,className:"react-flow__controls-zoomout",title:A["controls.zoomOut.ariaLabel"],"aria-label":A["controls.zoomOut.ariaLabel"],disabled:T,children:p.jsx(E4,{})})]}),n&&p.jsx(eh,{className:"react-flow__controls-fitview",onClick:I,title:A["controls.fitView.ariaLabel"],"aria-label":A["controls.fitView.ariaLabel"],children:p.jsx(C4,{})}),r&&p.jsx(eh,{className:"react-flow__controls-interactive",onClick:H,title:A["controls.interactive.ariaLabel"],"aria-label":A["controls.interactive.ariaLabel"],children:N?p.jsx(k4,{}):p.jsx(T4,{})}),m]})}p2.displayName="Controls";const A4=U.memo(p2);function M4({id:e,x:t,y:n,width:r,height:s,style:a,color:l,strokeColor:c,strokeWidth:f,className:h,borderRadius:m,shapeRendering:g,selected:y,onClick:b}){const{background:C,backgroundColor:N}=a||{},T=l||C||N;return p.jsx("rect",{className:Bn(["react-flow__minimap-node",{selected:y},h]),x:t,y:n,rx:m,ry:m,width:r,height:s,style:{fill:T,stroke:c,strokeWidth:f},shapeRendering:g,onClick:b?_=>b(_,e):void 0})}const O4=U.memo(M4),D4=e=>e.nodes.map(t=>t.id),Bg=e=>e instanceof Function?e:()=>e;function z4({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:a=O4,onClick:l}){const c=kt(D4,hn),f=Bg(t),h=Bg(e),m=Bg(n),g=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return p.jsx(p.Fragment,{children:c.map(y=>p.jsx(P4,{id:y,nodeColorFunc:f,nodeStrokeColorFunc:h,nodeClassNameFunc:m,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:a,onClick:l,shapeRendering:g},y))})}function R4({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:a,shapeRendering:l,NodeComponent:c,onClick:f}){const{node:h,x:m,y:g,width:y,height:b}=kt(C=>{const{internals:N}=C.nodeLookup.get(e),T=N.userNode,{x:_,y:A}=N.positionAbsolute,{width:k,height:O}=Jo(T);return{node:T,x:_,y:A,width:k,height:O}},hn);return!h||h.hidden||!mC(h)?null:p.jsx(c,{x:m,y:g,width:y,height:b,style:h.style,selected:!!h.selected,className:r(h),color:t(h),borderRadius:s,strokeColor:n(h),strokeWidth:a,shapeRendering:l,onClick:f,id:h.id})}const P4=U.memo(R4);var I4=U.memo(z4);const L4=200,F4=150,B4=e=>!e.hidden,V4=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?pC(Nd(e.nodeLookup,{filter:B4}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},$4="react-flow__minimap-desc";function m2({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:a=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:f,maskColor:h,maskStrokeColor:m,maskStrokeWidth:g,position:y="bottom-right",onClick:b,onNodeClick:C,pannable:N=!1,zoomable:T=!1,ariaLabel:_,inversePan:A,zoomStep:k=1,offsetScale:O=5}){const R=sn(),z=U.useRef(null),{boundingRect:D,viewBB:I,rfId:H,panZoom:te,translateExtent:ee,flowWidth:X,flowHeight:ae,ariaLabelConfig:q}=kt(V4,hn),Q=e?.width??L4,$=e?.height??F4,Y=D.width/Q,K=D.height/$,ue=Math.max(Y,K),B=ue*Q,Z=ue*$,J=O*ue,F=D.x-(B-D.width)/2-J,ge=D.y-(Z-D.height)/2-J,Oe=B+J*2,Ee=Z+J*2,Te=`${$4}-${H}`,je=U.useRef(0),Se=U.useRef();je.current=ue,U.useEffect(()=>{if(z.current&&te)return Se.current=i5({domNode:z.current,panZoom:te,getTransform:()=>R.getState().transform,getViewScale:()=>je.current}),()=>{Se.current?.destroy()}},[te]),U.useEffect(()=>{Se.current?.update({translateExtent:ee,width:X,height:ae,inversePan:A,pannable:N,zoomStep:k,zoomable:T})},[N,T,A,k,ee,X,ae]);const We=b?ot=>{const[at,vt]=Se.current?.pointer(ot)||[0,0];b(ot,{x:at,y:vt})}:void 0,et=C?U.useCallback((ot,at)=>{const vt=R.getState().nodeLookup.get(at).internals.userNode;C(ot,vt)},[]):void 0,$e=_??q["minimap.ariaLabel"];return p.jsx(Cd,{position:y,style:{...e,"--xy-minimap-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof g=="number"?g*ue:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:Bn(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:p.jsxs("svg",{width:Q,height:$,viewBox:`${F} ${ge} ${Oe} ${Ee}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Te,ref:z,onClick:We,children:[$e&&p.jsx("title",{id:Te,children:$e}),p.jsx(I4,{onClick:et,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:s,nodeStrokeWidth:l,nodeComponent:c}),p.jsx("path",{className:"react-flow__minimap-mask",d:`M${F-J},${ge-J}h${Oe+J*2}v${Ee+J*2}h${-Oe-J*2}z
        M${I.x},${I.y}h${I.width}v${I.height}h${-I.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}m2.displayName="MiniMap";const H4=U.memo(m2),U4=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,q4={[Fa.Line]:"right",[Fa.Handle]:"bottom-right"};function Z4({nodeId:e,position:t,variant:n=Fa.Handle,className:r,style:s=void 0,children:a,color:l,minWidth:c=10,minHeight:f=10,maxWidth:h=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:g=!1,resizeDirection:y,autoScale:b=!0,shouldResize:C,onResizeStart:N,onResize:T,onResizeEnd:_}){const A=YC(),k=typeof e=="string"?e:A,O=sn(),R=U.useRef(null),z=n===Fa.Handle,D=kt(U.useCallback(U4(z&&b),[z,b]),hn),I=U.useRef(null),H=t??q4[n];U.useEffect(()=>{if(!(!R.current||!k))return I.current||(I.current=S5({domNode:R.current,nodeId:k,getStoreItems:()=>{const{nodeLookup:ee,transform:X,snapGrid:ae,snapToGrid:q,nodeOrigin:Q,domNode:$}=O.getState();return{nodeLookup:ee,transform:X,snapGrid:ae,snapToGrid:q,nodeOrigin:Q,paneDomNode:$}},onChange:(ee,X)=>{const{triggerNodeChanges:ae,nodeLookup:q,parentLookup:Q,nodeOrigin:$}=O.getState(),Y=[],K={x:ee.x,y:ee.y},ue=q.get(k);if(ue&&ue.expandParent&&ue.parentId){const B=ue.origin??$,Z=ee.width??ue.measured.width??0,J=ee.height??ue.measured.height??0,F={id:ue.id,parentId:ue.parentId,rect:{width:Z,height:J,...gC({x:ee.x??ue.position.x,y:ee.y??ue.position.y},{width:Z,height:J},ue.parentId,q,B)}},ge=Z0([F],q,Q,$);Y.push(...ge),K.x=ee.x?Math.max(B[0]*Z,ee.x):void 0,K.y=ee.y?Math.max(B[1]*J,ee.y):void 0}if(K.x!==void 0&&K.y!==void 0){const B={id:k,type:"position",position:{...K}};Y.push(B)}if(ee.width!==void 0&&ee.height!==void 0){const Z={id:k,type:"dimensions",resizing:!0,setAttributes:y?y==="horizontal"?"width":"height":!0,dimensions:{width:ee.width,height:ee.height}};Y.push(Z)}for(const B of X){const Z={...B,type:"position"};Y.push(Z)}ae(Y)},onEnd:({width:ee,height:X})=>{const ae={id:k,type:"dimensions",resizing:!1,dimensions:{width:ee,height:X}};O.getState().triggerNodeChanges([ae])}})),I.current.update({controlPosition:H,boundaries:{minWidth:c,minHeight:f,maxWidth:h,maxHeight:m},keepAspectRatio:g,resizeDirection:y,onResizeStart:N,onResize:T,onResizeEnd:_,shouldResize:C}),()=>{I.current?.destroy()}},[H,c,f,h,m,g,N,T,_,C]);const te=H.split("-");return p.jsx("div",{className:Bn(["react-flow__resize-control","nodrag",...te,n,r]),ref:R,style:{...s,scale:D,...l&&{[z?"backgroundColor":"borderColor"]:l}},children:a})}const AS=U.memo(Z4);function uo({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:r,lineClassName:s,lineStyle:a,color:l,minWidth:c=10,minHeight:f=10,maxWidth:h=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:g=!1,autoScale:y=!0,shouldResize:b,onResizeStart:C,onResize:N,onResizeEnd:T}){return t?p.jsxs(p.Fragment,{children:[m5.map(_=>p.jsx(AS,{className:s,style:a,nodeId:e,position:_,variant:Fa.Line,color:l,minWidth:c,minHeight:f,maxWidth:h,maxHeight:m,onResizeStart:C,keepAspectRatio:g,autoScale:y,shouldResize:b,onResize:N,onResizeEnd:T},_)),p5.map(_=>p.jsx(AS,{className:n,style:r,nodeId:e,position:_,color:l,minWidth:c,minHeight:f,maxWidth:h,maxHeight:m,onResizeStart:C,keepAspectRatio:g,autoScale:y,shouldResize:b,onResize:N,onResizeEnd:T},_))]}):null}const MS=e=>{let t;const n=new Set,r=(h,m)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const y=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(b=>b(t,y))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h))},f=t=e(r,s,c);return c},Y4=(e=>e?MS(e):MS),G4=e=>e;function K4(e,t=G4){const n=to.useSyncExternalStore(e.subscribe,to.useCallback(()=>t(e.getState()),[e,t]),to.useCallback(()=>t(e.getInitialState()),[e,t]));return to.useDebugValue(n),n}const X4=e=>{const t=Y4(e),n=r=>K4(t,r);return Object.assign(n,t),n},W4=(e=>X4);function J4(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var a;const l=f=>f===null?null:JSON.parse(f,void 0),c=(a=n.getItem(s))!=null?a:null;return c instanceof Promise?c.then(l):l(c)},setItem:(s,a)=>n.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>n.removeItem(s)}}const $y=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return $y(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return $y(r)(n)}}}},Q4=(e,t)=>(n,r,s)=>{let a={storage:J4(()=>localStorage),partialize:N=>N,version:0,merge:(N,T)=>({...T,...N}),...t},l=!1;const c=new Set,f=new Set;let h=a.storage;if(!h)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...N)},r,s);const m=()=>{const N=a.partialize({...r()});return h.setItem(a.name,{state:N,version:a.version})},g=s.setState;s.setState=(N,T)=>(g(N,T),m());const y=e((...N)=>(n(...N),m()),r,s);s.getInitialState=()=>y;let b;const C=()=>{var N,T;if(!h)return;l=!1,c.forEach(A=>{var k;return A((k=r())!=null?k:y)});const _=((T=a.onRehydrateStorage)==null?void 0:T.call(a,(N=r())!=null?N:y))||void 0;return $y(h.getItem.bind(h))(a.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==a.version){if(a.migrate){const k=a.migrate(A.state,A.version);return k instanceof Promise?k.then(O=>[!0,O]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var k;const[O,R]=A;if(b=a.merge(R,(k=r())!=null?k:y),n(b,!0),O)return m()}).then(()=>{_?.(b,void 0),b=r(),l=!0,f.forEach(A=>A(b))}).catch(A=>{_?.(void 0,A)})};return s.persist={setOptions:N=>{a={...a,...N},N.storage&&(h=N.storage)},clearStorage:()=>{h?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>C(),hasHydrated:()=>l,onHydrate:N=>(c.add(N),()=>{c.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},a.skipHydration||C(),b||y},eP=Q4,Ht=W4()(eP((e,t)=>({nodes:[{id:"1",type:"openai",data:{model:"gpt-5",temperature:.7,maxTokens:1e3,systemPrompt:"You are a helpful assistant.",userPrompt:`{{input}}

Analyze the above data and provide insights.`},position:{x:250,y:100}}],edges:[],currentFlowId:null,savedFlows:[],executionResults:null,setNodes:n=>e({nodes:n}),setEdges:n=>e({edges:n}),updateNodeData:(n,r)=>e(s=>({nodes:s.nodes.map(a=>a.id===n?{...a,data:{...a.data,...r}}:a)})),addNode:n=>e(r=>({nodes:[...r.nodes,n]})),removeNode:n=>e(r=>({nodes:r.nodes.filter(s=>s.id!==n),edges:r.edges.filter(s=>s.source!==n&&s.target!==n)})),addEdge:n=>e(r=>({edges:[...r.edges,n]})),removeEdge:n=>e(r=>({edges:r.edges.filter(s=>s.id!==n)})),saveFlow:n=>{const r=t(),s=new Date().toISOString(),a=r.currentFlowId||`flow-${Date.now()}`,l=r.savedFlows.findIndex(c=>c.id===a);if(l>=0)e(c=>({savedFlows:c.savedFlows.map((f,h)=>h===l?{...f,name:n,nodes:c.nodes,edges:c.edges,updatedAt:s}:f),currentFlowId:a}));else{const c={id:a,name:n,nodes:r.nodes,edges:r.edges,createdAt:s,updatedAt:s};e(f=>({savedFlows:[...f.savedFlows,c],currentFlowId:a}))}},loadFlow:n=>{const s=t().savedFlows.find(a=>a.id===n);s&&e({nodes:s.nodes,edges:s.edges,currentFlowId:n})},deleteFlow:n=>{e(r=>({savedFlows:r.savedFlows.filter(s=>s.id!==n),currentFlowId:r.currentFlowId===n?null:r.currentFlowId}))},clearCanvas:()=>{e({nodes:[],edges:[],currentFlowId:null,executionResults:null})},setExecutionResults:n=>{e({executionResults:n})}}),{name:"flow-storage",partialize:e=>({nodes:e.nodes,edges:e.edges,currentFlowId:e.currentFlowId,savedFlows:e.savedFlows})})),th=Object.freeze(Object.defineProperty({__proto__:null,useFlowStore:Ht},Symbol.toStringTag,{value:"Module"}));function tP(e){const t=/\{\{([^}]+)\}\}/g,n=e.matchAll(t),r=new Set;for(const s of n)r.add(s[1].trim());return Array.from(r)}const du=({value:e,onChange:t,placeholder:n="",className:r="",minHeight:s="100px",label:a})=>{const l=U.useRef(null),c=U.useRef(null),[f,h]=U.useState(!1),[m,g]=U.useState(s),y=()=>{if(l.current){l.current.style.height=s;const A=l.current.scrollHeight,O=`${Math.min(A,400)}px`;l.current.style.height=O,g(O),c.current&&(c.current.style.height=O)}};U.useEffect(()=>{y()},[e]);const b=()=>{l.current&&c.current&&(c.current.scrollTop=l.current.scrollTop,c.current.scrollLeft=l.current.scrollLeft)},C=()=>e?e.replace(/(\{\{[^}]+\}\})/g,'<span style="background-color: #dbeafe; color: #1e40af; padding: 0 4px; border-radius: 3px; font-weight: 600;">$1</span>'):"",N=tP(e),T=l.current?l.current.scrollHeight>400:!1,_=e?e.split(`
`).length:0;return p.jsxs("div",{className:"relative",children:[a&&p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:a}),T&&p.jsxs("span",{className:"text-xs text-blue-600",title:"Scroll to see all content",children:[" ",_," lines (scrollable)"]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{ref:c,className:`absolute top-0 left-0 right-0 pointer-events-none overflow-auto whitespace-pre-wrap break-words ${r}`,style:{height:m,minHeight:s,padding:"0.5rem 0.75rem",fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace",fontSize:"0.875rem",lineHeight:"1.25rem",color:"#1f2937",zIndex:1},dangerouslySetInnerHTML:{__html:C()}}),p.jsx("textarea",{ref:l,value:e,onChange:A=>t(A.target.value),onScroll:b,onFocus:()=>h(!0),onBlur:()=>h(!1),placeholder:n,className:`relative w-full resize-y font-mono text-sm ${r}`,style:{height:m,minHeight:s,maxHeight:"400px",padding:"0.5rem 0.75rem",background:f?"rgba(255, 255, 255, 0.9)":"transparent",color:f?"#1f2937":"transparent",caretColor:"#000",zIndex:2,border:"1px solid #d1d5db",borderRadius:"0.375rem",outline:"none",overflowY:T?"auto":"hidden"}})]}),N.length>0&&p.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[p.jsx("span",{className:"text-xs text-gray-500",children:" Variables:"}),Array.from(new Set(N)).map(A=>p.jsx("span",{style:{backgroundColor:"#dbeafe",color:"#1e40af",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600",display:"inline-flex",alignItems:"center"},children:`{{${A}}}`},A))]})]})},nP={"gpt-5":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:128e3,notes:"GPT-5 flagship model with 400K context, 128K output"},"gpt-5-mini":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:128e3,notes:"Faster, budget-friendly GPT-5 variant"},"gpt-5-nano":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:128e3,notes:"Smallest, fastest, most affordable GPT-5"},"gpt-4.1":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:16384,notes:"GPT-4.1 with 1M context, improved coding"},"gpt-4.1-mini":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:16384,notes:"GPT-4.1 mini variant"},"gpt-4.1-nano":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:16384,notes:"GPT-4.1 nano variant"},"gpt-4o":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:16384,notes:"100% schema compliance with strict mode"},"gpt-4o-mini":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:16384,notes:"100% schema compliance with strict mode"},"gpt-4o-audio":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:16384,notes:"Supports audio input/output"},o3:{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:1e5,notes:"Reasoning model with structured output"},"o3-mini":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:1e5,notes:"Reasoning model with structured output"},"o4-mini":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:16384,notes:"Latest mini model with structured output"},"gpt-4-turbo":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_format",maxOutputTokens:4096,notes:"Supports JSON mode"},"gpt-3.5-turbo":{supportsStructuredOutput:!1,supportsJsonMode:!0,structuredOutputMethod:null,maxOutputTokens:4096,notes:"JSON mode only, no strict schema enforcement"},"claude-sonnet-4-5-20250929":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"tool_use",maxOutputTokens:8192,notes:"Best for complex agents and coding"},"claude-haiku-4-5-20251001":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"tool_use",maxOutputTokens:65536,notes:"Fastest Haiku with near-frontier performance"},"claude-opus-4-1-20250710":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"tool_use",maxOutputTokens:8192,notes:"Claude Opus 4.1 with extended thinking"},"claude-opus-4-20250514":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"tool_use",maxOutputTokens:8192,notes:"Claude Opus 4 baseline"},"claude-sonnet-4-20250514":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"tool_use",maxOutputTokens:8192,notes:"Claude Sonnet 4 baseline"},"claude-sonnet-3-7-20250219":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"tool_use",maxOutputTokens:8192,notes:"Claude 3.7 Sonnet"},"claude-sonnet-3-5-20241022":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"tool_use",maxOutputTokens:8192,notes:"Claude 3.5 Sonnet (October 2024)"},"claude-sonnet-3-5-20240620":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"tool_use",maxOutputTokens:8192,notes:"Claude 3.5 Sonnet (Legacy - June 2024)"},"claude-3-opus-20240229":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"tool_use",maxOutputTokens:4096,notes:"Claude 3 Opus (Legacy)"},"claude-3-haiku-20240307":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"tool_use",maxOutputTokens:4096,notes:"Claude 3 Haiku (Legacy)"},"gemini-2.5-pro":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_schema",maxOutputTokens:65536,notes:"State-of-the-art thinking model, 1M context"},"gemini-2.5-flash":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_schema",maxOutputTokens:65536,notes:"Best price-performance with thinking, 1M context"},"gemini-2.5-flash-lite":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_schema",maxOutputTokens:65536,notes:"Cost-efficient high throughput, 1M context"},"gemini-2.0-flash":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_schema",maxOutputTokens:8192,notes:"Next-gen features, 1M context"},"gemini-2.0-flash-exp":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_schema",maxOutputTokens:8192,notes:"Experimental model with response_schema"},"gemini-2.0-flash-lite":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_schema",maxOutputTokens:8192,notes:"Cost-optimized, low latency"},"gemini-1.5-pro":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_schema",maxOutputTokens:8192,notes:"Native response_schema support (Deprecated)"},"gemini-1.5-flash":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_schema",maxOutputTokens:8192,notes:"Native response_schema support (Deprecated)"},"gemini-1.5-flash-8b":{supportsStructuredOutput:!0,supportsJsonMode:!0,structuredOutputMethod:"response_schema",maxOutputTokens:8192,notes:"Lightweight model with response_schema (Deprecated)"}};function X0(e){return nP[e]?.supportsStructuredOutput??!1}function W0(e){if(!e||e.trim()==="")return"";const t=e.split(",").map(r=>r.trim()).filter(r=>r.length>0),n={type:"object",properties:{}};for(const r of t){const s=r.split("/");let a=n.properties;for(let l=0;l<s.length;l++){const c=s[l].trim();l===s.length-1?a[c]={type:"string"}:(a[c]||(a[c]={type:"object",properties:{}}),a=a[c].properties)}}return JSON.stringify(n,null,2)}function J0(e){if(!e||e.trim()==="")return"";try{let t=function(a,l=""){if(!a||typeof a!="object")return;const c=a.properties||a;for(const f in c){const h=c[f],m=l?`${l}/${f}`:f;h.type==="object"&&h.properties?t(h,m):s.push(m)}},n=e.trim();n=n.replace(/^```json\s*/gm,"").replace(/^```\s*/gm,"").trim();const r=JSON.parse(n),s=[];return t(r),s.join(", ")}catch(t){return console.warn("Failed to parse JSON schema for CSV conversion:",t),""}}function Q0(e){if(!e||e.trim()==="")return"";try{let t=function(a,l=3){if(!a||typeof a!="object")return;const c=a.properties||a;for(const f in c){const h=c[f],m="#".repeat(l);s.push(`${m} ${f}`),s.push(""),h.type==="object"&&h.properties&&t(h,l+1)}},n=e.trim();n=n.replace(/^```json\s*/gm,"").replace(/^```\s*/gm,"").trim();const r=JSON.parse(n),s=[];return t(r),s.join(`
`)}catch(t){return console.warn("Failed to parse JSON schema for markdown conversion:",t),""}}function ex(e){if(!e||e.trim()==="")return"";const t=e.split(",").map(s=>s.trim()).filter(s=>s.length>0),n=[],r=new Set;for(const s of t){const a=s.split("/").map(l=>l.trim());for(let l=0;l<a.length;l++){const c=a[l],f=3+l,h="#".repeat(f),m=a.slice(0,l+1).join("/");r.has(m)||(n.push(`${h} ${c}`),n.push(""),r.add(m))}}return n.join(`
`)}const tx=U.createContext({});function nx(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const rx=typeof window<"u",g2=rx?U.useLayoutEffect:U.useEffect,yp=U.createContext(null);function ix(e,t){e.indexOf(t)===-1&&e.push(t)}function ox(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xo=(e,t,n)=>n>t?t:n<e?e:n;let sx=()=>{};const Wo={},y2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function x2(e){return typeof e=="object"&&e!==null}const v2=e=>/^0[^.\s]+$/u.test(e);function ax(e){let t;return()=>(t===void 0&&(t=e()),t)}const _i=e=>e,rP=(e,t)=>n=>t(e(n)),Td=(...e)=>e.reduce(rP),fd=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class lx{constructor(){this.subscriptions=[]}add(t){return ix(this.subscriptions,t),()=>ox(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const io=e=>e*1e3,Si=e=>e/1e3;function b2(e,t){return t?e*(1e3/t):0}const w2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,iP=1e-7,oP=12;function sP(e,t,n,r,s){let a,l,c=0;do l=t+(n-t)/2,a=w2(l,r,s)-e,a>0?n=l:t=l;while(Math.abs(a)>iP&&++c<oP);return l}function kd(e,t,n,r){if(e===t&&n===r)return _i;const s=a=>sP(a,0,1,e,n);return a=>a===0||a===1?a:w2(s(a),t,r)}const S2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,N2=e=>t=>1-e(1-t),_2=kd(.33,1.53,.69,.99),ux=N2(_2),E2=S2(ux),C2=e=>(e*=2)<1?.5*ux(e):.5*(2-Math.pow(2,-10*(e-1))),cx=e=>1-Math.sin(Math.acos(e)),T2=N2(cx),k2=S2(cx),aP=kd(.42,0,1,1),lP=kd(0,0,.58,1),j2=kd(.42,0,.58,1),uP=e=>Array.isArray(e)&&typeof e[0]!="number",A2=e=>Array.isArray(e)&&typeof e[0]=="number",cP={linear:_i,easeIn:aP,easeInOut:j2,easeOut:lP,circIn:cx,circInOut:k2,circOut:T2,backIn:ux,backInOut:E2,backOut:_2,anticipate:C2},dP=e=>typeof e=="string",OS=e=>{if(A2(e)){sx(e.length===4);const[t,n,r,s]=e;return kd(t,n,r,s)}else if(dP(e))return cP[e];return e},nh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fP(e,t){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(m){l.has(m)&&(h.schedule(m),e()),m(c)}const h={schedule:(m,g=!1,y=!1)=>{const C=y&&s?n:r;return g&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,a&&(a=!1,h.process(m))}};return h}const hP=40;function M2(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=nh.reduce((k,O)=>(k[O]=fP(a),k),{}),{setup:c,read:f,resolveKeyframes:h,preUpdate:m,update:g,preRender:y,render:b,postRender:C}=l,N=()=>{const k=Wo.useManualTiming?s.timestamp:performance.now();n=!1,Wo.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(k-s.timestamp,hP),1)),s.timestamp=k,s.isProcessing=!0,c.process(s),f.process(s),h.process(s),m.process(s),g.process(s),y.process(s),b.process(s),C.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(N))},T=()=>{n=!0,r=!0,s.isProcessing||e(N)};return{schedule:nh.reduce((k,O)=>{const R=l[O];return k[O]=(z,D=!1,I=!1)=>(n||T(),R.schedule(z,D,I)),k},{}),cancel:k=>{for(let O=0;O<nh.length;O++)l[nh[O]].cancel(k)},state:s,steps:l}}const{schedule:on,cancel:Hs,state:rr,steps:Vg}=M2(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0);let kh;function pP(){kh=void 0}const Mr={now:()=>(kh===void 0&&Mr.set(rr.isProcessing||Wo.useManualTiming?rr.timestamp:performance.now()),kh),set:e=>{kh=e,queueMicrotask(pP)}},O2=e=>t=>typeof t=="string"&&t.startsWith(e),dx=O2("--"),mP=O2("var(--"),fx=e=>mP(e)?gP.test(e.split("/*")[0].trim()):!1,gP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hd={...vu,transform:e=>Xo(0,1,e)},rh={...vu,default:1},Zc=e=>Math.round(e*1e5)/1e5,hx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yP(e){return e==null}const xP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,px=(e,t)=>n=>!!(typeof n=="string"&&xP.test(n)&&n.startsWith(e)||t&&!yP(n)&&Object.prototype.hasOwnProperty.call(n,t)),D2=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(hx);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},vP=e=>Xo(0,255,e),$g={...vu,transform:e=>Math.round(vP(e))},Aa={test:px("rgb","red"),parse:D2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+$g.transform(e)+", "+$g.transform(t)+", "+$g.transform(n)+", "+Zc(hd.transform(r))+")"};function bP(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Hy={test:px("#"),parse:bP,transform:Aa.transform},jd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bs=jd("deg"),oo=jd("%"),ut=jd("px"),wP=jd("vh"),SP=jd("vw"),DS={...oo,parse:e=>oo.parse(e)/100,transform:e=>oo.transform(e*100)},Zl={test:px("hsl","hue"),parse:D2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+oo.transform(Zc(t))+", "+oo.transform(Zc(n))+", "+Zc(hd.transform(r))+")"},Fn={test:e=>Aa.test(e)||Hy.test(e)||Zl.test(e),parse:e=>Aa.test(e)?Aa.parse(e):Zl.test(e)?Zl.parse(e):Hy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Aa.transform(e):Zl.transform(e),getAnimatableNone:e=>{const t=Fn.parse(e);return t.alpha=0,Fn.transform(t)}},NP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _P(e){return isNaN(e)&&typeof e=="string"&&(e.match(hx)?.length||0)+(e.match(NP)?.length||0)>0}const z2="number",R2="color",EP="var",CP="var(",zS="${}",TP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pd(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(TP,f=>(Fn.test(f)?(r.color.push(a),s.push(R2),n.push(Fn.parse(f))):f.startsWith(CP)?(r.var.push(a),s.push(EP),n.push(f)):(r.number.push(a),s.push(z2),n.push(parseFloat(f))),++a,zS)).split(zS);return{values:n,split:c,indexes:r,types:s}}function P2(e){return pd(e).values}function I2(e){const{split:t,types:n}=pd(e),r=t.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=t[l],s[l]!==void 0){const c=n[l];c===z2?a+=Zc(s[l]):c===R2?a+=Fn.transform(s[l]):a+=s[l]}return a}}const kP=e=>typeof e=="number"?0:Fn.test(e)?Fn.getAnimatableNone(e):e;function jP(e){const t=P2(e);return I2(e)(t.map(kP))}const Us={test:_P,parse:P2,createTransformer:I2,getAnimatableNone:jP};function Hg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function AP({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,l=0;if(!t)s=a=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,f=2*n-c;s=Hg(f,c,e+1/3),a=Hg(f,c,e),l=Hg(f,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function qh(e,t){return n=>n>0?t:e}const fn=(e,t,n)=>e+(t-e)*n,Ug=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},MP=[Hy,Aa,Zl],OP=e=>MP.find(t=>t.test(e));function RS(e){const t=OP(e);if(!t)return!1;let n=t.parse(e);return t===Zl&&(n=AP(n)),n}const PS=(e,t)=>{const n=RS(e),r=RS(t);if(!n||!r)return qh(e,t);const s={...n};return a=>(s.red=Ug(n.red,r.red,a),s.green=Ug(n.green,r.green,a),s.blue=Ug(n.blue,r.blue,a),s.alpha=fn(n.alpha,r.alpha,a),Aa.transform(s))},Uy=new Set(["none","hidden"]);function DP(e,t){return Uy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function zP(e,t){return n=>fn(e,t,n)}function mx(e){return typeof e=="number"?zP:typeof e=="string"?fx(e)?qh:Fn.test(e)?PS:IP:Array.isArray(e)?L2:typeof e=="object"?Fn.test(e)?PS:RP:qh}function L2(e,t){const n=[...e],r=n.length,s=e.map((a,l)=>mx(a)(a,t[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function RP(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=mx(e[s])(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function PP(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=e.indexes[a][r[a]],c=e.values[l]??0;n[s]=c,r[a]++}return n}const IP=(e,t)=>{const n=Us.createTransformer(t),r=pd(e),s=pd(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Uy.has(e)&&!s.values.length||Uy.has(t)&&!r.values.length?DP(e,t):Td(L2(PP(r,s),s.values),n):qh(e,t)};function F2(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?fn(e,t,n):mx(e)(e,t)}const LP=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>on.update(t,n),stop:()=>Hs(t),now:()=>rr.isProcessing?rr.timestamp:Mr.now()}},B2=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)r+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Zh=2e4;function gx(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Zh;)t+=n,r=e.next(t);return t>=Zh?1/0:t}function FP(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(gx(r),Zh);return{type:"keyframes",ease:a=>r.next(s*a).value/t,duration:Si(s)}}const BP=5;function V2(e,t,n){const r=Math.max(t-BP,0);return b2(n-e(r),t-r)}const wn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qg=.001;function VP({duration:e=wn.duration,bounce:t=wn.bounce,velocity:n=wn.velocity,mass:r=wn.mass}){let s,a,l=1-t;l=Xo(wn.minDamping,wn.maxDamping,l),e=Xo(wn.minDuration,wn.maxDuration,Si(e)),l<1?(s=h=>{const m=h*l,g=m*e,y=m-n,b=qy(h,l),C=Math.exp(-g);return qg-y/b*C},a=h=>{const g=h*l*e,y=g*n+n,b=Math.pow(l,2)*Math.pow(h,2)*e,C=Math.exp(-g),N=qy(Math.pow(h,2),l);return(-s(h)+qg>0?-1:1)*((y-b)*C)/N}):(s=h=>{const m=Math.exp(-h*e),g=(h-n)*e+1;return-qg+m*g},a=h=>{const m=Math.exp(-h*e),g=(n-h)*(e*e);return m*g});const c=5/e,f=HP(s,a,c);if(e=io(e),isNaN(f))return{stiffness:wn.stiffness,damping:wn.damping,duration:e};{const h=Math.pow(f,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:e}}}const $P=12;function HP(e,t,n){let r=n;for(let s=1;s<$P;s++)r=r-e(r)/t(r);return r}function qy(e,t){return e*Math.sqrt(1-t*t)}const UP=["duration","bounce"],qP=["stiffness","damping","mass"];function IS(e,t){return t.some(n=>e[n]!==void 0)}function ZP(e){let t={velocity:wn.velocity,stiffness:wn.stiffness,damping:wn.damping,mass:wn.mass,isResolvedFromDuration:!1,...e};if(!IS(e,qP)&&IS(e,UP))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Xo(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:wn.mass,stiffness:s,damping:a}}else{const n=VP(e);t={...t,...n,mass:wn.mass},t.isResolvedFromDuration=!0}return t}function Yh(e=wn.visualDuration,t=wn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:f,damping:h,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=ZP({...n,velocity:-Si(n.velocity||0)}),C=y||0,N=h/(2*Math.sqrt(f*m)),T=l-a,_=Si(Math.sqrt(f/m)),A=Math.abs(T)<5;r||(r=A?wn.restSpeed.granular:wn.restSpeed.default),s||(s=A?wn.restDelta.granular:wn.restDelta.default);let k;if(N<1){const R=qy(_,N);k=z=>{const D=Math.exp(-N*_*z);return l-D*((C+N*_*T)/R*Math.sin(R*z)+T*Math.cos(R*z))}}else if(N===1)k=R=>l-Math.exp(-_*R)*(T+(C+_*T)*R);else{const R=_*Math.sqrt(N*N-1);k=z=>{const D=Math.exp(-N*_*z),I=Math.min(R*z,300);return l-D*((C+N*_*T)*Math.sinh(I)+R*T*Math.cosh(I))/R}}const O={calculatedDuration:b&&g||null,next:R=>{const z=k(R);if(b)c.done=R>=g;else{let D=R===0?C:0;N<1&&(D=R===0?io(C):V2(k,R,z));const I=Math.abs(D)<=r,H=Math.abs(l-z)<=s;c.done=I&&H}return c.value=c.done?l:z,c},toString:()=>{const R=Math.min(gx(O),Zh),z=B2(D=>O.next(R*D).value,R,30);return R+"ms "+z},toTransition:()=>{}};return O}Yh.applyToOptions=e=>{const t=FP(e,100,Yh);return e.ease=t.ease,e.duration=io(t.duration),e.type="keyframes",e};function Zy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:f,restDelta:h=.5,restSpeed:m}){const g=e[0],y={done:!1,value:g},b=I=>c!==void 0&&I<c||f!==void 0&&I>f,C=I=>c===void 0?f:f===void 0||Math.abs(c-I)<Math.abs(f-I)?c:f;let N=n*t;const T=g+N,_=l===void 0?T:l(T);_!==T&&(N=_-g);const A=I=>-N*Math.exp(-I/r),k=I=>_+A(I),O=I=>{const H=A(I),te=k(I);y.done=Math.abs(H)<=h,y.value=y.done?_:te};let R,z;const D=I=>{b(y.value)&&(R=I,z=Yh({keyframes:[y.value,C(y.value)],velocity:V2(k,I,y.value),damping:s,stiffness:a,restDelta:h,restSpeed:m}))};return D(0),{calculatedDuration:null,next:I=>{let H=!1;return!z&&R===void 0&&(H=!0,O(I),D(I)),R!==void 0&&I>=R?z.next(I-R):(!H&&O(I),y)}}}function YP(e,t,n){const r=[],s=n||Wo.mix||F2,a=e.length-1;for(let l=0;l<a;l++){let c=s(e[l],e[l+1]);if(t){const f=Array.isArray(t)?t[l]||_i:t;c=Td(f,c)}r.push(c)}return r}function GP(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(sx(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=YP(t,r,s),f=c.length,h=m=>{if(l&&m<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(m<e[g+1]);g++);const y=fd(e[g],e[g+1],m);return c[g](y)};return n?m=>h(Xo(e[0],e[a-1],m)):h}function KP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=fd(0,t,r);e.push(fn(n,1,s))}}function XP(e){const t=[0];return KP(t,e.length-1),t}function WP(e,t){return e.map(n=>n*t)}function JP(e,t){return e.map(()=>t||j2).splice(0,e.length-1)}function Yc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=uP(r)?r.map(OS):OS(r),a={done:!1,value:t[0]},l=WP(n&&n.length===t.length?n:XP(t),e),c=GP(l,t,{ease:Array.isArray(s)?s:JP(t,s)});return{calculatedDuration:e,next:f=>(a.value=c(f),a.done=f>=e,a)}}const QP=e=>e!==null;function yx(e,{repeat:t,repeatType:n="loop"},r,s=1){const a=e.filter(QP),c=s<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const eI={decay:Zy,inertia:Zy,tween:Yc,keyframes:Yc,spring:Yh};function $2(e){typeof e.type=="string"&&(e.type=eI[e.type])}class xx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const tI=e=>e/100;class vx extends xx{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Mr.now()&&this.tick(Mr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;$2(t);const{type:n=Yc,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=t;let{keyframes:c}=t;const f=n||Yc;f!==Yc&&typeof c[0]!="number"&&(this.mixKeyframes=Td(tI,F2(c[0],c[1])),c=[0,100]);const h=f({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=gx(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:b,type:C,onUpdate:N,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let k=this.currentTime,O=r;if(g){const I=Math.min(this.currentTime,s)/c;let H=Math.floor(I),te=I%1;!te&&I>=1&&(te=1),te===1&&H--,H=Math.min(H,g+1),!!(H%2)&&(y==="reverse"?(te=1-te,b&&(te-=b/c)):y==="mirror"&&(O=l)),k=Xo(0,1,te)*c}const R=A?{done:!1,value:m[0]}:O.next(k);a&&(R.value=a(R.value));let{done:z}=R;!A&&f!==null&&(z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return D&&C!==Zy&&(R.value=yx(m,this.options,T,this.speed)),N&&N(R.value),D&&this.finish(),R}then(t,n){return this.finished.then(t,n)}get duration(){return Si(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Si(t)}get time(){return Si(this.currentTime)}set time(t){t=io(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Mr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Si(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=LP,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function nI(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ma=e=>e*180/Math.PI,Yy=e=>{const t=Ma(Math.atan2(e[1],e[0]));return Gy(t)},rI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yy,rotateZ:Yy,skewX:e=>Ma(Math.atan(e[1])),skewY:e=>Ma(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gy=e=>(e=e%360,e<0&&(e+=360),e),LS=Yy,FS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),BS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),iI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FS,scaleY:BS,scale:e=>(FS(e)+BS(e))/2,rotateX:e=>Gy(Ma(Math.atan2(e[6],e[5]))),rotateY:e=>Gy(Ma(Math.atan2(-e[2],e[0]))),rotateZ:LS,rotate:LS,skewX:e=>Ma(Math.atan(e[4])),skewY:e=>Ma(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ky(e){return e.includes("scale")?1:0}function Xy(e,t){if(!e||e==="none")return Ky(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=iI,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=rI,s=c}if(!s)return Ky(t);const a=r[t],l=s[1].split(",").map(sI);return typeof a=="function"?a(l):l[a]}const oI=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Xy(n,t)};function sI(e){return parseFloat(e.trim())}const bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wu=new Set(bu),VS=e=>e===vu||e===ut,aI=new Set(["x","y","z"]),lI=bu.filter(e=>!aI.has(e));function uI(e){const t=[];return lI.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const za={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Xy(t,"x"),y:(e,{transform:t})=>Xy(t,"y")};za.translateX=za.x;za.translateY=za.y;const Ra=new Set;let Wy=!1,Jy=!1,Qy=!1;function H2(){if(Jy){const e=Array.from(Ra).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=uI(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jy=!1,Wy=!1,Ra.forEach(e=>e.complete(Qy)),Ra.clear()}function U2(){Ra.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Jy=!0)})}function cI(){Qy=!0,U2(),H2(),Qy=!1}class bx{constructor(t,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ra.add(this),Wy||(Wy=!0,on.read(U2),on.resolveKeyframes(H2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const a=s?.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&a===void 0&&s.set(t[0])}nI(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ra.delete(this)}cancel(){this.state==="scheduled"&&(Ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dI=e=>e.startsWith("--");function fI(e,t,n){dI(t)?e.style.setProperty(t,n):e.style[t]=n}const hI=ax(()=>window.ScrollTimeline!==void 0),pI={};function mI(e,t){const n=ax(e);return()=>pI[t]??n()}const q2=mI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,$S={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vc([0,.65,.55,1]),circOut:Vc([.55,0,1,.45]),backIn:Vc([.31,.01,.66,-.59]),backOut:Vc([.33,1.53,.69,.99])};function Z2(e,t){if(e)return typeof e=="function"?q2()?B2(e,t):"ease-out":A2(e)?Vc(e):Array.isArray(e)?e.map(n=>Z2(n,t)||$S.easeOut):$S[e]}function gI(e,t,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:f}={},h=void 0){const m={[t]:n};f&&(m.offset=f);const g=Z2(c,s);Array.isArray(g)&&(m.easing=g);const y={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),e.animate(m,y)}function Y2(e){return typeof e=="function"&&"applyToOptions"in e}function yI({type:e,...t}){return Y2(e)&&q2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class xI extends xx{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:f}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,sx(typeof t.type!="string");const h=yI(t);this.animation=gI(n,r,s,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=yx(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):fI(n,r,m),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Si(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Si(t)}get time(){return Si(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=io(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&hI()?(this.animation.timeline=t,_i):n(this)}}const G2={anticipate:C2,backInOut:E2,circInOut:k2};function vI(e){return e in G2}function bI(e){typeof e.ease=="string"&&vI(e.ease)&&(e.ease=G2[e.ease])}const HS=10;class wI extends xI{constructor(t){bI(t),$2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new vx({...l,autoplay:!1}),f=io(this.finishedTime??this.time);n.setWithVelocity(c.sample(f-HS).value,c.sample(f).value,HS),c.stop()}}const US=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Us.test(e)||e==="0")&&!e.startsWith("url("));function SI(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function NI(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=US(s,t),c=US(a,t);return!l||!c?!1:SI(e)||(n==="spring"||Y2(n))&&r}function e0(e){e.duration=0,e.type="keyframes"}const _I=new Set(["opacity","clipPath","filter","transform"]),EI=ax(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function CI(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return EI()&&n&&_I.has(n)&&(n!=="transform"||!h)&&!f&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const TI=40;class kI extends xx{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:f,motionValue:h,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mr.now();const y={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:f,motionValue:h,element:m,...g},b=m?.KeyframeResolver||bx;this.keyframeResolver=new b(c,(C,N,T)=>this.onKeyframesResolved(C,N,y,!T),f,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:f,isHandoff:h,onUpdate:m}=r;this.resolvedAt=Mr.now(),NI(t,a,l,c)||((Wo.instantAnimations||!f)&&m?.(yx(t,r,n)),t[0]=t[t.length-1],e0(r),r.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>TI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},b=!h&&CI(y)?new wI({...y,element:y.motionValue.owner.current}):new vx(y);b.finished.then(()=>this.notifyFinished()).catch(_i),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),cI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const jI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AI(e){const t=jI.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function K2(e,t,n=1){const[r,s]=AI(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const l=a.trim();return y2(l)?parseFloat(l):l}return fx(s)?K2(s,t,n+1):s}function wx(e,t){return e?.[t]??e?.default??e}const X2=new Set(["width","height","top","left","right","bottom",...bu]),MI={test:e=>e==="auto",parse:e=>e},W2=e=>t=>t.test(e),J2=[vu,ut,oo,Bs,SP,wP,MI],qS=e=>J2.find(W2(e));function OI(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||v2(e):!0}const DI=new Set(["brightness","contrast","saturate","opacity"]);function zI(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hx)||[];if(!r)return e;const s=n.replace(r,"");let a=DI.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const RI=/\b([a-z-]*)\(.*?\)/gu,t0={...Us,getAnimatableNone:e=>{const t=e.match(RI);return t?t.map(zI).join(" "):e}},ZS={...vu,transform:Math.round},PI={rotate:Bs,rotateX:Bs,rotateY:Bs,rotateZ:Bs,scale:rh,scaleX:rh,scaleY:rh,scaleZ:rh,skew:Bs,skewX:Bs,skewY:Bs,distance:ut,translateX:ut,translateY:ut,translateZ:ut,x:ut,y:ut,z:ut,perspective:ut,transformPerspective:ut,opacity:hd,originX:DS,originY:DS,originZ:ut},Sx={borderWidth:ut,borderTopWidth:ut,borderRightWidth:ut,borderBottomWidth:ut,borderLeftWidth:ut,borderRadius:ut,radius:ut,borderTopLeftRadius:ut,borderTopRightRadius:ut,borderBottomRightRadius:ut,borderBottomLeftRadius:ut,width:ut,maxWidth:ut,height:ut,maxHeight:ut,top:ut,right:ut,bottom:ut,left:ut,padding:ut,paddingTop:ut,paddingRight:ut,paddingBottom:ut,paddingLeft:ut,margin:ut,marginTop:ut,marginRight:ut,marginBottom:ut,marginLeft:ut,backgroundPositionX:ut,backgroundPositionY:ut,...PI,zIndex:ZS,fillOpacity:hd,strokeOpacity:hd,numOctaves:ZS},II={...Sx,color:Fn,backgroundColor:Fn,outlineColor:Fn,fill:Fn,stroke:Fn,borderColor:Fn,borderTopColor:Fn,borderRightColor:Fn,borderBottomColor:Fn,borderLeftColor:Fn,filter:t0,WebkitFilter:t0},Q2=e=>II[e];function eT(e,t){let n=Q2(e);return n!==t0&&(n=Us),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const LI=new Set(["auto","none","0"]);function FI(e,t,n){let r=0,s;for(;r<e.length&&!s;){const a=e[r];typeof a=="string"&&!LI.has(a)&&pd(a).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=eT(n,s)}class BI extends bx{constructor(t,n,r,s,a){super(t,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let h=t[f];if(typeof h=="string"&&(h=h.trim(),fx(h))){const m=K2(h,n.current);m!==void 0&&(t[f]=m),f===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!X2.has(r)||t.length!==2)return;const[s,a]=t,l=qS(s),c=qS(a);if(l!==c)if(VS(l)&&VS(c))for(let f=0;f<t.length;f++){const h=t[f];typeof h=="string"&&(t[f]=parseFloat(h))}else za[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||OI(t[s]))&&r.push(s);r.length&&FI(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=za[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=za[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,f])=>{t.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function VI(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=n?.[e]??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const tT=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function nT(e){return x2(e)&&"offsetHeight"in e}const YS=30,$I=e=>!isNaN(parseFloat(e));class HI{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Mr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Mr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$I(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new lx);const r=this.events[t].add(n);return t==="change"?()=>{r(),on.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>YS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,YS);return b2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fu(e,t){return new HI(e,t)}const{schedule:Nx}=M2(queueMicrotask,!1),Di={x:!1,y:!1};function rT(){return Di.x||Di.y}function UI(e){return e==="x"||e==="y"?Di[e]?null:(Di[e]=!0,()=>{Di[e]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}function iT(e,t){const n=VI(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function GS(e){return!(e.pointerType==="touch"||rT())}function qI(e,t,n={}){const[r,s,a]=iT(e,n),l=c=>{if(!GS(c))return;const{target:f}=c,h=t(f,c);if(typeof h!="function"||!f)return;const m=g=>{GS(g)&&(h(g),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const oT=(e,t)=>t?e===t?!0:oT(e,t.parentElement):!1,_x=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ZI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YI(e){return ZI.has(e.tagName)||e.tabIndex!==-1}const jh=new WeakSet;function KS(e){return t=>{t.key==="Enter"&&e(t)}}function Zg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const GI=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=KS(()=>{if(jh.has(n))return;Zg(n,"down");const s=KS(()=>{Zg(n,"up")}),a=()=>Zg(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function XS(e){return _x(e)&&!rT()}function KI(e,t,n={}){const[r,s,a]=iT(e,n),l=c=>{const f=c.currentTarget;if(!XS(c))return;jh.add(f);const h=t(f,c),m=(b,C)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),jh.has(f)&&jh.delete(f),XS(b)&&typeof h=="function"&&h(b,{success:C})},g=b=>{m(b,f===window||f===document||n.useGlobalTarget||oT(f,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),nT(c)&&(c.addEventListener("focus",h=>GI(h,s)),!YI(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function sT(e){return x2(e)&&"ownerSVGElement"in e}function XI(e){return sT(e)&&e.tagName==="svg"}const ur=e=>!!(e&&e.getVelocity),WI=[...J2,Fn,Us],JI=e=>WI.find(W2(e)),Ex=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function WS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function QI(...e){return t=>{let n=!1;const r=e.map(s=>{const a=WS(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():WS(e[s],null)}}}}function e6(...e){return U.useCallback(QI(...e),e)}class t6 extends U.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=nT(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function n6({children:e,isPresent:t,anchorX:n,root:r}){const s=U.useId(),a=U.useRef(null),l=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=U.useContext(Ex),f=e6(a,e?.ref);return U.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:y,right:b}=l.current;if(t||!a.current||!h||!m)return;const C=n==="left"?`left: ${y}`:`right: ${b}`;a.current.dataset.motionPopId=s;const N=document.createElement("style");c&&(N.nonce=c);const T=r??document.head;return T.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${C}px !important;
            top: ${g}px !important;
          }
        `),()=>{T.contains(N)&&T.removeChild(N)}},[t]),p.jsx(t6,{isPresent:t,childRef:a,sizeRef:l,children:U.cloneElement(e,{ref:f})})}const r6=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c,root:f})=>{const h=nx(i6),m=U.useId();let g=!0,y=U.useMemo(()=>(g=!1,{id:m,initial:t,isPresent:n,custom:s,onExitComplete:b=>{h.set(b,!0);for(const C of h.values())if(!C)return;r&&r()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,r]);return a&&g&&(y={...y}),U.useMemo(()=>{h.forEach((b,C)=>h.set(C,!1))},[n]),U.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(e=p.jsx(n6,{isPresent:n,anchorX:c,root:f,children:e})),p.jsx(yp.Provider,{value:y,children:e})};function i6(){return new Map}function aT(e=!0){const t=U.useContext(yp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,a=U.useId();U.useEffect(()=>{if(e)return s(a)},[e]);const l=U.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,l]:[!0]}const ih=e=>e.key||"";function JS(e){const t=[];return U.Children.forEach(e,n=>{U.isValidElement(n)&&t.push(n)}),t}const Wr=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:f})=>{const[h,m]=aT(l),g=U.useMemo(()=>JS(e),[e]),y=l&&!h?[]:g.map(ih),b=U.useRef(!0),C=U.useRef(g),N=nx(()=>new Map),[T,_]=U.useState(g),[A,k]=U.useState(g);g2(()=>{b.current=!1,C.current=g;for(let z=0;z<A.length;z++){const D=ih(A[z]);y.includes(D)?N.delete(D):N.get(D)!==!0&&N.set(D,!1)}},[A,y.length,y.join("-")]);const O=[];if(g!==T){let z=[...g];for(let D=0;D<A.length;D++){const I=A[D],H=ih(I);y.includes(H)||(z.splice(D,0,I),O.push(I))}return a==="wait"&&O.length&&(z=O),k(JS(z)),_(g),null}const{forceRender:R}=U.useContext(tx);return p.jsx(p.Fragment,{children:A.map(z=>{const D=ih(z),I=l&&!h?!1:g===A||y.includes(D),H=()=>{if(N.has(D))N.set(D,!0);else return;let te=!0;N.forEach(ee=>{ee||(te=!1)}),te&&(R?.(),k(C.current),l&&m?.(),r&&r())};return p.jsx(r6,{isPresent:I,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:f,onExitComplete:I?void 0:H,anchorX:c,children:z},D)})})},lT=U.createContext({strict:!1}),QS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hu={};for(const e in QS)hu[e]={isEnabled:t=>QS[e].some(n=>!!t[n])};function o6(e){for(const t in e)hu[t]={...hu[t],...e[t]}}const s6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||s6.has(e)}let uT=e=>!Gh(e);function a6(e){typeof e=="function"&&(uT=t=>t.startsWith("on")?!Gh(t):e(t))}try{a6(require("@emotion/is-prop-valid").default)}catch{}function l6(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(uT(s)||n===!0&&Gh(s)||!t&&!Gh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const xp=U.createContext({});function vp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function md(e){return typeof e=="string"||Array.isArray(e)}const Cx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tx=["initial",...Cx];function bp(e){return vp(e.animate)||Tx.some(t=>md(e[t]))}function cT(e){return!!(bp(e)||e.variants)}function u6(e,t){if(bp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||md(n)?n:void 0,animate:md(r)?r:void 0}}return e.inherit!==!1?t:{}}function c6(e){const{initial:t,animate:n}=u6(e,U.useContext(xp));return U.useMemo(()=>({initial:t,animate:n}),[eN(t),eN(n)])}function eN(e){return Array.isArray(e)?e.join(" "):e}const gd={};function d6(e){for(const t in e)gd[t]=e[t],dx(t)&&(gd[t].isCSSVariable=!0)}function dT(e,{layout:t,layoutId:n}){return wu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!gd[e]||e==="opacity")}const f6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h6=bu.length;function p6(e,t,n){let r="",s=!0;for(let a=0;a<h6;a++){const l=bu[a],c=e[l];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(l.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const h=tT(c,Sx[l]);if(!f){s=!1;const m=f6[l]||l;r+=`${m}(${h}) `}n&&(t[l]=h)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function kx(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let l=!1,c=!1;for(const f in t){const h=t[f];if(wu.has(f)){l=!0;continue}else if(dx(f)){s[f]=h;continue}else{const m=tT(h,Sx[f]);f.startsWith("origin")?(c=!0,a[f]=m):r[f]=m}}if(t.transform||(l||n?r.transform=p6(t,e.transform,n):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=a;r.transformOrigin=`${f} ${h} ${m}`}}const jx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fT(e,t,n){for(const r in t)!ur(t[r])&&!dT(r,n)&&(e[r]=t[r])}function m6({transformTemplate:e},t){return U.useMemo(()=>{const n=jx();return kx(n,t,e),Object.assign({},n.vars,n.style)},[t])}function g6(e,t){const n=e.style||{},r={};return fT(r,n,e),Object.assign(r,m6(e,t)),r}function y6(e,t){const n={},r=g6(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const x6={offset:"stroke-dashoffset",array:"stroke-dasharray"},v6={offset:"strokeDashoffset",array:"strokeDasharray"};function b6(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?x6:v6;e[a.offset]=ut.transform(-r);const l=ut.transform(t),c=ut.transform(n);e[a.array]=`${l} ${c}`}function hT(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},f,h,m){if(kx(e,c,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:y}=e;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&b6(g,s,a,l,!1)}const pT=()=>({...jx(),attrs:{}}),mT=e=>typeof e=="string"&&e.toLowerCase()==="svg";function w6(e,t,n,r){const s=U.useMemo(()=>{const a=pT();return hT(a,t,mT(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};fT(a,e.style,e),s.style={...a,...s.style}}return s}const S6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ax(e){return typeof e!="string"||e.includes("-")?!1:!!(S6.indexOf(e)>-1||/[A-Z]/u.test(e))}function N6(e,t,n,{latestValues:r},s,a=!1){const c=(Ax(e)?w6:y6)(t,r,s,e),f=l6(t,typeof e=="string",a),h=e!==U.Fragment?{...f,...c,ref:n}:{},{children:m}=t,g=U.useMemo(()=>ur(m)?m.get():m,[m]);return U.createElement(e,{...h,children:g})}function tN(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Mx(e,t,n,r){if(typeof t=="function"){const[s,a]=tN(r);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=tN(r);t=t(n!==void 0?n:e.custom,s,a)}return t}function Ah(e){return ur(e)?e.get():e}function _6({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:E6(n,r,s,e),renderState:t()}}function E6(e,t,n,r){const s={},a=r(e,{});for(const y in a)s[y]=Ah(a[y]);let{initial:l,animate:c}=e;const f=bp(e),h=cT(e);t&&h&&!f&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?c:l;if(g&&typeof g!="boolean"&&!vp(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const C=Mx(e,y[b]);if(C){const{transitionEnd:N,transition:T,..._}=C;for(const A in _){let k=_[A];if(Array.isArray(k)){const O=m?k.length-1:0;k=k[O]}k!==null&&(s[A]=k)}for(const A in N)s[A]=N[A]}}}return s}const gT=e=>(t,n)=>{const r=U.useContext(xp),s=U.useContext(yp),a=()=>_6(e,t,r,s);return n?a():nx(a)};function Ox(e,t,n){const{style:r}=e,s={};for(const a in r)(ur(r[a])||t.style&&ur(t.style[a])||dT(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}const C6=gT({scrapeMotionValuesFromProps:Ox,createRenderState:jx});function yT(e,t,n){const r=Ox(e,t,n);for(const s in e)if(ur(e[s])||ur(t[s])){const a=bu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}const T6=gT({scrapeMotionValuesFromProps:yT,createRenderState:pT}),k6=Symbol.for("motionComponentSymbol");function Yl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function j6(e,t,n){return U.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Yl(n)&&(n.current=r))},[t])}const Dx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A6="framerAppearId",xT="data-"+Dx(A6),vT=U.createContext({});function M6(e,t,n,r,s){const{visualElement:a}=U.useContext(xp),l=U.useContext(lT),c=U.useContext(yp),f=U.useContext(Ex).reducedMotion,h=U.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const m=h.current,g=U.useContext(vT);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&O6(h.current,n,s,g);const y=U.useRef(!1);U.useInsertionEffect(()=>{m&&y.current&&m.update(n,c)});const b=n[xT],C=U.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return g2(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),C.current&&m.animationState&&m.animationState.animateChanges())}),U.useEffect(()=>{m&&(!C.current&&m.animationState&&m.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),C.current=!1),m.enteringChildren=void 0)}),m}function O6(e,t,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:f,layoutRoot:h,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bT(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&Yl(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:f,layoutRoot:h})}function bT(e){if(e)return e.options.allowProjection!==!1?e.projection:bT(e.parent)}function Yg(e,{forwardMotionProps:t=!1}={},n,r){n&&o6(n);const s=Ax(e)?T6:C6;function a(c,f){let h;const m={...U.useContext(Ex),...c,layoutId:D6(c)},{isStatic:g}=m,y=c6(c),b=s(c,g);if(!g&&rx){z6();const C=R6(m);h=C.MeasureLayout,y.visualElement=M6(e,b,m,r,C.ProjectionNode)}return p.jsxs(xp.Provider,{value:y,children:[h&&y.visualElement?p.jsx(h,{visualElement:y.visualElement,...m}):null,N6(e,c,j6(b,y.visualElement,f),b,g,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=U.forwardRef(a);return l[k6]=e,l}function D6({layoutId:e}){const t=U.useContext(tx).id;return t&&e!==void 0?t+"-"+e:e}function z6(e,t){U.useContext(lT).strict}function R6(e){const{drag:t,layout:n}=hu;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function P6(e,t){if(typeof Proxy>"u")return Yg;const n=new Map,r=(a,l)=>Yg(a,l,e,t),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Yg(l,void 0,e,t)),n.get(l))})}function wT({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function I6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function L6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Gg(e){return e===void 0||e===1}function n0({scale:e,scaleX:t,scaleY:n}){return!Gg(e)||!Gg(t)||!Gg(n)}function ka(e){return n0(e)||ST(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ST(e){return nN(e.x)||nN(e.y)}function nN(e){return e&&e!=="0%"}function Kh(e,t,n){const r=e-n,s=t*r;return n+s}function rN(e,t,n,r,s){return s!==void 0&&(e=Kh(e,s,r)),Kh(e,n,r)+t}function r0(e,t=0,n=1,r,s){e.min=rN(e.min,t,n,r,s),e.max=rN(e.max,t,n,r,s)}function NT(e,{x:t,y:n}){r0(e.x,t.translate,t.scale,t.originPoint),r0(e.y,n.translate,n.scale,n.originPoint)}const iN=.999999999999,oN=1.0000000000001;function F6(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Kl(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,NT(e,l)),r&&ka(a.latestValues)&&Kl(e,a.latestValues))}t.x<oN&&t.x>iN&&(t.x=1),t.y<oN&&t.y>iN&&(t.y=1)}function Gl(e,t){e.min=e.min+t,e.max=e.max+t}function sN(e,t,n,r,s=.5){const a=fn(e.min,e.max,s);r0(e,t,n,a,r)}function Kl(e,t){sN(e.x,t.x,t.scaleX,t.scale,t.originX),sN(e.y,t.y,t.scaleY,t.scale,t.originY)}function _T(e,t){return wT(L6(e.getBoundingClientRect(),t))}function B6(e,t,n){const r=_T(e,n),{scroll:s}=t;return s&&(Gl(r.x,s.offset.x),Gl(r.y,s.offset.y)),r}const aN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xl=()=>({x:aN(),y:aN()}),lN=()=>({min:0,max:0}),kn=()=>({x:lN(),y:lN()}),i0={current:null},ET={current:!1};function V6(){if(ET.current=!0,!!rx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>i0.current=e.matches;e.addEventListener("change",t),t()}else i0.current=!1}const $6=new WeakMap;function H6(e,t,n){for(const r in t){const s=t[r],a=n[r];if(ur(s))e.addValue(r,s);else if(ur(a))e.addValue(r,fu(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(r);e.addValue(r,fu(l!==void 0?l:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const uN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class U6{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Mr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,on.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=bp(n),this.isVariantNode=cT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const b=g[y];f[y]!==void 0&&ur(b)&&b.set(f[y])}}mount(t){this.current=t,$6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ET.current||V6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:i0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=wu.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&on.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hu){const n=hu[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uN.length;r++){const s=uN[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=H6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=fu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(y2(r)||v2(r))?r=parseFloat(r):!JI(r)&&Us.test(n)&&(r=eT(t,n)),this.setBaseTarget(t,ur(r)?r.get():r)),ur(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Mx(this.props,n,this.presenceContext?.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ur(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new lx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Nx.render(this.render)}}class CT extends U6{constructor(){super(...arguments),this.KeyframeResolver=BI}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ur(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function TT(e,{style:t,vars:n},r,s){const a=e.style;let l;for(l in t)a[l]=t[l];s?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function q6(e){return window.getComputedStyle(e)}class Z6 extends CT{constructor(){super(...arguments),this.type="html",this.renderInstance=TT}readValueFromInstance(t,n){if(wu.has(n))return this.projection?.isProjecting?Ky(n):oI(t,n);{const r=q6(t),s=(dx(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return _T(t,n)}build(t,n,r){kx(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Ox(t,n,r)}}const kT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y6(e,t,n,r){TT(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(kT.has(s)?s:Dx(s),t.attrs[s])}class G6 extends CT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(wu.has(n)){const r=Q2(n);return r&&r.default||0}return n=kT.has(n)?n:Dx(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return yT(t,n,r)}build(t,n,r){hT(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){Y6(t,n,r,s)}mount(t){this.isSVGTag=mT(t.tagName),super.mount(t)}}const K6=(e,t)=>Ax(e)?new G6(t):new Z6(t,{allowProjection:e!==U.Fragment});function tu(e,t,n){const r=e.getProps();return Mx(r,t,n!==void 0?n:r.custom,e)}const o0=e=>Array.isArray(e);function X6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fu(n))}function W6(e){return o0(e)?e[e.length-1]||0:e}function J6(e,t){const n=tu(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=W6(a[l]);X6(e,l,c)}}function Q6(e){return!!(ur(e)&&e.add)}function s0(e,t){const n=e.getValue("willChange");if(Q6(n))return n.add(t);if(!n&&Wo.WillChange){const r=new Wo.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function jT(e){return e.props[xT]}const eL=e=>e!==null;function tL(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(eL),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[a]}const nL={type:"spring",stiffness:500,damping:25,restSpeed:10},rL=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),iL={type:"keyframes",duration:.8},oL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sL=(e,{keyframes:t})=>t.length>2?iL:wu.has(e)?e.startsWith("scale")?rL(t[1]):nL:oL;function aL({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:f,elapsed:h,...m}){return!!Object.keys(m).length}const zx=(e,t,n,r={},s,a)=>l=>{const c=wx(r,e)||{},f=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-io(f);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:y=>{t.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:s};aL(c)||Object.assign(m,sL(e,m)),m.duration&&(m.duration=io(m.duration)),m.repeatDelay&&(m.repeatDelay=io(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(e0(m),m.delay===0&&(g=!0)),(Wo.instantAnimations||Wo.skipAnimations)&&(g=!0,e0(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,g&&!a&&t.get()!==void 0){const y=tL(m.keyframes,c);if(y!==void 0){on.update(()=>{m.onUpdate(y),m.onComplete()});return}}return c.isSync?new vx(m):new kI(m)};function lL({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function AT(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(a=r);const f=[],h=s&&e.animationState&&e.animationState.getState()[s];for(const m in c){const g=e.getValue(m,e.latestValues[m]??null),y=c[m];if(y===void 0||h&&lL(h,m))continue;const b={delay:n,...wx(a||{},m)},C=g.get();if(C!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===C&&!b.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const _=jT(e);if(_){const A=window.MotionHandoffAnimation(_,m,on);A!==null&&(b.startTime=A,N=!0)}}s0(e,m),g.start(zx(m,g,y,e.shouldReduceMotion&&X2.has(m)?{type:!1}:b,e,N));const T=g.animation;T&&f.push(T)}return l&&Promise.all(f).then(()=>{on.update(()=>{l&&J6(e,l)})}),f}function MT(e,t,n,r=0,s=1){const a=Array.from(e).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),l=e.size,c=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:c-a*r}function a0(e,t,n={}){const r=tu(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(AT(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=s;return uL(e,t,f,h,m,g,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,h]=c==="beforeChildren"?[a,l]:[l,a];return f().then(()=>h())}else return Promise.all([a(),l(n.delay)])}function uL(e,t,n=0,r=0,s=0,a=1,l){const c=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),c.push(a0(f,t,{...l,delay:n+(typeof r=="function"?0:r)+MT(e.variantChildren,f,r,s,a)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(c)}function cL(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>a0(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=a0(e,t,n);else{const s=typeof t=="function"?tu(e,t,n.custom):t;r=Promise.all(AT(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function OT(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const dL=Tx.length;function DT(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?DT(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<dL;n++){const r=Tx[n],s=e.props[r];(md(s)||s===!1)&&(t[r]=s)}return t}const fL=[...Cx].reverse(),hL=Cx.length;function pL(e){return t=>Promise.all(t.map(({animation:n,options:r})=>cL(e,n,r)))}function mL(e){let t=pL(e),n=cN(),r=!0;const s=f=>(h,m)=>{const g=tu(e,m,f==="exit"?e.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,...C}=g;h={...h,...C,...b}}return h};function a(f){t=f(e)}function l(f){const{props:h}=e,m=DT(e.parent)||{},g=[],y=new Set;let b={},C=1/0;for(let T=0;T<hL;T++){const _=fL[T],A=n[_],k=h[_]!==void 0?h[_]:m[_],O=md(k),R=_===f?A.isActive:null;R===!1&&(C=T);let z=k===m[_]&&k!==h[_]&&O;if(z&&r&&e.manuallyAnimateOnMount&&(z=!1),A.protectedKeys={...b},!A.isActive&&R===null||!k&&!A.prevProp||vp(k)||typeof k=="boolean")continue;const D=gL(A.prevProp,k);let I=D||_===f&&A.isActive&&!z&&O||T>C&&O,H=!1;const te=Array.isArray(k)?k:[k];let ee=te.reduce(s(_),{});R===!1&&(ee={});const{prevResolvedValues:X={}}=A,ae={...X,...ee},q=Y=>{I=!0,y.has(Y)&&(H=!0,y.delete(Y)),A.needsAnimating[Y]=!0;const K=e.getValue(Y);K&&(K.liveStyle=!1)};for(const Y in ae){const K=ee[Y],ue=X[Y];if(b.hasOwnProperty(Y))continue;let B=!1;o0(K)&&o0(ue)?B=!OT(K,ue):B=K!==ue,B?K!=null?q(Y):y.add(Y):K!==void 0&&y.has(Y)?q(Y):A.protectedKeys[Y]=!0}A.prevProp=k,A.prevResolvedValues=ee,A.isActive&&(b={...b,...ee}),r&&e.blockInitialAnimation&&(I=!1);const Q=z&&D;I&&(!Q||H)&&g.push(...te.map(Y=>{const K={type:_};if(typeof Y=="string"&&r&&!Q&&e.manuallyAnimateOnMount&&e.parent){const{parent:ue}=e,B=tu(ue,Y);if(ue.enteringChildren&&B){const{delayChildren:Z}=B.transition||{};K.delay=MT(ue.enteringChildren,e,Z)}}return{animation:Y,options:K}}))}if(y.size){const T={};if(typeof h.initial!="boolean"){const _=tu(e,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(T.transition=_.transition)}y.forEach(_=>{const A=e.getBaseTarget(_),k=e.getValue(_);k&&(k.liveStyle=!0),T[_]=A??null}),g.push({animation:T})}let N=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(N=!1),r=!1,N?t(g):Promise.resolve()}function c(f,h){if(n[f].isActive===h)return Promise.resolve();e.variantChildren?.forEach(g=>g.animationState?.setActive(f,h)),n[f].isActive=h;const m=l(f);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=cN()}}}function gL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!OT(t,e):!1}function Sa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cN(){return{animate:Sa(!0),whileInView:Sa(),whileHover:Sa(),whileTap:Sa(),whileDrag:Sa(),whileFocus:Sa(),exit:Sa()}}class Gs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class yL extends Gs{constructor(t){super(t),t.animationState||(t.animationState=mL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();vp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xL=0;class vL extends Gs{constructor(){super(...arguments),this.id=xL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const bL={animation:{Feature:yL},exit:{Feature:vL}};function yd(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ad(e){return{point:{x:e.pageX,y:e.pageY}}}const wL=e=>t=>_x(t)&&e(t,Ad(t));function Gc(e,t,n,r){return yd(e,t,wL(n),r)}const zT=1e-4,SL=1-zT,NL=1+zT,RT=.01,_L=0-RT,EL=0+RT;function yr(e){return e.max-e.min}function CL(e,t,n){return Math.abs(e-t)<=n}function dN(e,t,n,r=.5){e.origin=r,e.originPoint=fn(t.min,t.max,e.origin),e.scale=yr(n)/yr(t),e.translate=fn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=SL&&e.scale<=NL||isNaN(e.scale))&&(e.scale=1),(e.translate>=_L&&e.translate<=EL||isNaN(e.translate))&&(e.translate=0)}function Kc(e,t,n,r){dN(e.x,t.x,n.x,r?r.originX:void 0),dN(e.y,t.y,n.y,r?r.originY:void 0)}function fN(e,t,n){e.min=n.min+t.min,e.max=e.min+yr(t)}function TL(e,t,n){fN(e.x,t.x,n.x),fN(e.y,t.y,n.y)}function hN(e,t,n){e.min=t.min-n.min,e.max=e.min+yr(t)}function Xc(e,t,n){hN(e.x,t.x,n.x),hN(e.y,t.y,n.y)}function bi(e){return[e("x"),e("y")]}const PT=({current:e})=>e?e.ownerDocument.defaultView:null,pN=(e,t)=>Math.abs(e-t);function kL(e,t){const n=pN(e.x,t.x),r=pN(e.y,t.y);return Math.sqrt(n**2+r**2)}class IT{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Xg(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,C=kL(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!C)return;const{point:N}=y,{timestamp:T}=rr;this.history.push({...N,timestamp:T});const{onStart:_,onMove:A}=this.handlers;b||(_&&_(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Kg(b,this.transformPagePoint),on.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:C,onSessionEnd:N,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Xg(y.type==="pointercancel"?this.lastMoveEventInfo:Kg(b,this.transformPagePoint),this.history);this.startEvent&&C&&C(y,_),N&&N(y,_)},!_x(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const c=Ad(t),f=Kg(c,this.transformPagePoint),{point:h}=f,{timestamp:m}=rr;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(t,Xg(f,this.history)),this.removeListeners=Td(Gc(this.contextWindow,"pointermove",this.handlePointerMove),Gc(this.contextWindow,"pointerup",this.handlePointerUp),Gc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hs(this.updatePoint)}}function Kg(e,t){return t?{point:t(e.point)}:e}function mN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Xg({point:e},t){return{point:e,delta:mN(e,LT(t)),offset:mN(e,jL(t)),velocity:AL(t,.1)}}function jL(e){return e[0]}function LT(e){return e[e.length-1]}function AL(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=LT(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>io(t)));)n--;if(!r)return{x:0,y:0};const a=Si(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function ML(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?fn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?fn(n,e,r.max):Math.min(e,n)),e}function gN(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function OL(e,{top:t,left:n,bottom:r,right:s}){return{x:gN(e.x,n,s),y:gN(e.y,t,r)}}function yN(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function DL(e,t){return{x:yN(e.x,t.x),y:yN(e.y,t.y)}}function zL(e,t){let n=.5;const r=yr(e),s=yr(t);return s>r?n=fd(t.min,t.max-r,e.min):r>s&&(n=fd(e.min,e.max-s,t.min)),Xo(0,1,n)}function RL(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const l0=.35;function PL(e=l0){return e===!1?e=0:e===!0&&(e=l0),{x:xN(e,"left","right"),y:xN(e,"top","bottom")}}function xN(e,t,n){return{min:vN(e,t),max:vN(e,n)}}function vN(e,t){return typeof e=="number"?e:e[t]||0}const IL=new WeakMap;class LL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ad(g).point)},l=(g,y)=>{const{drag:b,dragPropagation:C,onDragStart:N}=this.getProps();if(b&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UI(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bi(_=>{let A=this.getAxisMotionValue(_).get()||0;if(oo.test(A)){const{projection:k}=this.visualElement;if(k&&k.layout){const O=k.layout.layoutBox[_];O&&(A=yr(O)*(parseFloat(A)/100))}}this.originPoint[_]=A}),N&&on.postRender(()=>N(g,y)),s0(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:C,onDirectionLock:N,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:_}=y;if(C&&this.currentDirection===null){this.currentDirection=FL(_),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",y.point,_),this.updateAxis("y",y.point,_),this.visualElement.render(),T&&T(g,y)},f=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>bi(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new IT(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:PT(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&on.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!oh(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=ML(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Yl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=OL(r.layoutBox,t):this.constraints=!1,this.elastic=PL(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=RL(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Yl(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=B6(r,s.root,this.visualElement.getTransformPagePoint());let l=DL(s.layout.layoutBox,a);if(n){const c=n(I6(l));this.hasMutatedConstraints=!!c,c&&(l=wT(c))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},h=bi(m=>{if(!oh(m,n,this.currentDirection))return;let g=f&&f[m]||{};l&&(g={min:0,max:0});const y=s?200:1e6,b=s?40:1e7,C={type:"inertia",velocity:r?t[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,C)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return s0(this.visualElement,t),r.start(zx(t,r,0,n,this.visualElement,!1))}stopAnimation(){bi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){bi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){bi(n=>{const{drag:r}=this.getProps();if(!oh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(t[n]-fn(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Yl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};bi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const f=c.get();s[l]=zL({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bi(l=>{if(!oh(l,t,null))return;const c=this.getAxisMotionValue(l),{min:f,max:h}=this.constraints[l];c.set(fn(f,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;IL.set(this.visualElement,this);const t=this.visualElement.current,n=Gc(t,"pointerdown",f=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Yl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),on.read(r);const l=yd(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(bi(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=l0,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function oh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function FL(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class BL extends Gs{constructor(t){super(t),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new LL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}}const bN=e=>(t,n)=>{e&&on.postRender(()=>e(t,n))};class VL extends Gs{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(t){this.session=new IT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:bN(t),onStart:bN(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&on.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Gc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wN(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Tc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ut.test(e))e=parseFloat(e);else return e;const n=wN(e,t.target.x),r=wN(e,t.target.y);return`${n}% ${r}%`}},$L={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Us.parse(e);if(s.length>5)return r;const a=Us.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,f=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=f;const h=fn(c,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),a(s)}};let Wg=!1;class HL extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;d6(UL),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),Wg&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Mh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,Wg=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||on.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Nx.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Wg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function FT(e){const[t,n]=aT(),r=U.useContext(tx);return p.jsx(HL,{...e,layoutGroup:r,switchLayoutGroup:U.useContext(vT),isPresent:t,safeToRemove:n})}const UL={borderRadius:{...Tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tc,borderTopRightRadius:Tc,borderBottomLeftRadius:Tc,borderBottomRightRadius:Tc,boxShadow:$L};function qL(e,t,n){const r=ur(e)?e:fu(e);return r.start(zx("",r,t,n)),r.animation}const ZL=(e,t)=>e.depth-t.depth;class YL{constructor(){this.children=[],this.isDirty=!1}add(t){ix(this.children,t),this.isDirty=!0}remove(t){ox(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ZL),this.isDirty=!1,this.children.forEach(t)}}function GL(e,t){const n=Mr.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(Hs(r),e(a-t))};return on.setup(r,!0),()=>Hs(r)}const BT=["TopLeft","TopRight","BottomLeft","BottomRight"],KL=BT.length,SN=e=>typeof e=="string"?parseFloat(e):e,NN=e=>typeof e=="number"||ut.test(e);function XL(e,t,n,r,s,a){s?(e.opacity=fn(0,n.opacity??1,WL(r)),e.opacityExit=fn(t.opacity??1,0,JL(r))):a&&(e.opacity=fn(t.opacity??1,n.opacity??1,r));for(let l=0;l<KL;l++){const c=`border${BT[l]}Radius`;let f=_N(t,c),h=_N(n,c);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||NN(f)===NN(h)?(e[c]=Math.max(fn(SN(f),SN(h),r),0),(oo.test(h)||oo.test(f))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=fn(t.rotate||0,n.rotate||0,r))}function _N(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const WL=VT(0,.5,T2),JL=VT(.5,.95,_i);function VT(e,t,n){return r=>r<e?0:r>t?1:n(fd(e,t,r))}function EN(e,t){e.min=t.min,e.max=t.max}function vi(e,t){EN(e.x,t.x),EN(e.y,t.y)}function CN(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function TN(e,t,n,r,s){return e-=t,e=Kh(e,1/n,r),s!==void 0&&(e=Kh(e,1/s,r)),e}function QL(e,t=0,n=1,r=.5,s,a=e,l=e){if(oo.test(t)&&(t=parseFloat(t),t=fn(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=fn(a.min,a.max,r);e===a&&(c-=t),e.min=TN(e.min,t,n,c,s),e.max=TN(e.max,t,n,c,s)}function kN(e,t,[n,r,s],a,l){QL(e,t[n],t[r],t[s],t.scale,a,l)}const eF=["x","scaleX","originX"],tF=["y","scaleY","originY"];function jN(e,t,n,r){kN(e.x,t,eF,n?n.x:void 0,r?r.x:void 0),kN(e.y,t,tF,n?n.y:void 0,r?r.y:void 0)}function AN(e){return e.translate===0&&e.scale===1}function $T(e){return AN(e.x)&&AN(e.y)}function MN(e,t){return e.min===t.min&&e.max===t.max}function nF(e,t){return MN(e.x,t.x)&&MN(e.y,t.y)}function ON(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function HT(e,t){return ON(e.x,t.x)&&ON(e.y,t.y)}function DN(e){return yr(e.x)/yr(e.y)}function zN(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rF{constructor(){this.members=[]}add(t){ix(this.members,t),t.scheduleRender()}remove(t){if(ox(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iF(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:y,skewX:b,skewY:C}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),b&&(r+=`skewX(${b}deg) `),C&&(r+=`skewY(${C}deg) `)}const c=e.x.scale*t.x,f=e.y.scale*t.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}const Jg=["","X","Y","Z"],oF=1e3;let sF=0;function Qg(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function UT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=jT(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",on,!(s||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&UT(r)}function qT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=t?.()){this.id=sF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uF),this.nodes.forEach(hF),this.nodes.forEach(pF),this.nodes.forEach(cF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new YL)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new lx),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const f=this.eventHandlers.get(l);f&&f.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=sT(l)&&!XI(l),this.instance=l;const{layoutId:c,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),e){let m,g=0;const y=()=>this.root.updateBlockedByResize=!1;on.read(()=>{g=window.innerWidth}),e(l,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,m&&m(),m=GL(y,250),Mh.hasAnimatedSinceResize&&(Mh.hasAnimatedSinceResize=!1,this.nodes.forEach(IN)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||vF,{onLayoutAnimationStart:N,onLayoutAnimationComplete:T}=h.getProps(),_=!this.targetLayout||!HT(this.targetLayout,b),A=!g&&y;if(this.options.layoutRoot||this.resumeFrom||A||g&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...wx(C,"layout"),onPlay:N,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,A)}else g||IN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(PN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fF),this.nodes.forEach(aF),this.nodes.forEach(lF)):this.nodes.forEach(PN),this.clearAllSnapshots();const c=Mr.now();rr.delta=Xo(0,1e3/60,c-rr.timestamp),rr.timestamp=c,rr.isProcessing=!0,Vg.update.process(rr),Vg.preRender.process(rr),Vg.render.process(rr),rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Nx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dF),this.sharedNodes.forEach(gF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,on.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){on.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yr(this.snapshot.measuredBox.x)&&!yr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!$T(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||ka(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return l&&(f=this.removeTransform(f)),bF(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return kn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(wF))){const{scroll:h}=this.root;h&&(Gl(c.x,h.offset.x),Gl(c.y,h.offset.y))}return c}removeElementScroll(l){const c=kn();if(vi(c,l),this.scroll?.wasRoot)return c;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&vi(c,l),Gl(c.x,m.offset.x),Gl(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const f=kn();vi(f,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Kl(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ka(m.latestValues)&&Kl(f,m.latestValues)}return ka(this.latestValues)&&Kl(f,this.latestValues),f}removeTransform(l){const c=kn();vi(c,l);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!ka(h.latestValues))continue;n0(h.latestValues)&&h.updateSnapshot();const m=kn(),g=h.measurePageBox();vi(m,g),jN(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return ka(this.latestValues)&&jN(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=rr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),Xc(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kn(),this.targetWithTransforms=kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vi(this.target,this.layout.layoutBox),NT(this.target,this.targetDelta)):vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),Xc(this.relativeTargetOrigin,this.target,y.target),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||n0(this.parent.latestValues)||ST(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===rr.timestamp&&(f=!1),f)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;vi(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;F6(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=kn());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CN(this.prevProjectionDelta.x,this.projectionDelta.x),CN(this.prevProjectionDelta.y,this.projectionDelta.y)),Kc(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!zN(this.projectionDelta.x,this.prevProjectionDelta.x)||!zN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xl(),this.projectionDelta=Xl(),this.projectionDeltaWithTransform=Xl()}setAnimationOrigin(l,c=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},g=Xl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=kn(),b=f?f.source:void 0,C=this.layout?this.layout.source:void 0,N=b!==C,T=this.getStack(),_=!T||T.members.length<=1,A=!!(N&&!_&&this.options.crossfade===!0&&!this.path.some(xF));this.animationProgress=0;let k;this.mixTargetDelta=O=>{const R=O/1e3;LN(g.x,l.x,R),LN(g.y,l.y,R),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xc(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yF(this.relativeTarget,this.relativeTargetOrigin,y,R),k&&nF(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=kn()),vi(k,this.relativeTarget)),N&&(this.animationValues=m,XL(m,h,this.latestValues,R,A,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=on.update(()=>{Mh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fu(0)),this.currentAnimation=qL(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:f,layout:h,latestValues:m}=l;if(!(!c||!f||!h)){if(this!==l&&this.layout&&h&&ZT(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||kn();const g=yr(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+g;const y=yr(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+y}vi(c,f),Kl(c,m),Kc(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new rF),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const h={};f.z&&Qg("z",l,h,this.animationValues);for(let m=0;m<Jg.length;m++)Qg(`rotate${Jg[m]}`,l,h,this.animationValues),Qg(`skew${Jg[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Ah(c?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Ah(c?.pointerEvents)||""),this.hasProjected&&!ka(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=iF(this.projectionDeltaWithTransform,this.treeScale,m);f&&(g=f(m,g)),l.transform=g;const{x:y,y:b}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in gd){if(m[C]===void 0)continue;const{correct:N,applyTo:T,isCSSVariable:_}=gd[C],A=g==="none"?m[C]:N(m[C],h);if(T){const k=T.length;for(let O=0;O<k;O++)l[T[O]]=A}else _?this.options.visualElement.renderState.vars[C]=A:l[C]=A}this.options.layoutId&&(l.pointerEvents=h===this?Ah(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(RN),this.root.sharedNodes.clear()}}}function aF(e){e.updateLayout()}function lF(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?bi(m=>{const g=a?t.measuredBox[m]:t.layoutBox[m],y=yr(g);g.min=n[m].min,g.max=g.min+y}):ZT(s,t.layoutBox,n)&&bi(m=>{const g=a?t.measuredBox[m]:t.layoutBox[m],y=yr(n[m]);g.max=g.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+y)});const l=Xl();Kc(l,n,t.layoutBox);const c=Xl();a?Kc(c,e.applyTransform(r,!0),t.measuredBox):Kc(c,n,t.layoutBox);const f=!$T(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=kn();Xc(b,t.layoutBox,g.layoutBox);const C=kn();Xc(C,n,y.layoutBox),HT(b,C)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function uF(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dF(e){e.clearSnapshot()}function RN(e){e.clearMeasurements()}function PN(e){e.isLayoutDirty=!1}function fF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function IN(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hF(e){e.resolveTargetDelta()}function pF(e){e.calcProjection()}function mF(e){e.resetSkewAndRotation()}function gF(e){e.removeLeadSnapshot()}function LN(e,t,n){e.translate=fn(t.translate,0,n),e.scale=fn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function FN(e,t,n,r){e.min=fn(t.min,n.min,r),e.max=fn(t.max,n.max,r)}function yF(e,t,n,r){FN(e.x,t.x,n.x,r),FN(e.y,t.y,n.y,r)}function xF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vF={duration:.45,ease:[.4,0,.1,1]},BN=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),VN=BN("applewebkit/")&&!BN("chrome/")?Math.round:_i;function $N(e){e.min=VN(e.min),e.max=VN(e.max)}function bF(e){$N(e.x),$N(e.y)}function ZT(e,t,n){return e==="position"||e==="preserve-aspect"&&!CL(DN(t),DN(n),.2)}function wF(e){return e!==e.root&&e.scroll?.wasRoot}const SF=qT({attachResizeListener:(e,t)=>yd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ey={current:void 0},YT=qT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ey.current){const e=new SF({});e.mount(window),e.setOptions({layoutScroll:!0}),ey.current=e}return ey.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NF={pan:{Feature:VL},drag:{Feature:BL,ProjectionNode:YT,MeasureLayout:FT}};function HN(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&on.postRender(()=>a(t,Ad(t)))}class _F extends Gs{mount(){const{current:t}=this.node;t&&(this.unmount=qI(t,(n,r)=>(HN(this.node,r,"Start"),s=>HN(this.node,s,"End"))))}unmount(){}}class EF extends Gs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Td(yd(this.node.current,"focus",()=>this.onFocus()),yd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UN(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&on.postRender(()=>a(t,Ad(t)))}class CF extends Gs{mount(){const{current:t}=this.node;t&&(this.unmount=KI(t,(n,r)=>(UN(this.node,r,"Start"),(s,{success:a})=>UN(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const u0=new WeakMap,ty=new WeakMap,TF=e=>{const t=u0.get(e.target);t&&t(e)},kF=e=>{e.forEach(TF)};function jF({root:e,...t}){const n=e||document;ty.has(n)||ty.set(n,{});const r=ty.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(kF,{root:e,...t})),r[s]}function AF(e,t,n){const r=jF(t);return u0.set(e,n),r.observe(e),()=>{u0.delete(e),r.unobserve(e)}}const MF={some:0,all:1};class OF extends Gs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:MF[s]},c=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=h?m:g;y&&y(f)};return AF(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(DF(t,n))&&this.startObserver()}unmount(){}}function DF({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const zF={inView:{Feature:OF},tap:{Feature:CF},focus:{Feature:EF},hover:{Feature:_F}},RF={layout:{ProjectionNode:YT,MeasureLayout:FT}},PF={...bL,...zF,...NF,...RF},Or=P6(PF,K6),Rx=({tool:e,enabled:t,executing:n=!1,onToggle:r,onConfigure:s,compact:a=!1})=>{const l={ready:"bg-green-500",executing:"bg-amber-500 animate-pulse",disabled:"bg-gray-300",error:"bg-red-500",needsConfig:"bg-yellow-500"}[n?"executing":e.status];return p.jsxs(Or.div,{layout:!0,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1,borderColor:t?"rgb(20 184 166)":"rgb(209 213 219)",backgroundColor:t?"rgb(240 253 250)":"rgb(255 255 255)"},exit:{scale:0,opacity:0},whileHover:{scale:1.05},whileTap:{scale:.98},className:`
        relative border-2 rounded-lg p-2 cursor-pointer transition-all
        ${t?"border-teal-500 bg-teal-50":"border-gray-300 bg-white"}
      `,onClick:r,children:[p.jsx("div",{className:"absolute top-1 right-1",children:p.jsx("div",{className:`w-2 h-2 rounded-full ${l}`})}),p.jsxs("div",{className:"flex flex-col items-center gap-1",children:[p.jsx("span",{className:"text-2xl","aria-hidden":"true",children:e.icon}),p.jsx("span",{className:"text-xs font-medium text-gray-700 text-center truncate w-full",children:e.displayName})]}),!a&&e.requiresConfig&&s&&p.jsx("button",{onClick:c=>{c.stopPropagation(),s()},className:"mt-2 w-full text-xs px-2 py-1 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded transition-colors",children:" Configure"}),n&&p.jsx(Or.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-amber-500/10 rounded-lg flex items-center justify-center",children:p.jsx("div",{className:"text-xs font-semibold text-amber-700",children:"Running..."})})]})},Md=({availableTools:e,selectedToolIds:t,maxTools:n=10,onToggle:r,onConfigure:s,onClose:a})=>{const[l,c]=U.useState(""),[f,h]=U.useState(null),m=U.useMemo(()=>e.filter(y=>{const b=y.displayName.toLowerCase().includes(l.toLowerCase())||y.description.toLowerCase().includes(l.toLowerCase()),C=!f||y.category===f;return b&&C}),[e,l,f]),g=U.useMemo(()=>Array.from(new Set(e.map(y=>y.category))),[e]);return p.jsx(Or.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:a,children:p.jsxs(Or.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",onClick:y=>y.stopPropagation(),children:[p.jsxs("div",{className:"bg-teal-500 text-white p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h2",{className:"text-xl font-bold",children:"Select Tools"}),p.jsx("button",{onClick:a,className:"text-white hover:bg-teal-600 rounded p-1 transition-colors","aria-label":"Close tool selector",children:""})]}),p.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"Search tools...",className:"w-full px-3 py-2 rounded text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-teal-300"})]}),p.jsx("div",{className:"border-b border-gray-200 p-3 bg-gray-50",children:p.jsxs("div",{className:"flex gap-2 overflow-x-auto",children:[p.jsx("button",{onClick:()=>h(null),className:`px-3 py-1 rounded text-sm whitespace-nowrap transition-colors ${f?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-teal-500 text-white"}`,children:"All"}),g.map(y=>p.jsx("button",{onClick:()=>h(y),className:`px-3 py-1 rounded text-sm whitespace-nowrap transition-colors ${f===y?"bg-teal-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:y},y))]})}),p.jsxs("div",{className:"p-4 overflow-y-auto max-h-[50vh]",children:[p.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[t.length," / ",n," tools selected"]}),p.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.jsx(Wr,{children:m.map(y=>p.jsx(Rx,{tool:y,enabled:t.includes(y.id),onToggle:()=>r(y.id),onConfigure:()=>s(y.id)},y.id))})}),m.length===0&&p.jsxs("div",{className:"text-center text-gray-500 py-8",children:['No tools found matching "',l,'"']})]}),p.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:p.jsx("button",{onClick:a,className:"w-full px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded transition-colors font-medium",children:"Done"})})]})})},IF={web_search:{fields:[{key:"apiKey",label:"API Key",type:"password",placeholder:"Enter your search API key",required:!0,description:"Required for web search functionality"},{key:"maxResults",label:"Max Results",type:"number",placeholder:"10",required:!1,description:"Maximum number of search results (default: 10)"}]},database_query:{fields:[{key:"connectionString",label:"Connection String",type:"text",placeholder:"postgresql://user:pass@host:port/db",required:!0,description:"Database connection string"},{key:"maxRows",label:"Max Rows",type:"number",placeholder:"100",required:!1,description:"Maximum rows to return (default: 100)"}]},email_sender:{fields:[{key:"smtpHost",label:"SMTP Host",type:"text",placeholder:"smtp.gmail.com",required:!0,description:"SMTP server hostname"},{key:"smtpPort",label:"SMTP Port",type:"number",placeholder:"587",required:!0,description:"SMTP server port (usually 587 or 465)"},{key:"username",label:"Username",type:"text",placeholder:"your-email@example.com",required:!0,description:"SMTP username/email"},{key:"password",label:"Password",type:"password",placeholder:"App password or account password",required:!0,description:"SMTP password (use app-specific password for Gmail)"}]}};function Px({tool:e,existingConfig:t,onSave:n,onClose:r}){const s=IF[e.id],[a,l]=U.useState(t||{});if(!s)return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full",children:[p.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[e.icon," ",e.displayName]}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This tool does not require configuration."}),p.jsx("div",{className:"flex justify-end gap-2",children:p.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded transition-colors",children:"Close"})})]})});const c=()=>{const f=s.fields.filter(h=>h.required&&!a[h.key]).map(h=>h.label);if(f.length>0){alert(`Please fill in required fields: ${f.join(", ")}`);return}n(a)};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:e.icon}),p.jsxs("span",{children:["Configure ",e.displayName]})]}),p.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl leading-none",title:"Close",children:""})]}),p.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e.description}),p.jsx("div",{className:"space-y-4",children:s.fields.map(f=>p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[f.label,f.required&&p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),f.description&&p.jsx("p",{className:"text-xs text-gray-500 mb-1",children:f.description}),p.jsx("input",{type:f.type,value:a[f.key]||"",onChange:h=>{const m=f.type==="number"?parseInt(h.target.value)||"":h.target.value;l({...a,[f.key]:m})},placeholder:f.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},f.key))}),p.jsx("div",{className:"mt-6 p-3 bg-blue-50 border border-blue-200 rounded-md",children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-blue-600 text-lg",children:""}),p.jsxs("div",{className:"text-xs text-blue-800",children:[p.jsx("p",{className:"font-semibold mb-1",children:"Security Note"}),p.jsx("p",{children:"Configuration values are stored in the node data. For production use, consider using environment variables or a secure credential store."})]})]})}),p.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[p.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded transition-colors",children:"Cancel"}),p.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Save Configuration"})]})]})})}const xr=[{id:"web_search",name:"web_search",displayName:"Web Search",icon:"",description:"Search the internet for current information",category:"search",requiresConfig:!0,status:"needsConfig"},{id:"calculator",name:"calculator",displayName:"Calculator",icon:"",description:"Perform mathematical calculations",category:"compute",requiresConfig:!1,status:"ready"},{id:"code_interpreter",name:"code_interpreter",displayName:"Code Interpreter",icon:"",description:"Execute Python code in a sandboxed environment",category:"compute",requiresConfig:!1,status:"ready"},{id:"file_read",name:"file_read",displayName:"File Read",icon:"",description:"Read file contents from filesystem",category:"data",requiresConfig:!1,status:"ready"},{id:"file_write",name:"file_write",displayName:"File Write",icon:"",description:"Write data to filesystem",category:"data",requiresConfig:!1,status:"ready"},{id:"database_query",name:"database_query",displayName:"Database Query",icon:"",description:"Query databases using SQL",category:"data",requiresConfig:!0,status:"needsConfig"},{id:"http_request",name:"http_request",displayName:"HTTP Request",icon:"",description:"Make HTTP GET/POST requests",category:"integration",requiresConfig:!1,status:"ready"},{id:"email_sender",name:"email_sender",displayName:"Email Sender",icon:"",description:"Send emails via SMTP",category:"integration",requiresConfig:!0,status:"needsConfig"}],GT=["file_read","database_query"],KT=U.memo(({id:e,data:t,selected:n})=>{const r=t,s=Ht(N=>N.updateNodeData),a=U.useRef(r.outputFormat),[l,c]=U.useState(!1),[f,h]=U.useState(!1),[m,g]=U.useState(null),y=(N,T)=>{s(e,{[N]:T})},b=N=>{const _=(r.enabledTools||[]).includes(N)?(r.enabledTools||[]).filter(A=>A!==N):[...r.enabledTools||[],N];s(e,{enabledTools:_})},C=async()=>{let N="";if(r.outputFormat==="json"&&r.jsonSchema?N=Q0(r.jsonSchema):r.outputFormat==="csv"&&r.csvFields&&(N=ex(r.csvFields)),N)try{await navigator.clipboard.writeText(N),c(!0),setTimeout(()=>c(!1),2e3)}catch(T){console.error("Failed to copy markdown:",T)}};return U.useEffect(()=>{const N=a.current,T=r.outputFormat;if(N===void 0){a.current=T;return}if(N===T||(console.log(" Output format changed:",N,"",T),console.log(" Current data:",{csvFields:r.csvFields,jsonSchema:r.jsonSchema?.substring(0,100)}),a.current=T,N==="text"||T==="text"||!N||!T))return;const _=r.jsonSchema&&r.jsonSchema.trim()!=="",A=r.csvFields&&r.csvFields.trim()!=="";if(N==="csv"&&T==="json"&&(console.log(" CSV  JSON conversion check. hasCsvFields:",A,"csvFields:",r.csvFields),A)){const k=W0(r.csvFields);k&&(console.log(" Converting CSV to JSON:",r.csvFields,"",k.substring(0,100)),s(e,{jsonSchema:k}))}if(N==="json"&&T==="csv"&&(console.log(" JSON  CSV conversion check. hasJsonSchema:",_),_)){const k=J0(r.jsonSchema);k&&(console.log(" Converting JSON to CSV:",k),s(e,{csvFields:k}))}},[r.outputFormat,r.csvFields,r.jsonSchema,e,s]),p.jsxs(p.Fragment,{children:[p.jsx(uo,{minWidth:400,minHeight:300,isVisible:n}),p.jsxs("div",{className:`bg-white rounded-lg shadow-lg border-2 border-blue-500 p-4 ${r.bypassed?"opacity-60 ring-2 ring-gray-400":""}`,children:[p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsx("input",{type:"text",value:r.title||"OpenAI Node",onChange:N=>y("title",N.target.value),className:"font-semibold text-lg flex-1 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1",placeholder:"Node Title"}),p.jsx("button",{onClick:()=>y("bypassed",!r.bypassed),className:`px-2 py-1 text-xs rounded transition-colors ${r.bypassed?"bg-gray-400 text-white":"bg-green-500 text-white hover:bg-green-600"}`,title:r.bypassed?"Node is bypassed - click to activate":"Node is active - click to bypass",children:r.bypassed?" Bypassed":" Active"}),p.jsx("button",{onClick:()=>{y("toolsEnabled",!r.toolsEnabled),r.toolsEnabled&&y("agentMode",!1)},className:`text-xs px-2 py-1 rounded transition-colors ${r.toolsEnabled?"bg-teal-100 text-teal-700 hover:bg-teal-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:r.toolsEnabled?"Disable tools":"Enable tools",children:r.toolsEnabled?" Tools ON":" Add Tools"}),p.jsx("button",{onClick:()=>y("compactMode",!r.compactMode),className:"text-xs px-2 py-1 bg-blue-50 hover:bg-blue-100 rounded transition-colors",title:r.compactMode?"Show all settings":"Compact view",children:r.compactMode?" Expand":" Compact"})]}),p.jsxs("div",{className:"text-xs text-gray-500 ml-10",children:["ID: ",e]})]}),r.toolsEnabled&&p.jsxs("div",{className:"mb-3 p-2 bg-teal-50 rounded border border-teal-200",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("span",{className:"text-xs font-semibold text-teal-800",children:" Available Tools:"}),p.jsx("button",{onClick:()=>h(!0),className:"text-xs px-2 py-1 bg-white hover:bg-teal-100 rounded border border-teal-300 transition-colors",children:"+ Select Tools"})]}),r.enabledTools&&r.enabledTools.length>0?p.jsx("div",{className:"flex flex-wrap gap-1",children:r.enabledTools.map(N=>p.jsx("span",{className:"px-2 py-0.5 bg-white rounded text-xs font-mono text-teal-700 border border-teal-200",children:N},N))}):p.jsx("div",{className:"text-xs text-gray-500 italic",children:"No tools selected"})]}),r.compactMode?p.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium",children:"Model:"}),p.jsx("span",{children:r.model})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium",children:"Config:"}),p.jsxs("span",{children:["Temp ",r.temperature,"  ",r.maxTokens," tokens"]})]}),p.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Click  Expand to edit settings"})]}):p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Model"}),p.jsxs("select",{value:r.model||"gpt-4o",onChange:N=>y("model",N.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",children:[p.jsxs("optgroup",{label:"GPT-5 Series (Latest)",children:[p.jsx("option",{value:"gpt-5",children:"GPT-5"}),p.jsx("option",{value:"gpt-5-mini",children:"GPT-5 Mini"}),p.jsx("option",{value:"gpt-5-nano",children:"GPT-5 Nano"})]}),p.jsxs("optgroup",{label:"GPT-4.1 Series",children:[p.jsx("option",{value:"gpt-4.1",children:"GPT-4.1"}),p.jsx("option",{value:"gpt-4.1-mini",children:"GPT-4.1 Mini"}),p.jsx("option",{value:"gpt-4.1-nano",children:"GPT-4.1 Nano"})]}),p.jsxs("optgroup",{label:"GPT-4o Series",children:[p.jsx("option",{value:"gpt-4o",children:"GPT-4o"}),p.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o Mini"}),p.jsx("option",{value:"gpt-4o-audio",children:"GPT-4o Audio"})]}),p.jsxs("optgroup",{label:"Reasoning Models",children:[p.jsx("option",{value:"o3",children:"o3 (Reasoning)"}),p.jsx("option",{value:"o3-mini",children:"o3 Mini (Reasoning)"}),p.jsx("option",{value:"o4-mini",children:"o4 Mini"})]}),p.jsxs("optgroup",{label:"Legacy Models",children:[p.jsx("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),p.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Temperature"}),p.jsx("input",{type:"number",value:r.temperature||.7,onChange:N=>y("temperature",parseFloat(N.target.value)),min:"0",max:"2",step:"0.1",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Max Tokens"}),p.jsx("input",{type:"number",value:r.maxTokens||1e3,onChange:N=>y("maxTokens",parseInt(N.target.value)),min:"1",max:"4000",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"})]}),p.jsx(du,{label:"System Prompt",value:r.systemPrompt||"",onChange:N=>y("systemPrompt",N),placeholder:"You are a helpful assistant...",minHeight:"60px"}),p.jsx(du,{label:"User Prompt",value:r.userPrompt||"",onChange:N=>y("userPrompt",N),placeholder:`{{input}}

Analyze this nodeData...`,minHeight:"100px"}),X0(r.model)&&p.jsxs("div",{className:"border border-blue-200 rounded p-3 bg-blue-50/50",children:[p.jsxs("div",{className:"text-xs font-semibold text-blue-800 mb-2 flex items-center gap-1",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Structured Output"}),p.jsx("span",{className:"text-blue-600 font-normal",children:"(optional)"})]}),p.jsxs("div",{className:"mb-2",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Output Format"}),p.jsxs("select",{value:r.outputFormat||"text",onChange:N=>y("outputFormat",N.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",children:[p.jsx("option",{value:"text",children:"Text (default)"}),p.jsx("option",{value:"json",children:"JSON (structured)"}),p.jsx("option",{value:"csv",children:"CSV (converted from JSON)"})]})]}),r.outputFormat==="json"&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"JSON Schema (optional - for strict validation)"}),r.jsonSchema&&r.jsonSchema.trim()&&p.jsx("button",{onClick:C,className:"text-xs px-2 py-0.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors flex items-center gap-1",title:"Copy markdown structure for prompt",children:l?" Copied!":" Copy Structure"})]}),p.jsx("textarea",{value:r.jsonSchema||"",onChange:N=>y("jsonSchema",N.target.value),className:"w-full text-xs font-mono border border-gray-300 rounded px-2 py-1 resize-y min-h-[60px]",placeholder:`{
  "type": "object",
  "properties": {
    "summary": {"type": "string"},
    "score": {"type": "number"}
  }
}`}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for flexible JSON output"})]}),r.outputFormat==="csv"&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"CSV Fields (comma-separated)"}),r.csvFields&&r.csvFields.trim()&&p.jsx("button",{onClick:C,className:"text-xs px-2 py-0.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors flex items-center gap-1",title:"Copy markdown structure for prompt",children:l?" Copied!":" Copy Structure"})]}),p.jsx("input",{type:"text",value:r.csvFields||"",onChange:N=>y("csvFields",N.target.value),className:"w-full text-sm font-mono border border-gray-300 rounded px-2 py-1",placeholder:"name, email, score, category"}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Output will be converted from JSON to CSV format"})]})]}),p.jsxs("div",{className:"mt-3 p-2 bg-blue-50 rounded text-xs text-gray-600",children:[p.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[p.jsx("span",{className:"font-semibold",children:" Output:"}),p.jsx("span",{children:"Reference using"}),p.jsx("span",{className:"font-mono text-blue-700",children:"{{"}),p.jsx("input",{type:"text",value:r.outputVariable||e,onChange:N=>y("outputVariable",N.target.value),className:"bg-white px-1 py-0.5 rounded font-mono text-blue-700 border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400 hover:border-blue-300 transition-colors min-w-[4ch]",placeholder:e,title:"Click to edit output variable name",style:{width:`${Math.max(4,(r.outputVariable||e).length)}ch`}}),p.jsx("span",{className:"font-mono text-blue-700",children:"}}"})]}),r.outputFormat==="json"&&p.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-blue-300",children:[p.jsx("div",{className:"text-blue-700 font-semibold mb-1",children:"Individual fields available as:"}),p.jsxs("div",{className:"font-mono text-xs text-blue-600 space-y-0.5",children:[p.jsx("div",{children:`{{${r.outputVariable||e}.fieldName}}`}),p.jsxs("div",{className:"text-gray-500 italic",children:["Example: ",`{{${r.outputVariable||e}.name}}`,", ",`{{${r.outputVariable||e}.score}}`]})]})]})]}),r.toolsEnabled&&p.jsxs("div",{className:"border border-purple-200 rounded p-3 bg-purple-50/50 space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:r.agentMode||!1,onChange:N=>y("agentMode",N.target.checked),className:"w-4 h-4",id:`${e}-agent-mode`}),p.jsx("label",{htmlFor:`${e}-agent-mode`,className:"text-xs font-semibold text-purple-800",children:" Agent Mode (multi-step reasoning)"})]}),r.agentMode&&p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Max Steps"}),p.jsx("input",{type:"number",value:r.maxSteps||5,onChange:N=>y("maxSteps",parseInt(N.target.value)),min:"1",max:"20",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"}),p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Agent will perform up to ",r.maxSteps||5," reasoning steps"]})]})]})]})]}),p.jsx(tn,{type:"target",position:Ze.Top,className:"!w-4 !h-4 !bg-blue-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),p.jsx(tn,{type:"source",position:Ze.Bottom,className:"!w-4 !h-4 !bg-blue-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),f&&p.jsx(Md,{availableTools:xr,selectedToolIds:r.enabledTools||[],onToggle:b,onConfigure:N=>{h(!1),g(N)},onClose:()=>h(!1)}),m&&p.jsx(Px,{tool:xr.find(N=>N.id===m),existingConfig:r.toolConfigs?.[m],onSave:N=>{const T={...r.toolConfigs||{},[m]:N};s(e,{toolConfigs:T}),g(null)},onClose:()=>g(null)})]})});KT.displayName="OpenAINode";const LF={anthropic:{id:"anthropic",name:"Anthropic",icon:"",color:"purple",defaultModel:"claude-sonnet-4-5-20250929",models:[{id:"claude-sonnet-4-5-20250929",name:"Claude 4.5 Sonnet",tier:"flagship",description:"Most intelligent model, balanced performance",contextWindow:2e5,maxOutput:8192,pricing:{input:3,output:15},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0,extendedThinking:!0}},{id:"claude-haiku-4-5-20251001",name:"Claude 4.5 Haiku",tier:"fast",description:"Fastest responses, lower cost",contextWindow:2e5,maxOutput:8192,pricing:{input:.8,output:4},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"claude-opus-4-20250514",name:"Claude Opus 4",tier:"premium",description:"Highest intelligence for complex tasks",contextWindow:2e5,maxOutput:8192,pricing:{input:15,output:75},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"claude-opus-4-1-20250710",name:"Claude Opus 4.1",tier:"premium",description:"Enhanced Opus model",contextWindow:2e5,maxOutput:8192,pricing:{input:15,output:75},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"claude-sonnet-4-20250514",name:"Claude Sonnet 4",tier:"flagship",description:"Previous generation Sonnet",contextWindow:2e5,maxOutput:8192,pricing:{input:3,output:15},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"claude-sonnet-3-7-20250219",name:"Claude 3.7 Sonnet",tier:"legacy",description:"Claude 3.7 series",contextWindow:2e5,maxOutput:8192,pricing:{input:3,output:15},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"claude-sonnet-3-5-20241022",name:"Claude 3.5 Sonnet",tier:"legacy",description:"Previous generation 3.5",contextWindow:2e5,maxOutput:8192,pricing:{input:3,output:15},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"claude-sonnet-3-5-20240620",name:"Claude 3.5 Sonnet (Legacy)",tier:"legacy",description:"Original 3.5 release",contextWindow:2e5,maxOutput:4096,pricing:{input:3,output:15},capabilities:{vision:!0,tools:!0,streaming:!0,json:!1}},{id:"claude-3-opus-20240229",name:"Claude 3 Opus",tier:"legacy",description:"Claude 3 series high-intelligence",contextWindow:2e5,maxOutput:4096,pricing:{input:15,output:75},capabilities:{vision:!0,tools:!0,streaming:!0,json:!1}},{id:"claude-3-haiku-20240307",name:"Claude 3 Haiku",tier:"legacy",description:"Claude 3 series fast model",contextWindow:2e5,maxOutput:4096,pricing:{input:.25,output:1.25},capabilities:{vision:!0,tools:!0,streaming:!0,json:!1}}]},openai:{id:"openai",name:"OpenAI",icon:"",color:"blue",defaultModel:"gpt-4o",models:[{id:"gpt-4o",name:"GPT-4o",tier:"flagship",description:"Multimodal flagship model",contextWindow:128e3,maxOutput:16384,pricing:{input:2.5,output:10},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"gpt-4o-mini",name:"GPT-4o Mini",tier:"fast",description:"Affordable and fast",contextWindow:128e3,maxOutput:16384,pricing:{input:.15,output:.6},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"o1",name:"o1",tier:"premium",description:"Advanced reasoning model",contextWindow:2e5,maxOutput:1e5,pricing:{input:15,output:60},capabilities:{tools:!1,streaming:!1,json:!0}},{id:"o1-mini",name:"o1 Mini",tier:"premium",description:"Faster reasoning model",contextWindow:128e3,maxOutput:65536,pricing:{input:3,output:12},capabilities:{tools:!1,streaming:!1,json:!0}},{id:"gpt-4-turbo",name:"GPT-4 Turbo",tier:"legacy",description:"Previous generation flagship",contextWindow:128e3,maxOutput:4096,pricing:{input:10,output:30},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",tier:"legacy",description:"Fast and affordable legacy model",contextWindow:16385,maxOutput:4096,pricing:{input:.5,output:1.5},capabilities:{tools:!0,streaming:!0,json:!0}}]},gemini:{id:"gemini",name:"Google Gemini",icon:"",color:"green",defaultModel:"gemini-2.0-flash-exp",models:[{id:"gemini-2.0-flash-exp",name:"Gemini 2.0 Flash",tier:"flagship",description:"Fast multimodal model",contextWindow:1e6,maxOutput:8192,pricing:{input:0,output:0},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"gemini-exp-1206",name:"Gemini Exp 1206",tier:"experimental",description:"Experimental features",contextWindow:2e6,maxOutput:8192,pricing:{input:0,output:0},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",tier:"flagship",description:"Most capable Gemini model",contextWindow:2e6,maxOutput:8192,pricing:{input:1.25,output:5},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",tier:"fast",description:"Fast and efficient",contextWindow:1e6,maxOutput:8192,pricing:{input:.075,output:.3},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",tier:"legacy",description:"Previous generation Pro",contextWindow:2e6,maxOutput:8192,pricing:{input:1.25,output:5},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash",tier:"legacy",description:"Previous generation Flash",contextWindow:1e6,maxOutput:8192,pricing:{input:.075,output:.3},capabilities:{vision:!0,tools:!0,streaming:!0,json:!0}}]}};function FF(e,t){return LF[e]?.models.find(n=>n.id===t)}function BF(e,t){return FF(e,t)?.capabilities?.tools||!1}const XT=U.memo(({id:e,data:t,selected:n})=>{const r=t,s=Ht(T=>T.updateNodeData),a=U.useRef(r.outputFormat),[l,c]=U.useState(!1),[f,h]=U.useState(!1),[m,g]=U.useState(null),y=(T,_)=>{s(e,{[T]:_})},b=()=>{const T=!r.toolsEnabled;s(e,{toolsEnabled:T,enabledTools:T?r.enabledTools||[]:void 0,agentMode:T?r.agentMode||!1:void 0})},C=T=>{const A=(r.enabledTools||[]).includes(T)?(r.enabledTools||[]).filter(k=>k!==T):[...r.enabledTools||[],T];s(e,{enabledTools:A})},N=async()=>{let T="";if(r.outputFormat==="json"&&r.jsonSchema?T=Q0(r.jsonSchema):r.outputFormat==="csv"&&r.csvFields&&(T=ex(r.csvFields)),T)try{await navigator.clipboard.writeText(T),c(!0),setTimeout(()=>c(!1),2e3)}catch(_){console.error("Failed to copy markdown:",_)}};return U.useEffect(()=>{const T=a.current,_=r.outputFormat;if(T===void 0){a.current=_;return}if(T===_||(console.log(" Output format changed:",T,"",_),console.log(" Current data:",{csvFields:r.csvFields,jsonSchema:r.jsonSchema?.substring(0,100)}),a.current=_,T==="text"||_==="text"||!T||!_))return;const A=r.jsonSchema&&r.jsonSchema.trim()!=="",k=r.csvFields&&r.csvFields.trim()!=="";if(T==="csv"&&_==="json"&&(console.log(" CSV  JSON conversion check. hasCsvFields:",k,"csvFields:",r.csvFields),k)){const O=W0(r.csvFields);O&&(console.log(" Converting CSV to JSON:",r.csvFields,"",O.substring(0,100)),s(e,{jsonSchema:O}))}if(T==="json"&&_==="csv"&&(console.log(" JSON  CSV conversion check. hasJsonSchema:",A),A)){const O=J0(r.jsonSchema);O&&(console.log(" Converting JSON to CSV:",O),s(e,{csvFields:O}))}},[r.outputFormat,r.csvFields,r.jsonSchema,e,s]),p.jsxs(p.Fragment,{children:[p.jsx(uo,{minWidth:400,minHeight:350,isVisible:n}),p.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-2 border-purple-500 p-4",children:[p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsx("input",{type:"text",value:r.title||"Anthropic Node",onChange:T=>y("title",T.target.value),className:"font-semibold text-lg flex-1 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-purple-300 rounded px-1",placeholder:"Node Title"}),BF("anthropic",r.model)&&p.jsx("button",{onClick:b,className:`text-xs px-2 py-1 rounded transition-colors ${r.toolsEnabled?"bg-teal-100 text-teal-700 hover:bg-teal-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"Enable tools",children:r.toolsEnabled?" Tools ON":" Add Tools"}),p.jsx("button",{onClick:()=>y("compactMode",!r.compactMode),className:"text-xs px-2 py-1 bg-purple-50 hover:bg-purple-100 rounded transition-colors",title:r.compactMode?"Show all settings":"Compact view",children:r.compactMode?" Expand":" Compact"})]}),p.jsxs("div",{className:"text-xs text-gray-500 ml-10",children:["ID: ",e]})]}),r.toolsEnabled&&p.jsxs("div",{className:"mb-3 p-2 bg-teal-50 rounded border border-teal-200",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("span",{className:"text-xs font-semibold text-teal-800",children:["Tools (",r.enabledTools?.length||0,")"]}),p.jsx("button",{onClick:()=>h(!0),className:"text-xs px-2 py-1 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded",children:"Select Tools"})]}),r.enabledTools&&r.enabledTools.length>0&&p.jsx("div",{className:"flex flex-wrap gap-1",children:r.enabledTools.map(T=>{const _=xr.find(A=>A.id===T);return p.jsxs("span",{className:"px-2 py-0.5 bg-white text-teal-700 text-xs rounded border border-teal-300 flex items-center gap-1",children:[p.jsx("span",{children:_?.icon||""}),p.jsx("span",{children:_?.displayName||T})]},T)})})]}),r.compactMode?p.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium",children:"Model:"}),p.jsx("span",{children:r.model})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium",children:"Config:"}),p.jsxs("span",{children:["Temp ",r.temperature,"  ",r.maxTokens," tokens"]})]}),r.extendedThinking&&p.jsx("div",{className:"flex flex-wrap gap-1",children:p.jsxs("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full",children:[" Extended Thinking (",r.thinkingBudget," tokens)"]})}),p.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Click  Expand to edit settings"})]}):p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Model"}),p.jsxs("select",{value:r.model||"claude-sonnet-4-5-20250929",onChange:T=>y("model",T.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",children:[p.jsxs("optgroup",{label:"Claude 4.5 Series (Latest)",children:[p.jsx("option",{value:"claude-sonnet-4-5-20250929",children:"Claude 4.5 Sonnet"}),p.jsx("option",{value:"claude-haiku-4-5-20251001",children:"Claude 4.5 Haiku"})]}),p.jsxs("optgroup",{label:"Claude 4 Series",children:[p.jsx("option",{value:"claude-opus-4-1-20250710",children:"Claude Opus 4.1"}),p.jsx("option",{value:"claude-opus-4-20250514",children:"Claude Opus 4"}),p.jsx("option",{value:"claude-sonnet-4-20250514",children:"Claude Sonnet 4"})]}),p.jsx("optgroup",{label:"Claude 3.7 Series",children:p.jsx("option",{value:"claude-sonnet-3-7-20250219",children:"Claude 3.7 Sonnet"})}),p.jsxs("optgroup",{label:"Claude 3.5 Series",children:[p.jsx("option",{value:"claude-sonnet-3-5-20241022",children:"Claude 3.5 Sonnet"}),p.jsx("option",{value:"claude-sonnet-3-5-20240620",children:"Claude 3.5 Sonnet (Legacy)"})]}),p.jsxs("optgroup",{label:"Claude 3 Series (Legacy)",children:[p.jsx("option",{value:"claude-3-opus-20240229",children:"Claude 3 Opus"}),p.jsx("option",{value:"claude-3-haiku-20240307",children:"Claude 3 Haiku"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Temperature"}),p.jsx("input",{type:"number",value:r.temperature||1,onChange:T=>y("temperature",parseFloat(T.target.value)),min:"0",max:"2",step:"0.1",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Max Tokens"}),p.jsx("input",{type:"number",value:r.maxTokens||4e3,onChange:T=>y("maxTokens",parseInt(T.target.value)),min:"1",max:"8000",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Thinking Budget"}),p.jsx("input",{type:"number",value:r.thinkingBudget||1e4,onChange:T=>y("thinkingBudget",parseInt(T.target.value)),min:"1000",max:"100000",step:"1000",className:"w-full text-sm border border-gray-300 rounded px-2 py-1",disabled:!r.extendedThinking})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:r.extendedThinking||!1,onChange:T=>y("extendedThinking",T.target.checked),className:"w-4 h-4"}),p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Extended Thinking Mode (uses thinking budget)"})]}),r.toolsEnabled&&p.jsxs("div",{className:"flex items-center gap-2 p-2 bg-teal-50 rounded border border-teal-200",children:[p.jsx("input",{type:"checkbox",checked:r.agentMode||!1,onChange:T=>y("agentMode",T.target.checked),className:"w-4 h-4"}),p.jsx("label",{className:"text-xs font-medium text-gray-700 flex-1",children:"Agent Mode (multi-step tool reasoning)"}),r.agentMode&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("label",{className:"text-xs text-gray-600",children:"Max steps:"}),p.jsx("input",{type:"number",value:r.maxSteps||5,onChange:T=>y("maxSteps",parseInt(T.target.value)),min:"1",max:"20",className:"w-16 text-xs border border-gray-300 rounded px-1 py-0.5"})]})]}),p.jsx(du,{label:"System Prompt",value:r.systemPrompt||"",onChange:T=>y("systemPrompt",T),placeholder:"You are a helpful AI assistant...",minHeight:"60px"}),p.jsx(du,{label:"User Prompt",value:r.userPrompt||"",onChange:T=>y("userPrompt",T),placeholder:`{{input}}

Analyze this nodeData...`,minHeight:"100px"}),X0(r.model)&&p.jsxs("div",{className:"border border-purple-200 rounded p-3 bg-purple-50/50",children:[p.jsxs("div",{className:"text-xs font-semibold text-purple-800 mb-2 flex items-center gap-1",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Structured Output"}),p.jsx("span",{className:"text-purple-600 font-normal",children:"(optional)"})]}),p.jsxs("div",{className:"mb-2",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Output Format"}),p.jsxs("select",{value:r.outputFormat||"text",onChange:T=>y("outputFormat",T.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",children:[p.jsx("option",{value:"text",children:"Text (default)"}),p.jsx("option",{value:"json",children:"JSON (structured)"}),p.jsx("option",{value:"csv",children:"CSV (converted from JSON)"})]})]}),r.outputFormat==="json"&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"JSON Schema (optional - for strict validation)"}),r.jsonSchema&&r.jsonSchema.trim()&&p.jsx("button",{onClick:N,className:"text-xs px-2 py-0.5 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded transition-colors flex items-center gap-1",title:"Copy markdown structure for prompt",children:l?" Copied!":" Copy Structure"})]}),p.jsx("textarea",{value:r.jsonSchema||"",onChange:T=>y("jsonSchema",T.target.value),className:"w-full text-xs font-mono border border-gray-300 rounded px-2 py-1 resize-y min-h-[60px]",placeholder:`{
  "type": "object",
  "properties": {
    "summary": {"type": "string"},
    "score": {"type": "number"}
  }
}`}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for flexible JSON output"})]}),r.outputFormat==="csv"&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"CSV Fields (comma-separated)"}),r.csvFields&&r.csvFields.trim()&&p.jsx("button",{onClick:N,className:"text-xs px-2 py-0.5 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded transition-colors flex items-center gap-1",title:"Copy markdown structure for prompt",children:l?" Copied!":" Copy Structure"})]}),p.jsx("input",{type:"text",value:r.csvFields||"",onChange:T=>y("csvFields",T.target.value),className:"w-full text-sm font-mono border border-gray-300 rounded px-2 py-1",placeholder:"name, email, score, category"}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Output will be converted from JSON to CSV format"})]})]}),p.jsxs("div",{className:"mt-2 p-2 bg-purple-50 rounded text-xs text-gray-600",children:[p.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[p.jsx("span",{className:"font-semibold",children:" Output:"}),p.jsx("span",{children:"Reference using"}),p.jsx("span",{className:"font-mono text-purple-700",children:"{{"}),p.jsx("input",{type:"text",value:r.outputVariable||e,onChange:T=>y("outputVariable",T.target.value),className:"bg-white px-1 py-0.5 rounded font-mono text-purple-700 border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-400 hover:border-purple-300 transition-colors min-w-[4ch]",placeholder:e,title:"Click to edit output variable name",style:{width:`${Math.max(4,(r.outputVariable||e).length)}ch`}}),p.jsx("span",{className:"font-mono text-purple-700",children:"}}"})]}),r.outputFormat==="json"&&p.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-purple-300",children:[p.jsx("div",{className:"text-purple-700 font-semibold mb-1",children:"Individual fields available as:"}),p.jsxs("div",{className:"font-mono text-xs text-purple-600 space-y-0.5",children:[p.jsx("div",{children:`{{${r.outputVariable||e}.fieldName}}`}),p.jsxs("div",{className:"text-gray-500 italic",children:["Example: ",`{{${r.outputVariable||e}.name}}`,", ",`{{${r.outputVariable||e}.score}}`]})]})]})]}),p.jsx("div",{className:"mt-2 text-xs text-purple-600 bg-purple-50 rounded px-2 py-1",children:" Cost: $3/$15 per 1M tokens | Batch: 50% off"})]})]}),p.jsx(tn,{type:"target",position:Ze.Top,className:"!w-4 !h-4 !bg-purple-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),p.jsx(tn,{type:"source",position:Ze.Bottom,className:"!w-4 !h-4 !bg-purple-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),f&&p.jsx(Md,{availableTools:xr,selectedToolIds:r.enabledTools||[],onToggle:C,onConfigure:T=>{h(!1),g(T)},onClose:()=>h(!1)}),m&&p.jsx(Px,{tool:xr.find(T=>T.id===m),existingConfig:r.toolConfigs?.[m],onSave:T=>{const _={...r.toolConfigs||{},[m]:T};s(e,{toolConfigs:_}),g(null)},onClose:()=>g(null)})]})});XT.displayName="AnthropicNode";const WT=U.memo(({id:e,data:t,selected:n})=>{const r=t,s=Ht(N=>N.updateNodeData),a=U.useRef(r.outputFormat),[l,c]=U.useState(!1),[f,h]=U.useState(!1),[m,g]=U.useState(null),y=(N,T)=>{s(e,{[N]:T})},b=N=>{const _=(r.enabledTools||[]).includes(N)?(r.enabledTools||[]).filter(A=>A!==N):[...r.enabledTools||[],N];s(e,{enabledTools:_})},C=async()=>{let N="";if(r.outputFormat==="json"&&r.jsonSchema?N=Q0(r.jsonSchema):r.outputFormat==="csv"&&r.csvFields&&(N=ex(r.csvFields)),N)try{await navigator.clipboard.writeText(N),c(!0),setTimeout(()=>c(!1),2e3)}catch(T){console.error("Failed to copy markdown:",T)}};return U.useEffect(()=>{const N=a.current,T=r.outputFormat;if(N===void 0){a.current=T;return}if(N===T||(console.log(" Output format changed:",N,"",T),console.log(" Current data:",{csvFields:r.csvFields,jsonSchema:r.jsonSchema?.substring(0,100)}),a.current=T,N==="text"||T==="text"||!N||!T))return;const _=r.jsonSchema&&r.jsonSchema.trim()!=="",A=r.csvFields&&r.csvFields.trim()!=="";if(N==="csv"&&T==="json"&&(console.log(" CSV  JSON conversion check. hasCsvFields:",A,"csvFields:",r.csvFields),A)){const k=W0(r.csvFields);k&&(console.log(" Converting CSV to JSON:",r.csvFields,"",k.substring(0,100)),s(e,{jsonSchema:k}))}if(N==="json"&&T==="csv"&&(console.log(" JSON  CSV conversion check. hasJsonSchema:",_),_)){const k=J0(r.jsonSchema);k&&(console.log(" Converting JSON to CSV:",k),s(e,{csvFields:k}))}},[r.outputFormat,r.csvFields,r.jsonSchema,e,s]),p.jsxs(p.Fragment,{children:[p.jsx(uo,{minWidth:400,minHeight:350,isVisible:n}),p.jsxs("div",{className:`bg-white rounded-lg shadow-lg border-2 border-green-500 p-4 ${r.bypassed?"opacity-60 ring-2 ring-gray-400":""}`,children:[p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsx("input",{type:"text",value:r.title||"Gemini Node",onChange:N=>y("title",N.target.value),className:"font-semibold text-lg flex-1 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-green-300 rounded px-1",placeholder:"Node Title"}),p.jsx("button",{onClick:()=>y("bypassed",!r.bypassed),className:`px-2 py-1 text-xs rounded transition-colors ${r.bypassed?"bg-gray-400 text-white":"bg-green-500 text-white hover:bg-green-600"}`,title:r.bypassed?"Node is bypassed - click to activate":"Node is active - click to bypass",children:r.bypassed?" Bypassed":" Active"}),p.jsx("button",{onClick:()=>{y("toolsEnabled",!r.toolsEnabled),r.toolsEnabled&&y("agentMode",!1)},className:`text-xs px-2 py-1 rounded transition-colors ${r.toolsEnabled?"bg-teal-100 text-teal-700 hover:bg-teal-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:r.toolsEnabled?"Disable tools":"Enable tools",children:r.toolsEnabled?" Tools ON":" Add Tools"}),p.jsx("button",{onClick:()=>y("compactMode",!r.compactMode),className:"text-xs px-2 py-1 bg-green-50 hover:bg-green-100 rounded transition-colors",title:r.compactMode?"Show all settings":"Compact view",children:r.compactMode?" Expand":" Compact"})]}),p.jsxs("div",{className:"text-xs text-gray-500 ml-10",children:["ID: ",e]})]}),r.toolsEnabled&&p.jsxs("div",{className:"mb-3 p-2 bg-teal-50 rounded border border-teal-200",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("span",{className:"text-xs font-semibold text-teal-800",children:" Available Tools:"}),p.jsx("button",{onClick:()=>h(!0),className:"text-xs px-2 py-1 bg-white hover:bg-teal-100 rounded border border-teal-300 transition-colors",children:"+ Select Tools"})]}),r.enabledTools&&r.enabledTools.length>0?p.jsx("div",{className:"flex flex-wrap gap-1",children:r.enabledTools.map(N=>p.jsx("span",{className:"px-2 py-0.5 bg-white rounded text-xs font-mono text-teal-700 border border-teal-200",children:N},N))}):p.jsx("div",{className:"text-xs text-gray-500 italic",children:"No tools selected"})]}),r.compactMode?p.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium",children:"Model:"}),p.jsx("span",{children:r.model})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium",children:"Config:"}),p.jsxs("span",{children:["Temp ",r.temperature,"  ",r.maxTokens," tokens"]})]}),(r.hybridReasoning||r.multimodal)&&p.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.hybridReasoning&&p.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full",children:" Hybrid Reasoning"}),r.multimodal&&p.jsx("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full",children:" Multimodal"})]}),p.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Click  Expand to edit settings"})]}):p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Model"}),p.jsxs("select",{value:r.model||"gemini-2.5-flash",onChange:N=>y("model",N.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",children:[p.jsxs("optgroup",{label:"Gemini 2.5 Series (Latest)",children:[p.jsx("option",{value:"gemini-2.5-pro",children:"Gemini 2.5 Pro (Thinking)"}),p.jsx("option",{value:"gemini-2.5-flash",children:"Gemini 2.5 Flash"}),p.jsx("option",{value:"gemini-2.5-flash-lite",children:"Gemini 2.5 Flash-Lite"})]}),p.jsxs("optgroup",{label:"Gemini 2.0 Series",children:[p.jsx("option",{value:"gemini-2.0-flash",children:"Gemini 2.0 Flash"}),p.jsx("option",{value:"gemini-2.0-flash-exp",children:"Gemini 2.0 Flash (Experimental)"}),p.jsx("option",{value:"gemini-2.0-flash-lite",children:"Gemini 2.0 Flash-Lite"})]}),p.jsxs("optgroup",{label:"Gemini 1.5 Series (Deprecated Sept 2025)",children:[p.jsx("option",{value:"gemini-1.5-pro",children:"Gemini 1.5 Pro"}),p.jsx("option",{value:"gemini-1.5-flash",children:"Gemini 1.5 Flash"}),p.jsx("option",{value:"gemini-1.5-flash-8b",children:"Gemini 1.5 Flash-8B"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Temperature"}),p.jsx("input",{type:"number",value:r.temperature||.7,onChange:N=>y("temperature",parseFloat(N.target.value)),min:"0",max:"2",step:"0.1",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Max Output Tokens"}),p.jsx("input",{type:"number",value:r.maxTokens||2e3,onChange:N=>y("maxTokens",parseInt(N.target.value)),min:"1",max:"8000",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:r.hybridReasoning||!1,onChange:N=>y("hybridReasoning",N.target.checked),className:"w-4 h-4"}),p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Hybrid Reasoning Mode"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:r.multimodal||!1,onChange:N=>y("multimodal",N.target.checked),className:"w-4 h-4",title:"Enable analysis of images, videos (YouTube), PDFs, and audio files"}),p.jsx("label",{className:"text-xs font-medium text-gray-600",title:"Supports: YouTube videos, images (JPG/PNG/WebP), PDFs, and audio files",children:"Multimodal Input (video, images, PDF, audio)"})]})]}),p.jsx(du,{label:"System Instruction",value:r.systemPrompt||"",onChange:N=>y("systemPrompt",N),placeholder:"You are a helpful AI assistant...",minHeight:"60px"}),p.jsx(du,{label:"User Prompt",value:r.userPrompt||"",onChange:N=>y("userPrompt",N),placeholder:`{{input}}

Analyze this nodeData...`,minHeight:"100px"}),X0(r.model)&&p.jsxs("div",{className:"border border-green-200 rounded p-3 bg-green-50/50",children:[p.jsxs("div",{className:"text-xs font-semibold text-green-800 mb-2 flex items-center gap-1",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Structured Output"}),p.jsx("span",{className:"text-green-600 font-normal",children:"(optional)"})]}),p.jsxs("div",{className:"mb-2",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Output Format"}),p.jsxs("select",{value:r.outputFormat||"text",onChange:N=>y("outputFormat",N.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",children:[p.jsx("option",{value:"text",children:"Text (default)"}),p.jsx("option",{value:"json",children:"JSON (structured)"}),p.jsx("option",{value:"csv",children:"CSV (converted from JSON)"})]})]}),r.outputFormat==="json"&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"JSON Schema (optional - for strict validation)"}),r.jsonSchema&&r.jsonSchema.trim()&&p.jsx("button",{onClick:C,className:"text-xs px-2 py-0.5 bg-green-100 hover:bg-green-200 text-green-700 rounded transition-colors flex items-center gap-1",title:"Copy markdown structure for prompt",children:l?" Copied!":" Copy Structure"})]}),p.jsx("textarea",{value:r.jsonSchema||"",onChange:N=>y("jsonSchema",N.target.value),className:"w-full text-xs font-mono border border-gray-300 rounded px-2 py-1 resize-y min-h-[60px]",placeholder:`{
  "type": "object",
  "properties": {
    "summary": {"type": "string"},
    "score": {"type": "number"}
  }
}`}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for flexible JSON output"})]}),r.outputFormat==="csv"&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-600",children:"CSV Fields (comma-separated)"}),r.csvFields&&r.csvFields.trim()&&p.jsx("button",{onClick:C,className:"text-xs px-2 py-0.5 bg-green-100 hover:bg-green-200 text-green-700 rounded transition-colors flex items-center gap-1",title:"Copy markdown structure for prompt",children:l?" Copied!":" Copy Structure"})]}),p.jsx("input",{type:"text",value:r.csvFields||"",onChange:N=>y("csvFields",N.target.value),className:"w-full text-sm font-mono border border-gray-300 rounded px-2 py-1",placeholder:"name, email, score, category"}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Output will be converted from JSON to CSV format"})]})]}),p.jsxs("div",{className:"mt-3 p-2 bg-green-50 rounded text-xs text-gray-600",children:[p.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[p.jsx("span",{className:"font-semibold",children:" Output:"}),p.jsx("span",{children:"Reference using"}),p.jsx("span",{className:"font-mono text-green-700",children:"{{"}),p.jsx("input",{type:"text",value:r.outputVariable||e,onChange:N=>y("outputVariable",N.target.value),className:"bg-white px-1 py-0.5 rounded font-mono text-green-700 border border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 hover:border-green-300 transition-colors min-w-[4ch]",placeholder:e,title:"Click to edit output variable name",style:{width:`${Math.max(4,(r.outputVariable||e).length)}ch`}}),p.jsx("span",{className:"font-mono text-green-700",children:"}}"})]}),r.outputFormat==="json"&&p.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-green-300",children:[p.jsx("div",{className:"text-green-700 font-semibold mb-1",children:"Individual fields available as:"}),p.jsxs("div",{className:"font-mono text-xs text-green-600 space-y-0.5",children:[p.jsx("div",{children:`{{${r.outputVariable||e}.fieldName}}`}),p.jsxs("div",{className:"text-gray-500 italic",children:["Example: ",`{{${r.outputVariable||e}.name}}`,", ",`{{${r.outputVariable||e}.score}}`]})]})]})]}),p.jsxs("div",{className:"mt-2 text-xs text-green-600 bg-green-50 rounded px-2 py-1",children:[r.model==="gemini-2.5-pro"&&" 2.5 Pro: State-of-the-art thinking model | 1M context",r.model==="gemini-2.5-flash"&&" 2.5 Flash: Best price-performance | 1M context",r.model==="gemini-2.5-flash-lite"&&" 2.5 Flash-Lite: Cost-efficient | 1M context",r.model==="gemini-2.0-flash"&&" 2.0 Flash: Next-gen features | 1M context",r.model==="gemini-2.0-flash-exp"&&" 2.0 Experimental: Free while in preview | 1M context",r.model==="gemini-2.0-flash-lite"&&" 2.0 Flash-Lite: Fast & efficient | 1M context",r.model==="gemini-1.5-pro"&&" 1.5 Pro: $1.25/$5 per 1M | 2M context (Deprecated)",r.model==="gemini-1.5-flash"&&" 1.5 Flash: $0.075/$0.30 per 1M | 1M context (Deprecated)",r.model==="gemini-1.5-flash-8b"&&" 1.5 Flash-8B: $0.0375/$0.15 per 1M | 1M context (Deprecated)"]}),r.toolsEnabled&&p.jsxs("div",{className:"border border-purple-200 rounded p-3 bg-purple-50/50 space-y-2 mt-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:r.agentMode||!1,onChange:N=>y("agentMode",N.target.checked),className:"w-4 h-4",id:`${e}-agent-mode`}),p.jsx("label",{htmlFor:`${e}-agent-mode`,className:"text-xs font-semibold text-purple-800",children:" Agent Mode (multi-step reasoning)"})]}),r.agentMode&&p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Max Steps"}),p.jsx("input",{type:"number",value:r.maxSteps||5,onChange:N=>y("maxSteps",parseInt(N.target.value)),min:"1",max:"20",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"}),p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Agent will perform up to ",r.maxSteps||5," reasoning steps"]})]})]})]})]}),p.jsx(tn,{type:"target",position:Ze.Top,className:"!w-4 !h-4 !bg-green-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),p.jsx(tn,{type:"source",position:Ze.Bottom,className:"!w-4 !h-4 !bg-green-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),f&&p.jsx(Md,{availableTools:xr,selectedToolIds:r.enabledTools||[],onToggle:b,onConfigure:N=>{h(!1),g(N)},onClose:()=>h(!1)}),m&&p.jsx(Px,{tool:xr.find(N=>N.id===m),existingConfig:r.toolConfigs?.[m],onSave:N=>{const T={...r.toolConfigs||{},[m]:N};s(e,{toolConfigs:T}),g(null)},onClose:()=>g(null)})]})});WT.displayName="GeminiNode";function qN(e){if(!e||typeof e!="string")return e;const t=e.trim();if(!t.startsWith("{")&&!t.startsWith("["))return e;try{const n=JSON.parse(t);return JSON.stringify(n,null,2)}catch{return e}}const JT=U.memo(({id:e,data:t,selected:n})=>{const r=t,s=Ht(b=>b.updateNodeData),a=Ht(b=>b.executionResults),[l,c]=U.useState(!1),f=U.useMemo(()=>a?.get(e),[a,e]),h=U.useMemo(()=>qN(l&&f?f.output||"":r.content||""),[l,f,r.content]),m=(b,C)=>{s(e,{[b]:C})},g={yellow:{bg:"bg-yellow-100",border:"border-yellow-400",text:"text-yellow-800"},blue:{bg:"bg-blue-100",border:"border-blue-400",text:"text-blue-800"},green:{bg:"bg-green-100",border:"border-green-400",text:"text-green-800"},pink:{bg:"bg-pink-100",border:"border-pink-400",text:"text-pink-800"},purple:{bg:"bg-purple-100",border:"border-purple-400",text:"text-purple-800"}},y=g[r.color]||g.yellow;return p.jsxs(p.Fragment,{children:[p.jsx(uo,{minWidth:300,minHeight:200,isVisible:n}),p.jsxs("div",{className:`${y.bg} rounded-lg shadow-lg border-2 ${y.border} p-4 ${r.varMode?"ring-2 ring-purple-300":""} ${r.bypassed?"opacity-60 ring-2 ring-gray-400":""}`,children:[p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("input",{type:"text",value:r.title||"Notes",onChange:b=>m("title",b.target.value),className:`font-semibold text-lg ${y.text} bg-transparent border-none outline-none flex-1`,placeholder:"Note Title..."}),f&&p.jsx("button",{onClick:()=>c(!l),className:`px-2 py-1 text-xs rounded transition-colors ${l?"bg-indigo-500 text-white hover:bg-indigo-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:l?"Show template":"Show execution result",children:l?" Template":" Result"}),p.jsx("button",{onClick:()=>m("bypassed",!r.bypassed),className:`px-2 py-1 text-xs rounded transition-colors ${r.bypassed?"bg-gray-400 text-white":"bg-green-500 text-white hover:bg-green-600"}`,title:r.bypassed?"Node is bypassed - click to activate":"Node is active - click to bypass",children:r.bypassed?" Bypassed":" Active"})]}),p.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[p.jsxs("span",{children:["ID: ",e]}),f&&l&&p.jsxs("span",{className:"text-indigo-600 font-medium",children:[" Viewing Result (",f.output.length.toLocaleString()," chars)"]})]})]}),p.jsxs("div",{className:"mb-3 pb-3 border-b border-gray-300",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("input",{type:"checkbox",id:`var-mode-${e}`,checked:r.varMode||!1,onChange:b=>m("varMode",b.target.checked),className:"w-4 h-4 text-purple-600 rounded focus:ring-2 focus:ring-purple-500"}),p.jsx("label",{htmlFor:`var-mode-${e}`,className:"text-sm font-medium text-gray-700 cursor-pointer select-none",children:" Process Variables"})]}),p.jsx("div",{className:"text-xs",children:r.varMode?p.jsxs("div",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded border border-purple-200",children:[" ",p.jsx("strong",{children:"Transform Mode:"})," Processes ","{{"," variables ","}}"," in content. Output = processed markdown."]}):p.jsxs("div",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded border border-blue-200",children:[" ",p.jsx("strong",{children:"Passthrough Mode:"})," Forwards input  output unchanged. Notes are for documentation only."]})})]}),p.jsx("div",{className:"flex gap-2 mb-3",children:Object.entries(g).map(([b,C])=>p.jsx("button",{onClick:()=>m("color",b),className:`w-6 h-6 rounded-full ${C.bg} border-2 ${r.color===b?C.border:"border-transparent"} hover:scale-110 transition-transform`,title:b},b))}),p.jsx("div",{children:p.jsx("textarea",{value:h,onChange:b=>m("content",b.target.value),readOnly:l,className:`w-full min-h-[120px] ${y.bg} ${y.text} border-none outline-none resize-y font-mono text-sm whitespace-pre-wrap ${l?"cursor-default bg-opacity-70":""}`,placeholder:l?"Execution result will appear here...":r.varMode?"Add template with variables...&#10;&#10;Use {{1}}, {{2}} for inputs&#10;Use {{nodeId}} for specific nodes&#10;&#10;Example:&#10;# Result&#10;Input: {{1}}&#10;Output: Processed...":"Add your notes here...&#10;&#10;Supports markdown:&#10;- **bold**&#10;- *italic*&#10;- # Heading&#10;- - List item&#10;&#10;Enable 'Process Variables' to use {{var}} syntax&#10;&#10;JSON will be auto-formatted"})}),p.jsx("div",{className:`text-xs ${y.text} mt-2 flex items-center gap-1 flex-wrap`,children:r.varMode?p.jsxs(p.Fragment,{children:[p.jsx("span",{children:" Variables processed  Reference using"}),p.jsx("span",{className:"font-mono",children:"{{"}),p.jsx("input",{type:"text",value:r.outputVariable||e,onChange:b=>m("outputVariable",b.target.value),className:"bg-white/70 px-1 py-0.5 rounded font-mono border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 hover:border-purple-400 transition-colors min-w-[4ch]",placeholder:e,title:"Click to edit output variable name",style:{width:`${Math.max(4,(r.outputVariable||e).length)}ch`}}),p.jsx("span",{className:"font-mono",children:"}}"})]}):p.jsxs(p.Fragment,{children:[p.jsx("span",{children:" Passthrough  Reference using"}),p.jsx("span",{className:"font-mono",children:"{{"}),p.jsx("input",{type:"text",value:r.outputVariable||e,onChange:b=>m("outputVariable",b.target.value),className:"bg-white/70 px-1 py-0.5 rounded font-mono border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400 hover:border-blue-400 transition-colors min-w-[4ch]",placeholder:e,title:"Click to edit output variable name",style:{width:`${Math.max(4,(r.outputVariable||e).length)}ch`}}),p.jsx("span",{className:"font-mono",children:"}}"})]})})]}),p.jsx(tn,{type:"target",position:Ze.Top,className:`!w-4 !h-4 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all ${r.varMode?"!bg-purple-500":"!bg-blue-500"}`,style:{zIndex:10}}),p.jsx(tn,{type:"source",position:Ze.Bottom,className:`!w-4 !h-4 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all ${r.varMode?"!bg-purple-500":"!bg-blue-500"}`,style:{zIndex:10}})]})});JT.displayName="NotesNode";function VF({id:e,data:t,selected:n}){const r=t,s=Ht(l=>l.updateNodeData),a=(l,c)=>{s(e,{[l]:c})};return p.jsxs("div",{className:`bg-white border-2 border-purple-500 rounded-lg shadow-lg min-w-[350px] ${r.bypassed?"opacity-60 ring-2 ring-gray-400":""}`,children:[p.jsx(uo,{minWidth:350,minHeight:200,isVisible:n,lineClassName:"border-purple-500",handleClassName:"h-3 w-3 bg-purple-500"}),p.jsx(tn,{type:"target",position:Ze.Left,className:"!w-4 !h-4 !bg-purple-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx("span",{className:"text-xl",children:""}),p.jsx("input",{type:"text",value:r.title||"Python Code",onChange:l=>a("title",l.target.value),className:"font-semibold text-lg flex-1 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-purple-300 rounded px-1",placeholder:"Node Title"})]}),p.jsx("button",{onClick:()=>a("bypassed",!r.bypassed),className:`px-2 py-1 text-xs rounded transition-colors ${r.bypassed?"bg-gray-400 text-white":"bg-green-500 text-white hover:bg-green-600"}`,title:r.bypassed?"Node is bypassed - click to activate":"Node is active - click to bypass",children:r.bypassed?" Bypassed":" Active"}),p.jsx("span",{className:"text-xs text-gray-500 bg-purple-50 px-2 py-1 rounded",children:"Pyodide"})]}),p.jsxs("div",{className:"text-xs text-gray-500 ml-8",children:["ID: ",e]})]}),p.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 rounded text-xs text-gray-600 flex items-center gap-1 mb-3",children:[p.jsx("span",{className:"font-semibold",children:" Output:"}),p.jsx("span",{children:"Reference using"}),p.jsx("span",{className:"font-mono text-yellow-700",children:"{{"}),p.jsx("input",{type:"text",value:r.outputVariable||e,onChange:l=>a("outputVariable",l.target.value),className:"bg-white px-1 py-0.5 rounded font-mono text-yellow-700 border border-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-400 hover:border-yellow-300 transition-colors min-w-[4ch]",placeholder:e,title:"Click to edit output variable name",style:{width:`${Math.max(4,(r.outputVariable||e).length)}ch`}}),p.jsx("span",{className:"font-mono text-yellow-700",children:"}}"})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Python Code"}),p.jsx("textarea",{value:r.code||"",onChange:l=>a("code",l.target.value),placeholder:`# Access input variables from context
# Example: x = context.get('input_value')

import json

# Your code here
result = "Hello from Python!"

# Return value will be stored in output variable
result`,className:"w-full h-64 px-3 py-2 border border-gray-300 rounded-md font-mono text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",spellCheck:!1})]}),p.jsxs("div",{className:"text-xs text-gray-600 bg-purple-50 p-2 rounded",children:[p.jsx("p",{className:"font-medium mb-1",children:" Tips:"}),p.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[p.jsxs("li",{children:["Access variables: ",p.jsx("code",{className:"bg-white px-1 rounded",children:"context.get('varName')"})]}),p.jsx("li",{children:"Last expression is returned as output"}),p.jsxs("li",{children:["Use ",p.jsx("code",{className:"bg-white px-1 rounded",children:"print()"})," for debugging (shown in console)"]}),p.jsx("li",{children:"Most Python stdlib available via Pyodide"})]})]})]}),p.jsx(tn,{type:"source",position:Ze.Right,className:"!w-4 !h-4 !bg-purple-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}})]})}const $F=U.memo(VF);function HF({id:e,data:t,selected:n}){const r=t,s=Ht(l=>l.updateNodeData),a=(l,c)=>{s(e,{[l]:c})};return p.jsxs("div",{className:`bg-white border-2 border-yellow-500 rounded-lg shadow-lg min-w-[350px] ${r.bypassed?"opacity-60 ring-2 ring-gray-400":""}`,children:[p.jsx(uo,{minWidth:350,minHeight:200,isVisible:n,lineClassName:"border-yellow-500",handleClassName:"h-3 w-3 bg-yellow-500"}),p.jsx(tn,{type:"target",position:Ze.Left,className:"!w-4 !h-4 !bg-yellow-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx("span",{className:"text-xl",children:""}),p.jsx("input",{type:"text",value:r.title||"JavaScript Code",onChange:l=>a("title",l.target.value),className:"font-semibold text-lg flex-1 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-yellow-300 rounded px-1",placeholder:"Node Title"})]}),p.jsx("button",{onClick:()=>a("bypassed",!r.bypassed),className:`px-2 py-1 text-xs rounded transition-colors ${r.bypassed?"bg-gray-400 text-white":"bg-green-500 text-white hover:bg-green-600"}`,title:r.bypassed?"Node is bypassed - click to activate":"Node is active - click to bypass",children:r.bypassed?" Bypassed":" Active"}),p.jsx("span",{className:"text-xs text-gray-500 bg-yellow-50 px-2 py-1 rounded",children:"Native"})]}),p.jsxs("div",{className:"text-xs text-gray-500 ml-8",children:["ID: ",e]})]}),p.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 rounded text-xs text-gray-600 flex items-center gap-1 mb-3",children:[p.jsx("span",{className:"font-semibold",children:" Output:"}),p.jsx("span",{children:"Reference using"}),p.jsx("span",{className:"font-mono text-yellow-700",children:"{{"}),p.jsx("input",{type:"text",value:r.outputVariable||e,onChange:l=>a("outputVariable",l.target.value),className:"bg-white px-1 py-0.5 rounded font-mono text-yellow-700 border border-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-400 hover:border-yellow-300 transition-colors min-w-[4ch]",placeholder:e,title:"Click to edit output variable name",style:{width:`${Math.max(4,(r.outputVariable||e).length)}ch`}}),p.jsx("span",{className:"font-mono text-yellow-700",children:"}}"})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"JavaScript Code"}),p.jsx("textarea",{value:r.code||"",onChange:l=>a("code",l.target.value),placeholder:`// Access input variables from context
// Example: const x = context.input_value;

// Your code here
const result = "Hello from JavaScript!";

// Return value will be stored in output variable
return result;`,className:"w-full h-64 px-3 py-2 border border-gray-300 rounded-md font-mono text-sm focus:ring-2 focus:ring-yellow-500 focus:border-transparent resize-none",spellCheck:!1})]}),p.jsxs("div",{className:"text-xs text-gray-600 bg-yellow-50 p-2 rounded",children:[p.jsx("p",{className:"font-medium mb-1",children:" Tips:"}),p.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[p.jsxs("li",{children:["Access variables: ",p.jsx("code",{className:"bg-white px-1 rounded",children:"context.varName"})]}),p.jsxs("li",{children:["Use ",p.jsx("code",{className:"bg-white px-1 rounded",children:"return"})," to set output value"]}),p.jsxs("li",{children:["Use ",p.jsx("code",{className:"bg-white px-1 rounded",children:"console.log()"})," for debugging"]}),p.jsx("li",{children:"Full ES6+ syntax supported"})]})]})]}),p.jsx(tn,{type:"source",position:Ze.Right,className:"!w-4 !h-4 !bg-yellow-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}})]})}const UF=U.memo(HF),qF=({tool:e,executionStatus:t="idle",showDetails:n=!1,onClick:r})=>{const s={idle:"",executing:"",success:"",error:""}[t],a={idle:"bg-gray-300",executing:"bg-amber-500 animate-pulse",success:"bg-green-500",error:"bg-red-500"}[t];return p.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${r?"cursor-pointer hover:opacity-80":""}`,onClick:r,role:"status","aria-label":`Tool ${e.displayName}: ${t}`,children:[p.jsx("div",{className:`w-2 h-2 rounded-full ${a}`}),p.jsx("span",{className:"text-gray-700",children:e.displayName}),n&&p.jsx("span",{className:"text-gray-500",children:s})]})},ZF=({tools:e,executionSteps:t=[],onToggleCollapse:n})=>{const r=l=>{const c=t.filter(h=>h.toolId===l);if(c.length===0)return"idle";const f=c[c.length-1];return f.status==="executing"?"executing":f.status==="success"?"success":f.status==="error"?"error":"idle"},s=t.length,a=t.reduce((l,c)=>l+(c.duration||0),0);return p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(l=>p.jsx(qF,{tool:l,executionStatus:r(l.id),showDetails:!0},l.id))}),n&&p.jsx("button",{onClick:n,className:"text-xs px-2 py-1 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded transition-colors",title:"Collapse status panel",children:""})]}),t.length>0&&p.jsxs("div",{className:"text-xs text-gray-600",children:["Last execution: ",s," tool call",s!==1?"s":"",","," ",(a/1e3).toFixed(1),"s total"]})]})},YF=({steps:e,currentStep:t,autoScroll:n=!0})=>{const r=U.useRef(null);return U.useEffect(()=>{n&&r.current&&(r.current.scrollTop=r.current.scrollHeight)},[e,n]),e.length===0?null:p.jsx("div",{ref:r,className:"max-h-60 overflow-y-auto space-y-2",children:p.jsx(Wr,{children:e.map(s=>{const a=t===s.stepNumber,l={pending:"border-gray-300",executing:"border-amber-500",success:"border-green-500",error:"border-red-500"}[s.status],c={pending:"bg-gray-50",executing:"bg-amber-50",success:"bg-green-50",error:"bg-red-50"}[s.status],f={pending:"",executing:"",success:"",error:""}[s.status];return p.jsx(Or.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:`p-3 rounded border-l-4 ${l} ${c} ${a?"ring-2 ring-teal-300":""}`,children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-lg","aria-hidden":"true",children:f}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsxs("span",{className:"text-xs font-semibold text-gray-700",children:["Step ",s.stepNumber]}),p.jsx("span",{className:"text-xs text-gray-500",children:s.toolName}),s.duration&&p.jsxs("span",{className:"text-xs text-gray-400",children:[s.duration,"ms"]})]}),s.input&&p.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[p.jsx("span",{className:"font-medium",children:"Input:"}),p.jsx("div",{className:"mt-1 p-2 bg-white/50 rounded font-mono text-xs break-all",children:typeof s.input=="string"?s.input:JSON.stringify(s.input,null,2)})]}),s.output&&p.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[p.jsx("span",{className:"font-medium",children:"Output:"}),p.jsx("div",{className:"mt-1 p-2 bg-white/50 rounded font-mono text-xs break-all",children:typeof s.output=="string"?s.output:JSON.stringify(s.output,null,2)})]}),s.error&&p.jsxs("div",{className:"mt-1 text-xs text-red-700",children:[p.jsx("span",{className:"font-medium",children:"Error:"}),p.jsx("div",{className:"mt-1 p-2 bg-red-100 rounded break-all",children:s.error})]})]})]})},s.stepNumber)})})})},QT=U.memo(({id:e,data:t,selected:n})=>{const r=t,s=Ht(y=>y.updateNodeData),[a,l]=U.useState(!1),[c,f]=U.useState(null),h=U.useMemo(()=>(r.enabledTools||[]).map(y=>xr.find(b=>b.id===y)).filter(Boolean),[r.enabledTools]),m=U.useCallback(y=>{const C=(r.enabledTools||[]).includes(y)?(r.enabledTools||[]).filter(N=>N!==y):[...r.enabledTools||[],y];s(e,{enabledTools:C})},[e,r.enabledTools,s]);U.useCallback((y,b)=>{s(e,{toolConfigs:{...r.toolConfigs||{},[y]:b}})},[e,r.toolConfigs,s]);const g=U.useMemo(()=>{const b=r.toolBarCollapsed?40:120,C=r.statusPanelCollapsed?0:60,N=400-b-C;return h.map((T,_)=>{const A=N/(h.length+1),k=b+A*(_+1);return{toolId:T.id,position:k}})},[h,r.toolBarCollapsed,r.statusPanelCollapsed]);return p.jsxs(p.Fragment,{children:[p.jsx(uo,{minWidth:r.toolBarCollapsed?300:500,minHeight:r.isExecuting?500:400,maxWidth:800,maxHeight:1e3,isVisible:n}),p.jsxs("div",{className:`bg-white rounded-lg shadow-lg border-2 border-teal-500 ${r.bypassed?"opacity-60 ring-2 ring-gray-400":""}`,children:[p.jsx(Wr,{children:!r.toolBarCollapsed&&p.jsxs(Or.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-b border-teal-200 bg-teal-50 p-3 overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("h3",{className:"text-sm font-semibold text-teal-700",children:[" Tools (",h.length,"/",xr.length,")"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>s(e,{bypassed:!r.bypassed}),className:`px-2 py-1 text-xs rounded transition-colors ${r.bypassed?"bg-gray-400 text-white":"bg-green-500 text-white hover:bg-green-600"}`,title:r.bypassed?"Node is bypassed - click to activate":"Node is active - click to bypass",children:r.bypassed?" Bypassed":" Active"}),p.jsx("button",{onClick:()=>l(!0),className:"text-xs px-3 py-1 bg-teal-500 hover:bg-teal-600 text-white rounded transition-colors",children:"+ Add Tool"}),p.jsx("button",{onClick:()=>s(e,{toolBarCollapsed:!0}),className:"text-xs px-2 py-1 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded transition-colors",title:"Collapse tool bar",children:""})]})]}),h.length>0?p.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.jsx(Wr,{children:h.map(y=>p.jsx(Rx,{tool:y,enabled:!0,executing:r.isExecuting&&r.executionSteps?.some(b=>b.toolId===y.id&&b.status==="executing"),onToggle:()=>m(y.id),onConfigure:()=>f(y.id),compact:!0},y.id))})}):p.jsx("div",{className:"text-xs text-gray-500 text-center py-2",children:'No tools enabled. Click "+ Add Tool" to get started.'})]})}),r.toolBarCollapsed&&p.jsxs("div",{className:"border-b border-teal-200 bg-teal-50 p-2 flex items-center justify-between",children:[p.jsxs("span",{className:"text-xs text-teal-700",children:[" ",h.length," tool",h.length!==1?"s":""," enabled"]}),p.jsx("button",{onClick:()=>s(e,{toolBarCollapsed:!1}),className:"text-xs px-2 py-1 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded transition-colors",title:"Expand tool bar",children:""})]}),p.jsx("div",{className:"p-4",children:p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Provider"}),p.jsxs("select",{value:r.provider||"anthropic",onChange:y=>s(e,{provider:y.target.value}),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",children:[p.jsx("option",{value:"anthropic",children:"Anthropic (Claude)"}),p.jsx("option",{value:"openai",children:"OpenAI (GPT)"}),p.jsx("option",{value:"gemini",children:"Google (Gemini)"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Model"}),p.jsx("input",{type:"text",value:r.model||"claude-sonnet-4-5-20250929",onChange:y=>s(e,{model:y.target.value}),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",placeholder:"Model ID"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Temperature"}),p.jsx("input",{type:"number",value:r.temperature||.7,onChange:y=>s(e,{temperature:parseFloat(y.target.value)}),min:"0",max:"2",step:"0.1",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Max Tool Calls"}),p.jsx("input",{type:"number",value:r.maxToolCalls||5,onChange:y=>s(e,{maxToolCalls:parseInt(y.target.value)}),min:"1",max:"20",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"System Prompt"}),p.jsx("textarea",{value:r.systemPrompt||"",onChange:y=>s(e,{systemPrompt:y.target.value}),className:"w-full text-sm border border-gray-300 rounded px-2 py-1 resize-y min-h-[60px]",placeholder:"You are a helpful assistant with access to tools..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"User Prompt"}),p.jsx("textarea",{value:r.userPrompt||"",onChange:y=>s(e,{userPrompt:y.target.value}),className:"w-full text-sm border border-gray-300 rounded px-2 py-1 resize-y min-h-[100px]",placeholder:`{{input}}

Analyze this data...`})]})]})}),p.jsx(Wr,{children:r.isExecuting&&r.executionSteps&&r.executionSteps.length>0&&p.jsxs(Or.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-teal-200 p-3 bg-teal-50/50 overflow-hidden",children:[p.jsxs("div",{className:"text-xs font-semibold text-teal-700 mb-2",children:["Execution Progress (Step ",r.currentStep||0,"/",r.maxToolCalls||5,")"]}),p.jsx(YF,{steps:r.executionSteps,currentStep:r.currentStep})]})}),!r.statusPanelCollapsed&&h.length>0&&p.jsx("div",{className:"border-t border-teal-200 bg-teal-50 p-2",children:p.jsx(ZF,{tools:h,executionSteps:r.executionSteps,onToggleCollapse:()=>s(e,{statusPanelCollapsed:!0})})})]}),p.jsx(tn,{type:"target",position:Ze.Top,id:"input",className:"!w-4 !h-4 !bg-teal-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),p.jsx(tn,{type:"source",position:Ze.Bottom,id:"output",className:"!w-4 !h-4 !bg-teal-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),p.jsx(Wr,{children:g.map(({toolId:y,position:b})=>{const C=xr.find(T=>T.id===y),N=GT.includes(y);return p.jsx(Or.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},children:p.jsx(tn,{type:N?"target":"source",position:N?Ze.Left:Ze.Right,id:`tool-${y}`,className:"!w-3 !h-3 !bg-teal-400 !border-2 !border-white hover:!w-4 hover:!h-4 transition-all",style:{top:`${b}px`,zIndex:10},title:C?.displayName||y})},`handle-${y}`)})}),p.jsx(Wr,{children:a&&p.jsx(Md,{availableTools:xr,selectedToolIds:r.enabledTools||[],onToggle:m,onConfigure:y=>{f(y),l(!1)},onClose:()=>l(!1)})})]})});QT.displayName="ToolAugmentedLLMNode";const GF=e=>({"tool-call":"Tool Execution",reasoning:"Reasoning","final-answer":"Final Answer"})[e]||e,KF=({type:e})=>{const t={"tool-call":"",reasoning:"","final-answer":""};return p.jsx("span",{className:"text-base",children:t[e]||""})},XF=e=>{const t=Object.entries(e);return t.length===0?"":t.map(([n,r])=>{const s=typeof r=="string"?`"${r}"`:JSON.stringify(r);return`${n}: ${s.length>30?s.slice(0,30)+"...":s}`}).join(", ")},WF=e=>{if(e==null)return"null";if(typeof e=="string")return e.length>50?e.slice(0,50)+"...":e;const t=JSON.stringify(e);return t.length>50?t.slice(0,50)+"...":t},ny=(e,t)=>e.length<=t?e:e.slice(0,t)+"...",JF=({step:e,isActive:t})=>p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(KF,{type:e.stepType}),p.jsxs("span",{className:"text-sm font-medium",children:["Step ",e.stepNumber,": ",GF(e.stepType)]})]}),p.jsxs("span",{className:"text-xs text-gray-500",children:[e.duration,"ms"]})]}),e.toolCalls&&e.toolCalls.length>0&&p.jsx("div",{className:"space-y-1",children:e.toolCalls.map((n,r)=>p.jsxs("div",{className:"text-xs bg-gray-100 rounded p-2",children:[p.jsxs("div",{className:"font-mono text-teal-700",children:[n.toolName,Object.keys(n.args).length>0&&p.jsxs("span",{className:"text-gray-600",children:["(",XF(n.args),")"]})]}),n.result&&p.jsxs("div",{className:"mt-1 text-gray-600",children:[" ",WF(n.result)]}),n.error&&p.jsxs("div",{className:"mt-1 text-red-600",children:[" ",ny(n.error,100)]})]},r))}),e.reasoning&&p.jsxs("div",{className:"text-xs text-gray-700 italic bg-gray-50 rounded p-2",children:['"',ny(e.reasoning,150),'"']}),e.output&&p.jsxs("div",{className:"text-xs text-gray-700 bg-green-50 rounded p-2",children:[p.jsx("span",{className:"font-medium text-green-800",children:"Output: "}),ny(e.output,100)]}),e.tokenUsage&&p.jsxs("div",{className:"text-xs text-gray-500 flex gap-3",children:[p.jsxs("span",{children:["In: ",e.tokenUsage.inputTokens]}),p.jsxs("span",{children:["Out: ",e.tokenUsage.outputTokens]}),p.jsxs("span",{className:"font-medium",children:["Total: ",e.tokenUsage.totalTokens]})]})]}),QF=({steps:e,currentStep:t,maxSteps:n,isExecuting:r=!1})=>{const s=Math.min(t/n*100,100);return p.jsxs("div",{className:"agent-steps-container",children:[p.jsxs("div",{className:"mb-4",children:[p.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[p.jsxs("span",{children:["Step ",t," of ",n]}),p.jsxs("span",{children:[Math.round(s),"%"]})]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:p.jsx(Or.div,{className:"bg-teal-500 h-2 rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.3,ease:"easeOut"}})})]}),p.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-1",children:[p.jsx(Wr,{mode:"popLayout",children:e.map((a,l)=>p.jsx(Or.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.3,type:"spring",stiffness:300,damping:25},className:`p-3 rounded-lg border-2 ${l===e.length-1&&r?"border-teal-500 bg-teal-50":"border-gray-200 bg-white"}`,children:p.jsx(JF,{step:a,isActive:l===e.length-1&&r})},a.stepNumber))}),r&&t<=n&&p.jsx(Or.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"p-3 rounded-lg border-2 border-amber-400 bg-amber-50",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-amber-500 border-t-transparent rounded-full",role:"status","aria-label":"Processing"}),p.jsx("span",{className:"text-sm text-amber-700 font-medium",children:"Agent is thinking..."})]})}),e.length===0&&!r&&p.jsx("div",{className:"text-center text-sm text-gray-500 py-8",children:"No execution steps yet. Run the workflow to see agent reasoning."})]})]})};function eB({executionId:e,onStepComplete:t,onComplete:n,onError:r,enabled:s=!0}){const[a,l]=U.useState([]),[c,f]=U.useState(!1),[h,m]=U.useState(!1),g=U.useRef(null);return U.useEffect(()=>{if(!(!s||!e))return console.log(`[AgentExecution] Ready for execution: ${e}`),m(!0),()=>{g.current&&g.current.close(),m(!1)}},[e,s]),{steps:a,isExecuting:c,isConnected:h,setIsExecuting:f,addStep:T=>{l(_=>[..._,T]),t?.(T)},startExecution:()=>{f(!0),l([])},completeExecution:T=>{f(!1),n?.(T)},handleError:T=>{f(!1),r?.(T)}}}const ek=U.memo(({id:e,data:t,selected:n})=>{const r=t,s=Ht(T=>T.updateNodeData),[a,l]=U.useState(!1),[c,f]=U.useState(null),h=U.useMemo(()=>{if(r.executionId)return r.executionId;const T=`agent-${e}-${Date.now()}`;return s(e,{executionId:T}),T},[r.executionId,e,s]),{steps:m}=eB({executionId:h,onStepComplete:T=>{s(e,{agentSteps:[...r.agentSteps||[],T],agentCurrentStep:T.stepNumber})},onComplete:T=>{console.log("Agent execution completed:",T)},onError:T=>{console.error("Agent execution error:",T)},enabled:r.isExecuting||!1}),g=U.useMemo(()=>(r.enabledTools||[]).map(T=>xr.find(_=>_.id===T)).filter(Boolean),[r.enabledTools]),y=U.useCallback(T=>{const A=(r.enabledTools||[]).includes(T)?(r.enabledTools||[]).filter(k=>k!==T):[...r.enabledTools||[],T];s(e,{enabledTools:A})},[e,r.enabledTools,s]);U.useCallback((T,_)=>{s(e,{toolConfigs:{...r.toolConfigs||{},[T]:_}})},[e,r.toolConfigs,s]);const b=U.useMemo(()=>{const _=r.toolBarCollapsed?40:120,A=r.stepsCollapsed?40:300,k=600-_-A;return g.map((O,R)=>{const z=k/(g.length+1),D=_+z*(R+1);return{toolId:O.id,position:D}})},[g,r.toolBarCollapsed,r.stepsCollapsed]),C=r.agentSteps||m||[],N=r.agentCurrentStep||C.length;return p.jsxs(p.Fragment,{children:[p.jsx(uo,{minWidth:r.toolBarCollapsed?350:550,minHeight:r.stepsCollapsed?450:650,maxWidth:900,maxHeight:1200,isVisible:n}),p.jsxs("div",{className:`bg-white rounded-lg shadow-lg border-2 border-purple-500 ${r.bypassed?"opacity-60 ring-2 ring-gray-400":""}`,children:[p.jsxs("div",{className:"bg-purple-500 text-white px-4 py-2 rounded-t-lg flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("input",{type:"text",value:r.title||"Agent Node",onChange:T=>s(e,{title:T.target.value}),className:"font-semibold text-lg bg-transparent border-none focus:outline-none text-white placeholder-purple-200",placeholder:"Agent Node"}),p.jsx("div",{className:"text-xs text-purple-100",children:"Multi-Step Reasoning Agent"})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>s(e,{bypassed:!r.bypassed}),className:`px-2 py-1 text-xs rounded transition-colors ${r.bypassed?"bg-gray-400 text-white":"bg-green-500 text-white hover:bg-green-600"}`,title:r.bypassed?"Node is bypassed - click to activate":"Node is active - click to bypass",children:r.bypassed?" Bypassed":" Active"}),p.jsx("span",{className:"px-2 py-1 bg-purple-600 text-white text-xs rounded-full font-medium",children:"Agent Mode"})]})]}),p.jsx(Wr,{children:!r.toolBarCollapsed&&p.jsxs(Or.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-b border-purple-200 bg-purple-50 p-3 overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("h3",{className:"text-sm font-semibold text-purple-700",children:[" Tools (",g.length,"/",xr.length,")"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>l(!0),className:"text-xs px-3 py-1 bg-purple-500 hover:bg-purple-600 text-white rounded transition-colors",children:"+ Add Tool"}),p.jsx("button",{onClick:()=>s(e,{toolBarCollapsed:!0}),className:"text-xs px-2 py-1 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded transition-colors",title:"Collapse tool bar",children:""})]})]}),g.length>0?p.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.jsx(Wr,{children:g.map(T=>p.jsx(Rx,{tool:T,enabled:!0,executing:r.isExecuting||!1,onToggle:()=>y(T.id),onConfigure:()=>f(T.id),compact:!0},T.id))})}):p.jsx("div",{className:"text-xs text-gray-500 text-center py-2",children:'No tools enabled. Click "+ Add Tool" to get started.'})]})}),r.toolBarCollapsed&&p.jsxs("div",{className:"border-b border-purple-200 bg-purple-50 p-2 flex items-center justify-between",children:[p.jsxs("span",{className:"text-xs text-purple-700",children:[" ",g.length," tool",g.length!==1?"s":""," enabled"]}),p.jsx("button",{onClick:()=>s(e,{toolBarCollapsed:!1}),className:"text-xs px-2 py-1 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded transition-colors",title:"Expand tool bar",children:""})]}),p.jsx("div",{className:"p-4",children:p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Provider"}),p.jsxs("select",{value:r.provider||"anthropic",onChange:T=>s(e,{provider:T.target.value}),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",children:[p.jsx("option",{value:"anthropic",children:"Anthropic (Claude)"}),p.jsx("option",{value:"openai",children:"OpenAI (GPT)"}),p.jsx("option",{value:"gemini",children:"Google (Gemini)"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Model"}),p.jsx("input",{type:"text",value:r.model||"claude-sonnet-4-5-20250929",onChange:T=>s(e,{model:T.target.value}),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",placeholder:"Model ID"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Temperature"}),p.jsx("input",{type:"number",value:r.temperature||.7,onChange:T=>s(e,{temperature:parseFloat(T.target.value)}),min:"0",max:"2",step:"0.1",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Max Reasoning Steps"}),p.jsx("input",{type:"number",value:r.maxAgentSteps||5,onChange:T=>s(e,{maxAgentSteps:parseInt(T.target.value)}),min:"1",max:"20",className:"w-full text-sm border border-gray-300 rounded px-2 py-1"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"System Prompt"}),p.jsx("textarea",{value:r.systemPrompt||"",onChange:T=>s(e,{systemPrompt:T.target.value}),className:"w-full text-sm border border-gray-300 rounded px-2 py-1 resize-y min-h-[60px]",placeholder:"You are an autonomous agent with access to tools. Think step-by-step and use tools to accomplish your goal..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"User Prompt (Task)"}),p.jsx("textarea",{value:r.userPrompt||"",onChange:T=>s(e,{userPrompt:T.target.value}),className:"w-full text-sm border border-gray-300 rounded px-2 py-1 resize-y min-h-[80px]",placeholder:`{{input}}

Analyze this data and provide insights...`})]})]})}),p.jsx(Wr,{children:!r.stepsCollapsed&&p.jsxs(Or.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-purple-200 p-3 bg-purple-50/30 overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Agent Reasoning"})]}),p.jsx("button",{onClick:()=>s(e,{stepsCollapsed:!0}),className:"text-xs px-2 py-1 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded transition-colors",title:"Collapse steps",children:""})]}),p.jsx(QF,{steps:C,currentStep:N,maxSteps:r.maxAgentSteps||5,isExecuting:r.isExecuting||!1})]})}),r.stepsCollapsed&&p.jsxs("div",{className:"border-t border-purple-200 bg-purple-50 p-2 flex items-center justify-between",children:[p.jsxs("span",{className:"text-xs text-purple-700",children:[" ",C.length," reasoning step",C.length!==1?"s":"",r.isExecuting&&" (executing...)"]}),p.jsx("button",{onClick:()=>s(e,{stepsCollapsed:!1}),className:"text-xs px-2 py-1 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded transition-colors",title:"Expand steps",children:""})]})]}),p.jsx(tn,{type:"target",position:Ze.Top,id:"input",className:"!w-4 !h-4 !bg-purple-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),p.jsx(tn,{type:"source",position:Ze.Bottom,id:"output",className:"!w-4 !h-4 !bg-purple-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),p.jsx(Wr,{children:b.map(({toolId:T,position:_})=>{const A=xr.find(O=>O.id===T),k=GT.includes(T);return p.jsx(Or.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},children:p.jsx(tn,{type:k?"target":"source",position:k?Ze.Left:Ze.Right,id:`tool-${T}`,className:"!w-3 !h-3 !bg-purple-400 !border-2 !border-white hover:!w-4 hover:!h-4 transition-all",style:{top:`${_}px`,zIndex:10},title:A?.displayName||T})},`handle-${T}`)})}),p.jsx(Wr,{children:a&&p.jsx(Md,{availableTools:xr,selectedToolIds:r.enabledTools||[],onToggle:y,onConfigure:T=>{f(T),l(!1)},onClose:()=>l(!1)})})]})});ek.displayName="AgentNode";function kc(e,t){return e.replace(/\{\{([^}]+)\}\}/g,(n,r)=>{const s=r.trim();if(t.variables[s])return t.variables[s];const l=s.split(".")[0],c=t.results.get(l);return c?c.metadata?.structuredData?JSON.stringify(c.metadata.structuredData,null,2):c.output:n})}const jc="";class Ac{static async getWebhookConfig(t){try{const n=await fetch(`${jc}/api/flows/${t}/webhook/config`);if(n.status===404)return null;if(!n.ok)throw new Error(`Failed to fetch webhook config: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Failed to fetch webhook config:",n),n}}static async saveWebhookConfig(t,n){try{const r=await fetch(`${jc}/api/flows/${t}/webhook/config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const s=await r.text();throw new Error(`Failed to save webhook config: ${s}`)}return await r.json()}catch(r){throw console.error("Failed to save webhook config:",r),r}}static async regenerateSecret(t){try{const n=await fetch(`${jc}/api/flows/${t}/webhook/secret`,{method:"POST"});if(!n.ok)throw new Error(`Failed to regenerate secret: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Failed to regenerate secret:",n),n}}static generateWebhookUrl(t,n,r){return`${r||jc}/api/webhooks/${n||t}/trigger`}static generateCurlCommand(t,n){const r=JSON.stringify({test:"data",message:"Hello from webhook"});return n?`#!/bin/bash
# Webhook Test Script
# Generated: ${new Date().toISOString()}
# URL: ${t}

WEBHOOK_SECRET="${n}"
PAYLOAD='${r}'

# Generate HMAC-SHA256 signature
SIGNATURE=$(echo -n "$PAYLOAD" | openssl dgst -sha256 -hmac "$WEBHOOK_SECRET" | sed 's/^.* //')

# Send webhook request
curl -X POST ${t} \\
  -H "Content-Type: application/json" \\
  -H "x-webhook-signature: sha256=$SIGNATURE" \\
  -d "$PAYLOAD"

# Alternative: Save as webhook-test.sh, chmod +x webhook-test.sh, ./webhook-test.sh`:`curl -X POST ${t} \\
  -H "Content-Type: application/json" \\
  -d '${r}'`}static generateWebhookTestPatterns(t,n){const r=JSON.stringify({test:"data",message:"Hello from webhook"});if(!n)return{bash:this.generateCurlCommand(t),oneliner:`curl -X POST ${t} -H "Content-Type: application/json" -d '${r}'`,json:JSON.stringify({url:t,payload:JSON.parse(r)},null,2),curl:this.generateCurlCommand(t)};const s=this.generateCurlCommand(t,n),a=`WEBHOOK_SECRET="${n}"; PAYLOAD='${r}'; SIGNATURE=$(echo -n "$PAYLOAD" | openssl dgst -sha256 -hmac "$WEBHOOK_SECRET" | sed 's/^.* //'); curl -X POST ${t} -H "Content-Type: application/json" -H "x-webhook-signature: sha256=$SIGNATURE" -d "$PAYLOAD"`,l=JSON.stringify({url:t,secret:n,payload:JSON.parse(r),headers:{"Content-Type":"application/json","x-webhook-signature":"sha256={HMAC-SHA256(payload, secret)}"},signatureGeneration:{algorithm:"HMAC-SHA256",input:"raw JSON payload string",secret:n,format:"sha256={hex_digest}"}},null,2);return{bash:s,oneliner:a,json:l,curl:s}}static async executeOutboundWebhook(t,n,r){const s=Date.now();try{if(!t.targetUrl)throw new Error("Target URL is required");const a=kc(t.targetUrl,n),l={};if(t.headers)for(const[g,y]of Object.entries(t.headers))l[g]=kc(y,n);t.authType==="bearer"&&t.authToken?l.Authorization=`Bearer ${kc(t.authToken,n)}`:t.authType==="api-key"&&t.authToken&&(l["X-API-Key"]=kc(t.authToken,n));let c;t.bodyTemplate&&(t.httpMethod==="POST"||t.httpMethod==="PUT"||t.httpMethod==="PATCH")&&(c=kc(t.bodyTemplate,n),!l["Content-Type"]&&!l["content-type"]&&(l["Content-Type"]="application/json"));const f=t.timeoutMs||3e4,h=new AbortController,m=setTimeout(()=>h.abort(),f);try{const g=await fetch(a,{method:t.httpMethod||"POST",headers:l,body:c,signal:h.signal});clearTimeout(m);const y=Date.now()-s,b=await g.text();let C=b;try{const N=JSON.parse(b);C=JSON.stringify(N,null,2)}catch{}return{nodeId:r,output:C,executedAt:new Date().toISOString(),metadata:{statusCode:g.status,statusText:g.statusText,duration:y,targetUrl:a,httpMethod:t.httpMethod||"POST",outputVariable:t.outputVariable||r}}}catch(g){throw clearTimeout(m),g.name==="AbortError"?new Error(`Request timeout after ${f}ms`):g}}catch(a){const l=Date.now()-s;return{nodeId:r,output:"",error:a.message||"Webhook execution failed",executedAt:new Date().toISOString(),metadata:{duration:l,targetUrl:t.targetUrl,httpMethod:t.httpMethod||"POST",outputVariable:t.outputVariable||r}}}}static async testWebhookTrigger(t,n){try{const r=await fetch(`${jc}/api/webhooks/${t}/trigger`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`Webhook trigger failed: ${r.statusText}`);return await r.json()}catch(r){throw console.error("Failed to test webhook:",r),r}}}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nB=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ZN=e=>{const t=nB(e);return t.charAt(0).toUpperCase()+t.slice(1)},tk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),rB=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=U.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...c},f)=>U.createElement("svg",{ref:f,...iB,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:tk("lucide",s),...!a&&!rB(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>U.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=(e,t)=>{const n=U.forwardRef(({className:r,...s},a)=>U.createElement(oB,{ref:a,iconNode:t,className:tk(`lucide-${tB(ZN(e))}`,`lucide-${e}`,r),...s}));return n.displayName=ZN(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],YN=Rr("check",sB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lB=Rr("circle-alert",aB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cB=Rr("circle-check-big",uB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fB=Rr("copy",dB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pB=Rr("download",hB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nk=Rr("eye-off",mB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rk=Rr("eye",gB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xB=Rr("key",yB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ik=Rr("plus",vB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wB=Rr("refresh-cw",bB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],NB=Rr("terminal",SB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ok=Rr("triangle-alert",_B);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],CB=Rr("upload",EB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xh=Rr("x",TB),sk=({id:e,data:t,selected:n})=>{const r=t,s=Ht(R=>R.updateNodeData),a=Ht(R=>R.currentFlowId);console.log("[WebhookInNode] RENDER",{nodeId:e,currentFlowId:a,"nodeData.flowId":r.flowId,"nodeData.webhookUrl":r.webhookUrl});const[l,c]=U.useState(!1),[f,h]=U.useState(!1),[m,g]=U.useState(!1),[y,b]=U.useState(!1),C=(R,z)=>{s(e,{[R]:z})};U.useEffect(()=>{if(console.log("[WebhookInNode] useEffect triggered",{currentFlowId:a,"nodeData.flowId":r.flowId,"nodeData.customPath":r.customPath,"nodeData.webhookUrl":r.webhookUrl,nodeId:e}),a){const R=Ac.generateWebhookUrl(a,r.customPath);console.log("[WebhookInNode] Expected URL:",R),r.flowId!==a||r.webhookUrl!==R?(console.log("[WebhookInNode] Updating node data with URL"),s(e,{flowId:a,webhookUrl:R})):console.log("[WebhookInNode] URL already matches, no update needed")}else console.log("[WebhookInNode] No currentFlowId - waiting for flow to be saved")},[a,r.flowId,r.customPath,r.webhookUrl,e,s]),U.useEffect(()=>{r.flowId&&!r.webhookSecret&&N()},[r.flowId]);const N=async()=>{if(r.flowId)try{b(!0);const R=await Ac.getWebhookConfig(r.flowId);R&&s(e,{webhookUrl:R.webhookUrl,webhookSecret:R.webhookSecret,isEnabled:R.enabled,maxRequestsPerMinute:R.maxRequestsPerMinute,allowedIPs:R.allowedIPs,requireSignature:R.requireSignature,lastTriggeredAt:R.lastTriggeredAt,triggerCount:R.triggerCount})}catch(R){console.error("Failed to load webhook config:",R)}finally{b(!1)}},T=async()=>{r.webhookUrl&&(await navigator.clipboard.writeText(r.webhookUrl),h(!0),setTimeout(()=>h(!1),2e3))},_=async()=>{if(r.webhookUrl){const R=Ac.generateCurlCommand(r.webhookUrl,r.webhookSecret);await navigator.clipboard.writeText(R),g(!0),setTimeout(()=>g(!1),2e3)}},A=async()=>{if(r.flowId&&confirm("Are you sure you want to regenerate the webhook secret? The old secret will no longer work."))try{b(!0);const R=await Ac.regenerateSecret(r.flowId);if(R&&R.config&&R.config.secret)s(e,{webhookSecret:R.config.secret}),alert("Secret regenerated successfully!");else throw new Error("Invalid response from server")}catch(R){console.error("Failed to regenerate secret:",R),alert("Failed to regenerate secret. Please try again.")}finally{b(!1)}},k=async()=>{if(console.log("[handleSaveConfig] Called",{flowId:r.flowId}),!r.flowId){console.log("[handleSaveConfig] No flowId - aborting");return}try{b(!0),console.log("[handleSaveConfig] Saving webhook config...",{enabled:r.isEnabled??!0,maxRequestsPerMinute:r.maxRequestsPerMinute??60,requireSignature:r.requireSignature??!0});const R=await Ac.saveWebhookConfig(r.flowId,{enabled:r.isEnabled??!0,maxRequestsPerMinute:r.maxRequestsPerMinute??60,allowedIPs:r.allowedIPs??[],requireSignature:r.requireSignature??!0,customPath:r.customPath||void 0});if(console.log("[handleSaveConfig] Received config from backend:",R),R&&R.config){const z=R.config;console.log("[handleSaveConfig] Updating node with config:",z),s(e,{webhookSecret:z.secret,isEnabled:z.enabled,maxRequestsPerMinute:z.maxRequestsPerMinute,allowedIPs:z.allowedIPs||[],requireSignature:z.requireSignature})}alert("Configuration saved successfully!")}catch(R){console.error("Failed to save config:",R),alert("Failed to save configuration. Please try again.")}finally{b(!1)}},O=R=>R?"".repeat(Math.min(R.length,32)):"";return p.jsxs(p.Fragment,{children:[p.jsx(uo,{minWidth:350,minHeight:300,isVisible:n}),p.jsxs("div",{className:`bg-white rounded-lg shadow-lg border-2 border-blue-400 p-4 min-w-[350px] ${r.bypassed?"opacity-60 ring-2 ring-gray-400":""}`,children:[p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsx("input",{type:"text",value:r.title||"Webhook Inbound",onChange:R=>C("title",R.target.value),className:"font-semibold text-lg border-none outline-none flex-1",placeholder:"Webhook Inbound"}),p.jsx("button",{onClick:()=>C("bypassed",!r.bypassed),className:`px-2 py-1 text-xs rounded transition-colors ${r.bypassed?"bg-gray-400 text-white":"bg-green-500 text-white hover:bg-green-600"}`,title:r.bypassed?"Node is bypassed - click to activate":"Node is active - click to bypass",children:r.bypassed?" Bypassed":" Active"})]}),p.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",e]})]}),p.jsxs("div",{className:"mb-3 pb-3 border-b border-gray-200",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Webhook URL"}),p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("input",{type:"text",value:r.webhookUrl||"",readOnly:!0,className:"flex-1 text-xs font-mono bg-gray-50 px-2 py-1 rounded border border-gray-300",placeholder:"Generating..."}),p.jsx("button",{onClick:T,className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Copy URL",disabled:!r.webhookUrl,children:f?p.jsx(YN,{className:"w-4 h-4 text-green-600"}):p.jsx(fB,{className:"w-4 h-4 text-gray-600"})}),p.jsx("button",{onClick:_,className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Copy cURL command",disabled:!r.webhookUrl,children:m?p.jsx(YN,{className:"w-4 h-4 text-green-600"}):p.jsx(NB,{className:"w-4 h-4 text-gray-600"})})]}),p.jsxs("div",{children:[p.jsx("input",{type:"text",value:r.customPath||"",onChange:R=>C("customPath",R.target.value),className:"w-full text-xs px-2 py-1 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Custom path (optional)"}),r.customPath&&p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Preview: /api/webhooks/",r.customPath,"/trigger"]})]})]}),p.jsxs("div",{className:"mb-3 pb-3 border-b border-gray-200",children:[p.jsx("div",{className:"flex items-center justify-between mb-2",children:p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:r.isEnabled??!0,onChange:R=>C("isEnabled",R.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enabled"})]})}),r.lastTriggeredAt&&p.jsxs("div",{className:"text-xs text-gray-500",children:["Last Triggered: ",new Date(r.lastTriggeredAt).toLocaleString()]}),r.triggerCount!==void 0&&p.jsxs("div",{className:"text-xs text-gray-500",children:["Trigger Count: ",r.triggerCount]})]}),p.jsxs("div",{className:"mb-3 pb-3 border-b border-gray-200",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security"}),p.jsxs("div",{className:"mb-2",children:[p.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Webhook Secret"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",value:l?r.webhookSecret||"":O(r.webhookSecret||""),readOnly:!0,className:"flex-1 text-xs font-mono bg-gray-50 px-2 py-1 rounded border border-gray-300",placeholder:"Not configured"}),p.jsx("button",{onClick:()=>c(!l),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:l?"Hide":"Show",disabled:!r.webhookSecret,children:l?p.jsx(nk,{className:"w-4 h-4 text-gray-600"}):p.jsx(rk,{className:"w-4 h-4 text-gray-600"})}),p.jsx("button",{onClick:A,className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Regenerate Secret",disabled:y||!r.flowId,children:p.jsx(wB,{className:`w-4 h-4 text-gray-600 ${y?"animate-spin":""}`})})]})]}),p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[p.jsx("input",{type:"checkbox",checked:r.requireSignature??!0,onChange:R=>C("requireSignature",R.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),p.jsx("span",{className:"text-xs text-gray-700",children:"Require HMAC Signature"})]})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Requests/Minute"}),p.jsx("input",{type:"number",value:r.maxRequestsPerMinute??60,onChange:R=>C("maxRequestsPerMinute",parseInt(R.target.value)),min:"1",max:"1000",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),p.jsx("div",{className:"mb-3",children:p.jsx("button",{onClick:k,disabled:y||!r.flowId,className:"w-full px-3 py-2 bg-blue-500 text-white text-sm font-medium rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:y?"Saving...":"Save Configuration"})}),p.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1 flex-wrap",children:[p.jsx("span",{children:"Reference using"}),p.jsx("span",{className:"font-mono",children:"{{"}),p.jsx("input",{type:"text",value:r.outputVariable||e,onChange:R=>C("outputVariable",R.target.value),className:"bg-white px-1 py-0.5 rounded border border-blue-300 font-mono min-w-[4ch] focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:e,style:{width:`${Math.max(4,(r.outputVariable||e).length)}ch`}}),p.jsx("span",{className:"font-mono",children:"}}"})]})]}),p.jsx(tn,{type:"source",position:Ze.Bottom,className:"!w-4 !h-4 !bg-blue-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}})]})};sk.displayName="WebhookInNode";const ak=U.memo(({id:e,data:t,selected:n})=>{const r=t,s=Ht(_=>_.updateNodeData),[a,l]=U.useState(!1),[c,f]=U.useState(""),[h,m]=U.useState(""),g=(_,A)=>{s(e,{[_]:A})},y=()=>{if(!c.trim())return;const _={...r.headers||{}};_[c.trim()]=h.trim(),g("headers",_),f(""),m("")},b=_=>{const A={...r.headers||{}};delete A[_],g("headers",A)},C=_=>_?"".repeat(Math.min(_.length,32)):"",N=["GET","POST","PUT","PATCH","DELETE"],T=[{value:"none",label:"None"},{value:"bearer",label:"Bearer Token"},{value:"api-key",label:"API Key"}];return p.jsxs(p.Fragment,{children:[p.jsx(uo,{minWidth:400,minHeight:400,isVisible:n}),p.jsxs("div",{className:`bg-white rounded-lg shadow-lg border-2 border-orange-400 p-4 min-w-[400px] ${r.bypassed?"opacity-60 ring-2 ring-gray-400":""}`,children:[p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsx("input",{type:"text",value:r.title||"Webhook Outbound",onChange:_=>g("title",_.target.value),className:"font-semibold text-lg border-none outline-none flex-1",placeholder:"Webhook Outbound"}),p.jsx("button",{onClick:()=>g("bypassed",!r.bypassed),className:`px-2 py-1 text-xs rounded transition-colors ${r.bypassed?"bg-gray-400 text-white":"bg-green-500 text-white hover:bg-green-600"}`,title:r.bypassed?"Node is bypassed - click to activate":"Node is active - click to bypass",children:r.bypassed?" Bypassed":" Active"})]}),p.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",e]})]}),p.jsxs("div",{className:"mb-3 pb-3 border-b border-gray-200",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target URL"}),p.jsx("input",{type:"text",value:r.targetUrl||"",onChange:_=>g("targetUrl",_.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-400",placeholder:"https://api.example.com/endpoint"})]}),p.jsxs("div",{className:"mb-3 pb-3 border-b border-gray-200",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HTTP Method"}),p.jsx("div",{className:"flex gap-2 flex-wrap",children:N.map(_=>p.jsx("button",{onClick:()=>g("httpMethod",_),className:`px-3 py-1 text-xs font-medium rounded transition-colors ${(r.httpMethod||"POST")===_?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_},_))})]}),p.jsxs("div",{className:"mb-3 pb-3 border-b border-gray-200",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Headers"}),r.headers&&Object.entries(r.headers).length>0&&p.jsx("div",{className:"mb-2 space-y-1",children:Object.entries(r.headers).map(([_,A])=>p.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[p.jsxs("span",{className:"font-mono text-gray-600 min-w-[100px]",children:[_,":"]}),p.jsx("span",{className:"font-mono text-gray-800 flex-1 truncate",children:A}),p.jsx("button",{onClick:()=>b(_),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:p.jsx(Xh,{className:"w-3 h-3 text-red-600"})})]},_))}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:c,onChange:_=>f(_.target.value),placeholder:"Header Key",className:"flex-1 px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-400"}),p.jsx("input",{type:"text",value:h,onChange:_=>m(_.target.value),placeholder:"Header Value",className:"flex-1 px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-400"}),p.jsx("button",{onClick:y,disabled:!c.trim(),className:"p-1 bg-orange-500 text-white rounded hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:p.jsx(ik,{className:"w-4 h-4"})})]})]}),(r.httpMethod==="POST"||r.httpMethod==="PUT"||r.httpMethod==="PATCH"||!r.httpMethod)&&p.jsxs("div",{className:"mb-3 pb-3 border-b border-gray-200",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Body Template"}),p.jsx("textarea",{value:r.bodyTemplate||"",onChange:_=>g("bodyTemplate",_.target.value),className:"w-full min-h-[100px] px-2 py-1 text-xs font-mono border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-400 resize-y",placeholder:`{
  "message": "{{input}}",
  "timestamp": "{{timestamp}}"
}`}),p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Use ","{{"," and ","}}","  for variable substitution"]})]}),p.jsxs("div",{className:"mb-3 pb-3 border-b border-gray-200",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Authentication"}),p.jsx("select",{value:r.authType||"none",onChange:_=>g("authType",_.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-400 mb-2",children:T.map(_=>p.jsx("option",{value:_.value,children:_.label},_.value))}),r.authType&&r.authType!=="none"&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",value:a?r.authToken||"":C(r.authToken||""),onChange:_=>g("authToken",_.target.value),className:"flex-1 px-2 py-1 text-xs font-mono border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-400",placeholder:r.authType==="bearer"?"Bearer token...":"API key..."}),p.jsx("button",{onClick:()=>l(!a),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:a?"Hide":"Show",children:a?p.jsx(nk,{className:"w-4 h-4 text-gray-600"}):p.jsx(rk,{className:"w-4 h-4 text-gray-600"})})]})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advanced Settings"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Retry Count"}),p.jsx("input",{type:"number",value:r.retryCount??3,onChange:_=>g("retryCount",parseInt(_.target.value)),min:"0",max:"10",className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-400"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Retry Delay (ms)"}),p.jsx("input",{type:"number",value:r.retryDelayMs??1e3,onChange:_=>g("retryDelayMs",parseInt(_.target.value)),min:"100",max:"60000",step:"100",className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-400"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Request Timeout (ms)"}),p.jsx("input",{type:"number",value:r.timeoutMs??3e4,onChange:_=>g("timeoutMs",parseInt(_.target.value)),min:"1000",max:"300000",step:"1000",className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-400"})]})]}),r.lastResponseStatus&&p.jsxs("div",{className:"mb-3 text-xs text-gray-500",children:["Last Response: ",r.lastResponseStatus," ",r.lastResponseTime&&`at ${new Date(r.lastResponseTime).toLocaleString()}`]}),p.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1 flex-wrap",children:[p.jsx("span",{children:"Reference using"}),p.jsx("span",{className:"font-mono",children:"{{"}),p.jsx("input",{type:"text",value:r.outputVariable||e,onChange:_=>g("outputVariable",_.target.value),className:"bg-white px-1 py-0.5 rounded border border-orange-300 font-mono min-w-[4ch] focus:outline-none focus:ring-2 focus:ring-orange-400",placeholder:e,style:{width:`${Math.max(4,(r.outputVariable||e).length)}ch`}}),p.jsx("span",{className:"font-mono",children:"}}"})]})]}),p.jsx(tn,{type:"target",position:Ze.Top,className:"!w-4 !h-4 !bg-orange-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}}),p.jsx(tn,{type:"source",position:Ze.Bottom,className:"!w-4 !h-4 !bg-orange-500 !border-2 !border-white hover:!w-5 hover:!h-5 transition-all",style:{zIndex:10}})]})});ak.displayName="WebhookOutNode";const kB={openai:KT,anthropic:XT,gemini:WT,notes:JT,python:$F,javascript:UF,"tool-augmented-llm":QT,agent:ek,"webhook-in":sk,"webhook-out":ak},jB=()=>{const e=(t,n)=>{t.dataTransfer.setData("application/reactflow",n),t.dataTransfer.effectAllowed="move"};return p.jsxs("aside",{className:"absolute top-12 left-4 z-10 bg-white rounded-lg shadow-lg p-4 w-64",children:[p.jsx("h3",{className:"font-semibold text-sm mb-3 text-gray-700",children:"Node Palette"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"border-2 border-purple-400 rounded-lg p-3 cursor-move hover:border-purple-600 hover:bg-purple-50 transition-colors",draggable:!0,onDragStart:t=>e(t,"anthropic"),children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-sm",children:"Anthropic"}),p.jsx("div",{className:"text-xs text-gray-500",children:"Claude + Tools "})]})]})}),p.jsx("div",{className:"border-2 border-blue-400 rounded-lg p-3 cursor-move hover:border-blue-600 hover:bg-blue-50 transition-colors",draggable:!0,onDragStart:t=>e(t,"openai"),children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-sm",children:"OpenAI"}),p.jsx("div",{className:"text-xs text-gray-500",children:"GPT + Tools "})]})]})}),p.jsx("div",{className:"border-2 border-green-400 rounded-lg p-3 cursor-move hover:border-green-600 hover:bg-green-50 transition-colors",draggable:!0,onDragStart:t=>e(t,"gemini"),children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-sm",children:"Google Gemini"}),p.jsx("div",{className:"text-xs text-gray-500",children:"Gemini + Tools "})]})]})}),p.jsx("div",{className:"border-2 border-yellow-400 rounded-lg p-3 cursor-move hover:border-yellow-600 hover:bg-yellow-50 transition-colors",draggable:!0,onDragStart:t=>e(t,"notes"),children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-sm",children:"Notes"}),p.jsx("div",{className:"text-xs text-gray-500",children:"Documentation"})]})]})}),p.jsx("div",{className:"border-2 border-purple-500 rounded-lg p-3 cursor-move hover:border-purple-700 hover:bg-purple-50 transition-colors",draggable:!0,onDragStart:t=>e(t,"python"),children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-sm",children:"Python Code"}),p.jsx("div",{className:"text-xs text-gray-500",children:"Pyodide runtime"})]})]})}),p.jsx("div",{className:"border-2 border-yellow-500 rounded-lg p-3 cursor-move hover:border-yellow-700 hover:bg-yellow-50 transition-colors",draggable:!0,onDragStart:t=>e(t,"javascript"),children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-sm",children:"JavaScript Code"}),p.jsx("div",{className:"text-xs text-gray-500",children:"Native runtime"})]})]})}),p.jsx("div",{className:"border-2 border-purple-500 rounded-lg p-3 cursor-move hover:border-purple-700 hover:bg-purple-50 transition-colors",draggable:!0,onDragStart:t=>e(t,"agent"),children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-sm",children:"Agent (Multi-Step)"}),p.jsx("div",{className:"text-xs text-gray-500",children:"Autonomous reasoning"})]})]})}),p.jsx("div",{className:"border-2 border-blue-400 rounded-lg p-3 cursor-move hover:border-blue-600 hover:bg-blue-50 transition-colors",draggable:!0,onDragStart:t=>e(t,"webhook-in"),children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-sm",children:"Webhook Inbound"}),p.jsx("div",{className:"text-xs text-gray-500",children:"Trigger via HTTP"})]})]})}),p.jsx("div",{className:"border-2 border-orange-400 rounded-lg p-3 cursor-move hover:border-orange-600 hover:bg-orange-50 transition-colors",draggable:!0,onDragStart:t=>e(t,"webhook-out"),children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-sm",children:"Webhook Outbound"}),p.jsx("div",{className:"text-xs text-gray-500",children:"POST to external APIs"})]})]})})]}),p.jsx("div",{className:"mt-4 pt-3 border-t text-xs text-gray-500",children:"Drag nodes onto the canvas to add them"})]})};function Me(e,t,n){function r(c,f){var h;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(h=c._zod).traits??(h.traits=new Set),c._zod.traits.add(e),t(c,f);for(const m in l.prototype)m in c||Object.defineProperty(c,m,{value:l.prototype[m].bind(c)});c._zod.constr=l,c._zod.def=f}const s=n?.Parent??Object;class a extends s{}Object.defineProperty(a,"name",{value:e});function l(c){var f;const h=n?.Parent?new a:this;r(h,c),(f=h._zod).deferred??(f.deferred=[]);for(const m of h._zod.deferred)m();return h}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class nu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class lk extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const uk={};function qs(e){return uk}function AB(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function c0(e,t){return typeof t=="bigint"?t.toString():t}function Ix(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Lx(e){return e==null}function Fx(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function MB(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f?.[1]&&(s=Number.parseInt(f[1]))}const a=n>s?n:s,l=Number.parseInt(e.toFixed(a).replace(".","")),c=Number.parseInt(t.toFixed(a).replace(".",""));return l%c/10**a}const GN=Symbol("evaluating");function Yt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==GN)return r===void 0&&(r=GN,r=n()),r},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Va(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function $a(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function KN(e){return JSON.stringify(e)}const ck="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Wh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const OB=Ix(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function pu(e){if(Wh(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Wh(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function dk(e){return pu(e)?{...e}:Array.isArray(e)?[...e]:e}const DB=new Set(["string","number","symbol"]);function wp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ks(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function it(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function zB(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const RB={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function PB(e,t){const n=e._zod.def,r=$a(e._zod.def,{get shape(){const s={};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(s[a]=n.shape[a])}return Va(this,"shape",s),s},checks:[]});return Ks(e,r)}function IB(e,t){const n=e._zod.def,r=$a(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete s[a]}return Va(this,"shape",s),s},checks:[]});return Ks(e,r)}function LB(e,t){if(!pu(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=$a(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Va(this,"shape",a),a},checks:[]});return Ks(e,s)}function FB(e,t){if(!pu(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Va(this,"shape",r),r},checks:e._zod.def.checks};return Ks(e,n)}function BB(e,t){const n=$a(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Va(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Ks(e,n)}function VB(e,t,n){const r=$a(t._zod.def,{get shape(){const s=t._zod.def.shape,a={...s};if(n)for(const l in n){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=e?new e({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)a[l]=e?new e({type:"optional",innerType:s[l]}):s[l];return Va(this,"shape",a),a},checks:[]});return Ks(t,r)}function $B(e,t,n){const r=$a(t._zod.def,{get shape(){const s=t._zod.def.shape,a={...s};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=new e({type:"nonoptional",innerType:s[l]}))}else for(const l in s)a[l]=new e({type:"nonoptional",innerType:s[l]});return Va(this,"shape",a),a},checks:[]});return Ks(t,r)}function Wl(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Jl(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function sh(e){return typeof e=="string"?e:e?.message}function Zs(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const s=sh(e.inst?._zod.def?.error?.(e))??sh(t?.error?.(e))??sh(n.customError?.(e))??sh(n.localeError?.(e))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Bx(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function xd(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const fk=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,c0,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},hk=Me("$ZodError",fk),pk=Me("$ZodError",fk,{Parent:Error});function HB(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function UB(e,t=n=>n.message){const n={_errors:[]},r=s=>{for(const a of s.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>r({issues:l}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)n._errors.push(t(a));else{let l=n,c=0;for(;c<a.path.length;){const f=a.path[c];c===a.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(t(a))):l[f]=l[f]||{_errors:[]},l=l[f],c++}}};return r(e),n}const Vx=e=>(t,n,r,s)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new nu;if(l.issues.length){const c=new(s?.Err??e)(l.issues.map(f=>Zs(f,a,qs())));throw ck(c,s?.callee),c}return l.value},$x=e=>async(t,n,r,s)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new(s?.Err??e)(l.issues.map(f=>Zs(f,a,qs())));throw ck(c,s?.callee),c}return l.value},Sp=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new nu;return a.issues.length?{success:!1,error:new(e??hk)(a.issues.map(l=>Zs(l,s,qs())))}:{success:!0,data:a.value}},qB=Sp(pk),Np=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},s);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(l=>Zs(l,s,qs())))}:{success:!0,data:a.value}},ZB=Np(pk),YB=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Vx(e)(t,n,s)},GB=e=>(t,n,r)=>Vx(e)(t,n,r),KB=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return $x(e)(t,n,s)},XB=e=>async(t,n,r)=>$x(e)(t,n,r),WB=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Sp(e)(t,n,s)},JB=e=>(t,n,r)=>Sp(e)(t,n,r),QB=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Np(e)(t,n,s)},eV=e=>async(t,n,r)=>Np(e)(t,n,r),tV=/^[cC][^\s-]{8,}$/,nV=/^[0-9a-z]+$/,rV=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,iV=/^[0-9a-vA-V]{20}$/,oV=/^[A-Za-z0-9]{27}$/,sV=/^[a-zA-Z0-9_-]{21}$/,aV=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,lV=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,XN=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,uV=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,cV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function dV(){return new RegExp(cV,"u")}const fV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,pV=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,mV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gV=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,mk=/^[A-Za-z0-9_-]*$/,yV=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,xV=/^\+(?:[0-9]){6,14}[0-9]$/,gk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",vV=new RegExp(`^${gk}$`);function yk(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function bV(e){return new RegExp(`^${yk(e)}$`)}function wV(e){const t=yk({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${gk}T(?:${r})$`)}const SV=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},NV=/^-?\d+$/,_V=/^-?\d+(?:\.\d+)?/,EV=/^(?:true|false)$/i,CV=/^[^A-Z]*$/,TV=/^[^a-z]*$/,Pr=Me("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),xk={number:"number",bigint:"bigint",object:"date"},vk=Me("$ZodCheckLessThan",(e,t)=>{Pr.init(e,t);const n=xk[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,a=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),bk=Me("$ZodCheckGreaterThan",(e,t)=>{Pr.init(e,t);const n=xk[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,a=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),kV=Me("$ZodCheckMultipleOf",(e,t)=>{Pr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):MB(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),jV=Me("$ZodCheckNumberFormat",(e,t)=>{Pr.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[s,a]=RB[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=s,c.maximum=a,n&&(c.pattern=NV)}),e._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}c<s&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),c>a&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:a,inst:e})}}),AV=Me("$ZodCheckMaxLength",(e,t)=>{var n;Pr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Lx(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const l=Bx(s);r.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),MV=Me("$ZodCheckMinLength",(e,t)=>{var n;Pr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Lx(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const l=Bx(s);r.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),OV=Me("$ZodCheckLengthEquals",(e,t)=>{var n;Pr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Lx(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,a=s.length;if(a===t.length)return;const l=Bx(s),c=a>t.length;r.issues.push({origin:l,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),_p=Me("$ZodCheckStringFormat",(e,t)=>{var n,r;Pr.init(e,t),e._zod.onattach.push(s=>{const a=s._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),DV=Me("$ZodCheckRegex",(e,t)=>{_p.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),zV=Me("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=CV),_p.init(e,t)}),RV=Me("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=TV),_p.init(e,t)}),PV=Me("$ZodCheckIncludes",(e,t)=>{Pr.init(e,t);const n=wp(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),IV=Me("$ZodCheckStartsWith",(e,t)=>{Pr.init(e,t);const n=new RegExp(`^${wp(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),LV=Me("$ZodCheckEndsWith",(e,t)=>{Pr.init(e,t);const n=new RegExp(`.*${wp(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),FV=Me("$ZodCheckOverwrite",(e,t)=>{Pr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class BV{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(l=>l),s=Math.min(...r.map(l=>l.length-l.trimStart().length)),a=r.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const t=Function,n=this?.args,s=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...n,s.join(`
`))}}const VV={major:4,minor:1,patch:12},pn=Me("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=VV;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const a of s._zod.onattach)a(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(l,c,f)=>{let h=Wl(l),m;for(const g of c){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(h)continue;const y=l.issues.length,b=g._zod.check(l);if(b instanceof Promise&&f?.async===!1)throw new nu;if(m||b instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await b,l.issues.length!==y&&(h||(h=Wl(l,y)))});else{if(l.issues.length===y)continue;h||(h=Wl(l,y))}}return m?m.then(()=>l):l},a=(l,c,f)=>{if(Wl(l))return l.aborted=!0,l;const h=s(c,r,f);if(h instanceof Promise){if(f.async===!1)throw new nu;return h.then(m=>e._zod.parse(m,f))}return e._zod.parse(h,f)};e._zod.run=(l,c)=>{if(c.skipChecks)return e._zod.parse(l,c);if(c.direction==="backward"){const h=e._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return h instanceof Promise?h.then(m=>a(m,l,c)):a(h,l,c)}const f=e._zod.parse(l,c);if(f instanceof Promise){if(c.async===!1)throw new nu;return f.then(h=>s(h,r,c))}return s(f,r,c)}}e["~standard"]={validate:s=>{try{const a=qB(e,s);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return ZB(e,s).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),Hx=Me("$ZodString",(e,t)=>{pn.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??SV(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),an=Me("$ZodStringFormat",(e,t)=>{_p.init(e,t),Hx.init(e,t)}),$V=Me("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=lV),an.init(e,t)}),HV=Me("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=XN(r))}else t.pattern??(t.pattern=XN());an.init(e,t)}),UV=Me("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=uV),an.init(e,t)}),qV=Me("$ZodURL",(e,t)=>{an.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:yV.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),ZV=Me("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=dV()),an.init(e,t)}),YV=Me("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=sV),an.init(e,t)}),GV=Me("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=tV),an.init(e,t)}),KV=Me("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=nV),an.init(e,t)}),XV=Me("$ZodULID",(e,t)=>{t.pattern??(t.pattern=rV),an.init(e,t)}),WV=Me("$ZodXID",(e,t)=>{t.pattern??(t.pattern=iV),an.init(e,t)}),JV=Me("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=oV),an.init(e,t)}),QV=Me("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=wV(t)),an.init(e,t)}),e$=Me("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=vV),an.init(e,t)}),t$=Me("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=bV(t)),an.init(e,t)}),n$=Me("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=aV),an.init(e,t)}),r$=Me("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=fV),an.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),i$=Me("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=hV),an.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),o$=Me("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=pV),an.init(e,t)}),s$=Me("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=mV),an.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,a]=r;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function wk(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const a$=Me("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=gV),an.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{wk(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function l$(e){if(!mk.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return wk(n)}const u$=Me("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=mk),an.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{l$(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),c$=Me("$ZodE164",(e,t)=>{t.pattern??(t.pattern=xV),an.init(e,t)});function d$(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const f$=Me("$ZodJWT",(e,t)=>{an.init(e,t),e._zod.check=n=>{d$(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Sk=Me("$ZodNumber",(e,t)=>{pn.init(e,t),e._zod.pattern=e._zod.bag.pattern??_V,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const a=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...a?{received:a}:{}}),n}}),h$=Me("$ZodNumber",(e,t)=>{jV.init(e,t),Sk.init(e,t)}),p$=Me("$ZodBoolean",(e,t)=>{pn.init(e,t),e._zod.pattern=EV,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),m$=Me("$ZodAny",(e,t)=>{pn.init(e,t),e._zod.parse=n=>n}),g$=Me("$ZodUnknown",(e,t)=>{pn.init(e,t),e._zod.parse=n=>n}),y$=Me("$ZodNever",(e,t)=>{pn.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function WN(e,t,n){e.issues.length&&t.issues.push(...Jl(n,e.issues)),t.value[n]=e.value}const x$=Me("$ZodArray",(e,t)=>{pn.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const a=[];for(let l=0;l<s.length;l++){const c=s[l],f=t.element._zod.run({value:c,issues:[]},r);f instanceof Promise?a.push(f.then(h=>WN(h,n,l))):WN(f,n,l)}return a.length?Promise.all(a).then(()=>n):n}});function Jh(e,t,n,r){e.issues.length&&t.issues.push(...Jl(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Nk(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=zB(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function _k(e,t,n,r,s,a){const l=[],c=s.keySet,f=s.catchall._zod,h=f.def.type;for(const m of Object.keys(t)){if(c.has(m))continue;if(h==="never"){l.push(m);continue}const g=f.run({value:t[m],issues:[]},r);g instanceof Promise?e.push(g.then(y=>Jh(y,n,m,t))):Jh(g,n,m,t)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const v$=Me("$ZodObject",(e,t)=>{if(pn.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...c};return Object.defineProperty(t,"shape",{value:f}),f}})}const r=Ix(()=>Nk(t));Yt(e._zod,"propValues",()=>{const c=t.shape,f={};for(const h in c){const m=c[h]._zod;if(m.values){f[h]??(f[h]=new Set);for(const g of m.values)f[h].add(g)}}return f});const s=Wh,a=t.catchall;let l;e._zod.parse=(c,f)=>{l??(l=r.value);const h=c.value;if(!s(h))return c.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),c;c.value={};const m=[],g=l.shape;for(const y of l.keys){const C=g[y]._zod.run({value:h[y],issues:[]},f);C instanceof Promise?m.push(C.then(N=>Jh(N,c,y,h))):Jh(C,c,y,h)}return a?_k(m,h,c,f,r.value,e):m.length?Promise.all(m).then(()=>c):c}}),b$=Me("$ZodObjectJIT",(e,t)=>{v$.init(e,t);const n=e._zod.parse,r=Ix(()=>Nk(t)),s=y=>{const b=new BV(["shape","payload","ctx"]),C=r.value,N=k=>{const O=KN(k);return`shape[${O}]._zod.run({ value: input[${O}], issues: [] }, ctx)`};b.write("const input = payload.value;");const T=Object.create(null);let _=0;for(const k of C.keys)T[k]=`key_${_++}`;b.write("const newResult = {};");for(const k of C.keys){const O=T[k],R=KN(k);b.write(`const ${O} = ${N(k)};`),b.write(`
        if (${O}.issues.length) {
          payload.issues = payload.issues.concat(${O}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${R}, ...iss.path] : [${R}]
          })));
        }
        
        
        if (${O}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${O}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const A=b.compile();return(k,O)=>A(y,k,O)};let a;const l=Wh,c=!uk.jitless,h=c&&OB.value,m=t.catchall;let g;e._zod.parse=(y,b)=>{g??(g=r.value);const C=y.value;return l(C)?c&&h&&b?.async===!1&&b.jitless!==!0?(a||(a=s(t.shape)),y=a(y,b),m?_k([],C,y,b,g,e):y):n(y,b):(y.issues.push({expected:"object",code:"invalid_type",input:C,inst:e}),y)}});function JN(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const s=e.filter(a=>!Wl(a));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(l=>Zs(l,r,qs())))}),t)}const w$=Me("$ZodUnion",(e,t)=>{pn.init(e,t),Yt(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Yt(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Yt(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),Yt(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${s.map(a=>Fx(a.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(s,a)=>{if(n)return r(s,a);let l=!1;const c=[];for(const f of t.options){const h=f._zod.run({value:s.value,issues:[]},a);if(h instanceof Promise)c.push(h),l=!0;else{if(h.issues.length===0)return h;c.push(h)}}return l?Promise.all(c).then(f=>JN(f,s,e,a)):JN(c,s,e,a)}}),S$=Me("$ZodIntersection",(e,t)=>{pn.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,a=t.left._zod.run({value:s,issues:[]},r),l=t.right._zod.run({value:s,issues:[]},r);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([f,h])=>QN(n,f,h)):QN(n,a,l)}});function d0(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(pu(e)&&pu(t)){const n=Object.keys(t),r=Object.keys(e).filter(a=>n.indexOf(a)!==-1),s={...e,...t};for(const a of r){const l=d0(e[a],t[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};s[a]=l.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r],l=d0(s,a);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function QN(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Wl(e))return e;const r=d0(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const N$=Me("$ZodRecord",(e,t)=>{pn.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!pu(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const a=[];if(t.keyType._zod.values){const l=t.keyType._zod.values;n.value={};for(const f of l)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){const h=t.valueType._zod.run({value:s[f],issues:[]},r);h instanceof Promise?a.push(h.then(m=>{m.issues.length&&n.issues.push(...Jl(f,m.issues)),n.value[f]=m.value})):(h.issues.length&&n.issues.push(...Jl(f,h.issues)),n.value[f]=h.value)}let c;for(const f in s)l.has(f)||(c=c??[],c.push(f));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:c})}else{n.value={};for(const l of Reflect.ownKeys(s)){if(l==="__proto__")continue;const c=t.keyType._zod.run({value:l,issues:[]},r);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(h=>Zs(h,r,qs())),input:l,path:[l],inst:e}),n.value[c.value]=c.value;continue}const f=t.valueType._zod.run({value:s[l],issues:[]},r);f instanceof Promise?a.push(f.then(h=>{h.issues.length&&n.issues.push(...Jl(l,h.issues)),n.value[c.value]=h.value})):(f.issues.length&&n.issues.push(...Jl(l,f.issues)),n.value[c.value]=f.value)}}return a.length?Promise.all(a).then(()=>n):n}}),_$=Me("$ZodEnum",(e,t)=>{pn.init(e,t);const n=AB(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(s=>DB.has(typeof s)).map(s=>typeof s=="string"?wp(s):s.toString()).join("|")})$`),e._zod.parse=(s,a)=>{const l=s.value;return r.has(l)||s.issues.push({code:"invalid_value",values:n,input:l,inst:e}),s}}),E$=Me("$ZodTransform",(e,t)=>{pn.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new lk(e.constructor.name);const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(n.value=l,n));if(s instanceof Promise)throw new nu;return n.value=s,n}});function e_(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const C$=Me("$ZodOptional",(e,t)=>{pn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Yt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Yt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Fx(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>e_(a,n.value)):e_(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),T$=Me("$ZodNullable",(e,t)=>{pn.init(e,t),Yt(e._zod,"optin",()=>t.innerType._zod.optin),Yt(e._zod,"optout",()=>t.innerType._zod.optout),Yt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Fx(n.source)}|null)$`):void 0}),Yt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),k$=Me("$ZodDefault",(e,t)=>{pn.init(e,t),e._zod.optin="optional",Yt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>t_(a,t)):t_(s,t)}});function t_(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const j$=Me("$ZodPrefault",(e,t)=>{pn.init(e,t),e._zod.optin="optional",Yt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),A$=Me("$ZodNonOptional",(e,t)=>{pn.init(e,t),Yt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>n_(a,e)):n_(s,e)}});function n_(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const M$=Me("$ZodCatch",(e,t)=>{pn.init(e,t),Yt(e._zod,"optin",()=>t.innerType._zod.optin),Yt(e._zod,"optout",()=>t.innerType._zod.optout),Yt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(l=>Zs(l,r,qs()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(a=>Zs(a,r,qs()))},input:n.value}),n.issues=[]),n)}}),O$=Me("$ZodPipe",(e,t)=>{pn.init(e,t),Yt(e._zod,"values",()=>t.in._zod.values),Yt(e._zod,"optin",()=>t.in._zod.optin),Yt(e._zod,"optout",()=>t.out._zod.optout),Yt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const a=t.out._zod.run(n,r);return a instanceof Promise?a.then(l=>ah(l,t.in,r)):ah(a,t.in,r)}const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(a=>ah(a,t.out,r)):ah(s,t.out,r)}});function ah(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const D$=Me("$ZodReadonly",(e,t)=>{pn.init(e,t),Yt(e._zod,"propValues",()=>t.innerType._zod.propValues),Yt(e._zod,"values",()=>t.innerType._zod.values),Yt(e._zod,"optin",()=>t.innerType._zod.optin),Yt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(r_):r_(s)}});function r_(e){return e.value=Object.freeze(e.value),e}const z$=Me("$ZodCustom",(e,t)=>{Pr.init(e,t),pn.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(a=>i_(a,n,r,e));i_(s,n,r,e)}});function i_(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(xd(s))}}class R${constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function P$(){return new R$}const lh=P$();function I$(e,t){return new e({type:"string",...it(t)})}function L$(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...it(t)})}function o_(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...it(t)})}function F$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...it(t)})}function B$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...it(t)})}function V$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...it(t)})}function $$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...it(t)})}function H$(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...it(t)})}function U$(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...it(t)})}function q$(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...it(t)})}function Z$(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...it(t)})}function Y$(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...it(t)})}function G$(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...it(t)})}function K$(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...it(t)})}function X$(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...it(t)})}function W$(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...it(t)})}function J$(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...it(t)})}function Q$(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...it(t)})}function eH(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...it(t)})}function tH(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...it(t)})}function nH(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...it(t)})}function rH(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...it(t)})}function iH(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...it(t)})}function oH(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...it(t)})}function sH(e,t){return new e({type:"string",format:"date",check:"string_format",...it(t)})}function aH(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...it(t)})}function lH(e,t){return new e({type:"string",format:"duration",check:"string_format",...it(t)})}function uH(e,t){return new e({type:"number",checks:[],...it(t)})}function cH(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...it(t)})}function dH(e,t){return new e({type:"boolean",...it(t)})}function fH(e){return new e({type:"any"})}function hH(e){return new e({type:"unknown"})}function pH(e,t){return new e({type:"never",...it(t)})}function s_(e,t){return new vk({check:"less_than",...it(t),value:e,inclusive:!1})}function ry(e,t){return new vk({check:"less_than",...it(t),value:e,inclusive:!0})}function a_(e,t){return new bk({check:"greater_than",...it(t),value:e,inclusive:!1})}function iy(e,t){return new bk({check:"greater_than",...it(t),value:e,inclusive:!0})}function l_(e,t){return new kV({check:"multiple_of",...it(t),value:e})}function Ek(e,t){return new AV({check:"max_length",...it(t),maximum:e})}function Qh(e,t){return new MV({check:"min_length",...it(t),minimum:e})}function Ck(e,t){return new OV({check:"length_equals",...it(t),length:e})}function mH(e,t){return new DV({check:"string_format",format:"regex",...it(t),pattern:e})}function gH(e){return new zV({check:"string_format",format:"lowercase",...it(e)})}function yH(e){return new RV({check:"string_format",format:"uppercase",...it(e)})}function xH(e,t){return new PV({check:"string_format",format:"includes",...it(t),includes:e})}function vH(e,t){return new IV({check:"string_format",format:"starts_with",...it(t),prefix:e})}function bH(e,t){return new LV({check:"string_format",format:"ends_with",...it(t),suffix:e})}function Od(e){return new FV({check:"overwrite",tx:e})}function wH(e){return Od(t=>t.normalize(e))}function SH(){return Od(e=>e.trim())}function NH(){return Od(e=>e.toLowerCase())}function _H(){return Od(e=>e.toUpperCase())}function EH(e,t,n){return new e({type:"array",element:t,...it(n)})}function CH(e,t,n){return new e({type:"custom",check:"custom",fn:t,...it(n)})}function TH(e){const t=kH(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(xd(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(xd(s))}},e(n.value,n)));return t}function kH(e,t){const n=new Pr({check:"custom",...it(t)});return n._zod.check=e,n}const jH=Me("ZodISODateTime",(e,t)=>{QV.init(e,t),mn.init(e,t)});function AH(e){return oH(jH,e)}const MH=Me("ZodISODate",(e,t)=>{e$.init(e,t),mn.init(e,t)});function OH(e){return sH(MH,e)}const DH=Me("ZodISOTime",(e,t)=>{t$.init(e,t),mn.init(e,t)});function zH(e){return aH(DH,e)}const RH=Me("ZodISODuration",(e,t)=>{n$.init(e,t),mn.init(e,t)});function PH(e){return lH(RH,e)}const Tk=(e,t)=>{hk.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>UB(e,n)},flatten:{value:n=>HB(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,c0,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,c0,2)}},isEmpty:{get(){return e.issues.length===0}}})},IH=Me("ZodError",Tk),Ei=Me("ZodError",Tk,{Parent:Error}),LH=Vx(Ei),FH=$x(Ei),BH=Sp(Ei),VH=Np(Ei),$H=YB(Ei),HH=GB(Ei),UH=KB(Ei),qH=XB(Ei),ZH=WB(Ei),YH=JB(Ei),GH=QB(Ei),KH=eV(Ei),Sn=Me("ZodType",(e,t)=>(pn.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone($a(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>Ks(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>LH(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>BH(e,n,r),e.parseAsync=async(n,r)=>FH(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>VH(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>$H(e,n,r),e.decode=(n,r)=>HH(e,n,r),e.encodeAsync=async(n,r)=>UH(e,n,r),e.decodeAsync=async(n,r)=>qH(e,n,r),e.safeEncode=(n,r)=>ZH(e,n,r),e.safeDecode=(n,r)=>YH(e,n,r),e.safeEncodeAsync=async(n,r)=>GH(e,n,r),e.safeDecodeAsync=async(n,r)=>KH(e,n,r),e.refine=(n,r)=>e.check($U(n,r)),e.superRefine=n=>e.check(HU(n)),e.overwrite=n=>e.check(Od(n)),e.optional=()=>f_(e),e.nullable=()=>h_(e),e.nullish=()=>f_(h_(e)),e.nonoptional=n=>RU(e,n),e.array=()=>mu(e),e.or=n=>NU([e,n]),e.and=n=>EU(e,n),e.transform=n=>p_(e,jU(n)),e.default=n=>OU(e,n),e.prefault=n=>zU(e,n),e.catch=n=>IU(e,n),e.pipe=n=>p_(e,n),e.readonly=()=>BU(e),e.describe=n=>{const r=e.clone();return lh.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return lh.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return lh.get(e);const r=e.clone();return lh.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),kk=Me("_ZodString",(e,t)=>{Hx.init(e,t),Sn.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(mH(...r)),e.includes=(...r)=>e.check(xH(...r)),e.startsWith=(...r)=>e.check(vH(...r)),e.endsWith=(...r)=>e.check(bH(...r)),e.min=(...r)=>e.check(Qh(...r)),e.max=(...r)=>e.check(Ek(...r)),e.length=(...r)=>e.check(Ck(...r)),e.nonempty=(...r)=>e.check(Qh(1,...r)),e.lowercase=r=>e.check(gH(r)),e.uppercase=r=>e.check(yH(r)),e.trim=()=>e.check(SH()),e.normalize=(...r)=>e.check(wH(...r)),e.toLowerCase=()=>e.check(NH()),e.toUpperCase=()=>e.check(_H())}),XH=Me("ZodString",(e,t)=>{Hx.init(e,t),kk.init(e,t),e.email=n=>e.check(L$(WH,n)),e.url=n=>e.check(H$(JH,n)),e.jwt=n=>e.check(iH(hU,n)),e.emoji=n=>e.check(U$(QH,n)),e.guid=n=>e.check(o_(u_,n)),e.uuid=n=>e.check(F$(uh,n)),e.uuidv4=n=>e.check(B$(uh,n)),e.uuidv6=n=>e.check(V$(uh,n)),e.uuidv7=n=>e.check($$(uh,n)),e.nanoid=n=>e.check(q$(eU,n)),e.guid=n=>e.check(o_(u_,n)),e.cuid=n=>e.check(Z$(tU,n)),e.cuid2=n=>e.check(Y$(nU,n)),e.ulid=n=>e.check(G$(rU,n)),e.base64=n=>e.check(tH(cU,n)),e.base64url=n=>e.check(nH(dU,n)),e.xid=n=>e.check(K$(iU,n)),e.ksuid=n=>e.check(X$(oU,n)),e.ipv4=n=>e.check(W$(sU,n)),e.ipv6=n=>e.check(J$(aU,n)),e.cidrv4=n=>e.check(Q$(lU,n)),e.cidrv6=n=>e.check(eH(uU,n)),e.e164=n=>e.check(rH(fU,n)),e.datetime=n=>e.check(AH(n)),e.date=n=>e.check(OH(n)),e.time=n=>e.check(zH(n)),e.duration=n=>e.check(PH(n))});function en(e){return I$(XH,e)}const mn=Me("ZodStringFormat",(e,t)=>{an.init(e,t),kk.init(e,t)}),WH=Me("ZodEmail",(e,t)=>{UV.init(e,t),mn.init(e,t)}),u_=Me("ZodGUID",(e,t)=>{$V.init(e,t),mn.init(e,t)}),uh=Me("ZodUUID",(e,t)=>{HV.init(e,t),mn.init(e,t)}),JH=Me("ZodURL",(e,t)=>{qV.init(e,t),mn.init(e,t)}),QH=Me("ZodEmoji",(e,t)=>{ZV.init(e,t),mn.init(e,t)}),eU=Me("ZodNanoID",(e,t)=>{YV.init(e,t),mn.init(e,t)}),tU=Me("ZodCUID",(e,t)=>{GV.init(e,t),mn.init(e,t)}),nU=Me("ZodCUID2",(e,t)=>{KV.init(e,t),mn.init(e,t)}),rU=Me("ZodULID",(e,t)=>{XV.init(e,t),mn.init(e,t)}),iU=Me("ZodXID",(e,t)=>{WV.init(e,t),mn.init(e,t)}),oU=Me("ZodKSUID",(e,t)=>{JV.init(e,t),mn.init(e,t)}),sU=Me("ZodIPv4",(e,t)=>{r$.init(e,t),mn.init(e,t)}),aU=Me("ZodIPv6",(e,t)=>{i$.init(e,t),mn.init(e,t)}),lU=Me("ZodCIDRv4",(e,t)=>{o$.init(e,t),mn.init(e,t)}),uU=Me("ZodCIDRv6",(e,t)=>{s$.init(e,t),mn.init(e,t)}),cU=Me("ZodBase64",(e,t)=>{a$.init(e,t),mn.init(e,t)}),dU=Me("ZodBase64URL",(e,t)=>{u$.init(e,t),mn.init(e,t)}),fU=Me("ZodE164",(e,t)=>{c$.init(e,t),mn.init(e,t)}),hU=Me("ZodJWT",(e,t)=>{f$.init(e,t),mn.init(e,t)}),jk=Me("ZodNumber",(e,t)=>{Sk.init(e,t),Sn.init(e,t),e.gt=(r,s)=>e.check(a_(r,s)),e.gte=(r,s)=>e.check(iy(r,s)),e.min=(r,s)=>e.check(iy(r,s)),e.lt=(r,s)=>e.check(s_(r,s)),e.lte=(r,s)=>e.check(ry(r,s)),e.max=(r,s)=>e.check(ry(r,s)),e.int=r=>e.check(c_(r)),e.safe=r=>e.check(c_(r)),e.positive=r=>e.check(a_(0,r)),e.nonnegative=r=>e.check(iy(0,r)),e.negative=r=>e.check(s_(0,r)),e.nonpositive=r=>e.check(ry(0,r)),e.multipleOf=(r,s)=>e.check(l_(r,s)),e.step=(r,s)=>e.check(l_(r,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Ni(e){return uH(jk,e)}const pU=Me("ZodNumberFormat",(e,t)=>{h$.init(e,t),jk.init(e,t)});function c_(e){return cH(pU,e)}const mU=Me("ZodBoolean",(e,t)=>{p$.init(e,t),Sn.init(e,t)});function ep(e){return dH(mU,e)}const gU=Me("ZodAny",(e,t)=>{m$.init(e,t),Sn.init(e,t)});function tp(){return fH(gU)}const yU=Me("ZodUnknown",(e,t)=>{g$.init(e,t),Sn.init(e,t)});function d_(){return hH(yU)}const xU=Me("ZodNever",(e,t)=>{y$.init(e,t),Sn.init(e,t)});function vU(e){return pH(xU,e)}const bU=Me("ZodArray",(e,t)=>{x$.init(e,t),Sn.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Qh(n,r)),e.nonempty=n=>e.check(Qh(1,n)),e.max=(n,r)=>e.check(Ek(n,r)),e.length=(n,r)=>e.check(Ck(n,r)),e.unwrap=()=>e.element});function mu(e,t){return EH(bU,e,t)}const wU=Me("ZodObject",(e,t)=>{b$.init(e,t),Sn.init(e,t),Yt(e,"shape",()=>t.shape),e.keyof=()=>np(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:d_()}),e.loose=()=>e.clone({...e._zod.def,catchall:d_()}),e.strict=()=>e.clone({...e._zod.def,catchall:vU()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>LB(e,n),e.safeExtend=n=>FB(e,n),e.merge=n=>BB(e,n),e.pick=n=>PB(e,n),e.omit=n=>IB(e,n),e.partial=(...n)=>VB(Ak,e,n[0]),e.required=(...n)=>$B(Mk,e,n[0])});function Li(e,t){const n={type:"object",shape:e??{},...it(t)};return new wU(n)}const SU=Me("ZodUnion",(e,t)=>{w$.init(e,t),Sn.init(e,t),e.options=t.options});function NU(e,t){return new SU({type:"union",options:e,...it(t)})}const _U=Me("ZodIntersection",(e,t)=>{S$.init(e,t),Sn.init(e,t)});function EU(e,t){return new _U({type:"intersection",left:e,right:t})}const CU=Me("ZodRecord",(e,t)=>{N$.init(e,t),Sn.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function TU(e,t,n){return new CU({type:"record",keyType:e,valueType:t,...it(n)})}const f0=Me("ZodEnum",(e,t)=>{_$.init(e,t),Sn.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const a={};for(const l of r)if(n.has(l))a[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new f0({...t,checks:[],...it(s),entries:a})},e.exclude=(r,s)=>{const a={...t.entries};for(const l of r)if(n.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new f0({...t,checks:[],...it(s),entries:a})}});function np(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new f0({type:"enum",entries:n,...it(t)})}const kU=Me("ZodTransform",(e,t)=>{E$.init(e,t),Sn.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new lk(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(xd(a,n.value,t));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(xd(l))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(a=>(n.value=a,n)):(n.value=s,n)}});function jU(e){return new kU({type:"transform",transform:e})}const Ak=Me("ZodOptional",(e,t)=>{C$.init(e,t),Sn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function f_(e){return new Ak({type:"optional",innerType:e})}const AU=Me("ZodNullable",(e,t)=>{T$.init(e,t),Sn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function h_(e){return new AU({type:"nullable",innerType:e})}const MU=Me("ZodDefault",(e,t)=>{k$.init(e,t),Sn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function OU(e,t){return new MU({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():dk(t)}})}const DU=Me("ZodPrefault",(e,t)=>{j$.init(e,t),Sn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function zU(e,t){return new DU({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():dk(t)}})}const Mk=Me("ZodNonOptional",(e,t)=>{A$.init(e,t),Sn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function RU(e,t){return new Mk({type:"nonoptional",innerType:e,...it(t)})}const PU=Me("ZodCatch",(e,t)=>{M$.init(e,t),Sn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function IU(e,t){return new PU({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const LU=Me("ZodPipe",(e,t)=>{O$.init(e,t),Sn.init(e,t),e.in=t.in,e.out=t.out});function p_(e,t){return new LU({type:"pipe",in:e,out:t})}const FU=Me("ZodReadonly",(e,t)=>{D$.init(e,t),Sn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function BU(e){return new FU({type:"readonly",innerType:e})}const VU=Me("ZodCustom",(e,t)=>{z$.init(e,t),Sn.init(e,t)});function $U(e,t={}){return CH(VU,e,t)}function HU(e){return TH(e)}const UU=Li({x:Ni(),y:Ni(),zoom:Ni().min(.1).max(10)}),qU=Li({id:en(),type:en().optional(),position:Li({x:Ni(),y:Ni()}),data:tp(),width:Ni().optional(),height:Ni().optional(),selected:ep().optional(),dragging:ep().optional()}),ZU=Li({id:en(),source:en(),target:en(),sourceHandle:en().optional().nullable(),targetHandle:en().optional().nullable(),type:en().optional(),animated:ep().optional(),data:tp().optional()}),YU=Li({nodes:mu(qU),edges:mu(ZU),viewport:UU}),GU=Li({id:en().optional(),name:en().min(1,"Workflow name is required"),description:en().optional(),author:en().optional(),createdAt:en(),updatedAt:en(),tags:mu(en()).optional(),version:en().optional(),icon:en().optional()}),KU=Li({id:en(),type:en(),name:en(),usedInNodes:mu(en())}),XU=Li({maxRetries:Ni().min(0).max(10),backoffMs:Ni().min(0),backoffMultiplier:Ni().min(1).optional()}),WU=Li({timeout:Ni().min(0).optional(),retryPolicy:XU.optional(),executionMode:np(["sequential","parallel","mixed"]).optional(),errorHandling:np(["stop","continue","fallback"]).optional(),maxConcurrency:Ni().min(1).optional()}),JU=Li({type:np(["string","number","boolean","json"]),required:ep(),default:tp().optional(),description:en().optional(),example:tp().optional()}),QU=Li({version:en().regex(/^\d+\.\d+\.\d+$/,"Invalid semantic version format"),schemaVersion:en(),meta:GU,flow:YU,credentials:mu(KU),settings:WU,variables:TU(en(),JU).optional()});function Ok(e){try{return{success:!0,data:QU.parse(e)}}catch(t){return t instanceof IH?{success:!1,errors:t.issues.map(n=>({path:n.path.join("."),message:n.message}))}:{success:!1,errors:[{path:"",message:"Unknown validation error"}]}}}function e9(e,t){const n=new Set(e.map(l=>l.id)),r=[],s=[];for(const l of t)n.has(l.source)||(s.push(l.id),r.push(`Edge ${l.id}: source node ${l.source} not found`)),n.has(l.target)||(s.push(l.id),r.push(`Edge ${l.id}: target node ${l.target} not found`));const a=t9(e,t);return a&&r.push("Workflow contains circular dependencies"),{valid:r.length===0,errors:r,orphanedEdges:s,hasCycles:a}}function t9(e,t){const n=new Map;for(const l of e)n.set(l.id,[]);for(const l of t){const c=n.get(l.source);c&&c.push(l.target)}const r=new Set,s=new Set,a=l=>{r.add(l),s.add(l);const c=n.get(l)||[];for(const f of c)if(r.has(f)){if(s.has(f))return!0}else if(a(f))return!0;return s.delete(l),!1};for(const l of e)if(!r.has(l.id)&&a(l.id))return!0;return!1}const n9=[{name:"OpenAI API Key",pattern:/sk-[a-zA-Z0-9]{32,}/g},{name:"OpenAI Project API Key",pattern:/sk-proj-[a-zA-Z0-9_-]{32,}/g},{name:"Anthropic API Key",pattern:/sk-ant-[a-zA-Z0-9_-]{32,}/g},{name:"Google API Key",pattern:/AIza[a-zA-Z0-9_-]{35}/g},{name:"Slack Token",pattern:/xoxb-[0-9]{10,13}-[0-9]{10,13}-[a-zA-Z0-9]{24,}/g},{name:"GitHub Token",pattern:/ghp_[a-zA-Z0-9]{36}/g},{name:"GitHub OAuth Token",pattern:/gho_[a-zA-Z0-9]{36}/g},{name:"AWS Access Key",pattern:/AKIA[0-9A-Z]{16}/g},{name:"Stripe API Key",pattern:/sk_live_[a-zA-Z0-9]{24,}/g},{name:"Stripe Test Key",pattern:/sk_test_[a-zA-Z0-9]{24,}/g},{name:"Twilio API Key",pattern:/SK[a-z0-9]{32}/g},{name:"SendGrid API Key",pattern:/SG\.[a-zA-Z0-9_-]{22}\.[a-zA-Z0-9_-]{43}/g},{name:"Bearer Token",pattern:/Bearer [a-zA-Z0-9_\-\.=]{20,}/g},{name:"JWT Token",pattern:/eyJ[a-zA-Z0-9_-]*\.eyJ[a-zA-Z0-9_-]*\.[a-zA-Z0-9_-]*/g}];function Dk(e){const t=[],n=JSON.stringify(e,null,2);for(const{name:r,pattern:s}of n9){const a=n.matchAll(s);for(const l of a){const c=l[0];t.push({type:r,value:c,location:r9(e,c),redacted:i9(c)})}}return t}function r9(e,t){for(const s of e.flow.nodes)if(JSON.stringify(s.data).includes(t))return`Node ${s.id} (${s.type||"unknown"})`;return JSON.stringify(e.meta).includes(t)?"Workflow metadata":JSON.stringify(e.settings).includes(t)?"Workflow settings":e.variables&&JSON.stringify(e.variables).includes(t)?"Workflow variables":"Unknown location"}function i9(e){if(e.length<=8)return"*".repeat(e.length);const t=e.substring(0,4),n=e.substring(e.length-4),r="*".repeat(Math.min(e.length-8,20));return`${t}${r}${n}`}function o9(e){const t=Dk(e),n=[];t.length>0&&n.push(`Found ${t.length} potential secret(s) in the workflow. Please remove sensitive data before exporting.`);const r=e.credentials.length;return r>0&&n.push(`This workflow references ${r} credential(s). Credential values are not exported, only references.`),{safe:t.length===0,secrets:t,warnings:n}}const s9="",a9="1.0.0",l9="v1";function u9(e){const t={...e};if(t.data){const a={...t.data};delete a.__runtime,delete a.__executionState,delete a.__cachedResults,delete a.__error,t.data=a}const{selected:n,dragging:r,...s}=t;return s}function c9(e){const t=new Map;for(const n of e){const r=n.data?.credentialId;r&&(t.has(r)||t.set(r,{id:r,type:n.data?.credentialType||"api-key",name:n.data?.credentialName||"Credential",usedInNodes:[]}),t.get(r).usedInNodes.push(n.id))}return Array.from(t.values())}async function d9(e,t,n,r={}){const s=e.map(u9),a=c9(s),l=new Date().toISOString(),c={name:r.name||"Untitled Workflow",description:r.description,author:r.author,createdAt:l,updatedAt:l,tags:r.tags||[]},f={version:a9,schemaVersion:l9,meta:c,flow:{nodes:s,edges:t,viewport:n},credentials:a,settings:{timeout:3e5,executionMode:"sequential",errorHandling:"stop"}},h=Ok(f);if(!h.success)throw new Error(`Invalid workflow format: ${h.errors?.map(g=>g.message).join(", ")}`);const m=Dk(f);if(m.length>0)throw new Error(`Found ${m.length} potential secret(s) in export. Please remove sensitive data before exporting.`);return f}async function f9(e){try{const t=await fetch(`${s9}/workflows/export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.message||"Export failed")}return await t.json()}catch(t){return console.error("Export via API failed:",t),e}}function h9(e=new Date){const n=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][e.getMonth()],r=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0");return`${n}${r}-${s}:${a}`}function p9(e,t){const n=JSON.stringify(e,null,2),r=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s;const l=e.meta.name.replace(/[^a-zA-Z0-9-_]/g,"-").toLowerCase(),c=h9(),f=`${l}-${c}.vflow`;a.download=f,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}async function m9(e,t,n,r={}){try{const s=await d9(e,t,n,r),a=await f9(s);return p9(a),{success:!0}}catch(s){return console.error("Export failed:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}function zk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=zk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function g9(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=zk(e))&&(r&&(r+=" "),r+=t);return r}const Ux="-",y9=e=>{const t=v9(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const c=l.split(Ux);return c[0]===""&&c.length!==1&&c.shift(),Rk(c,t)||x9(l)},getConflictingClassGroupIds:(l,c)=>{const f=n[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},Rk=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Rk(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Ux);return t.validators.find(({validator:l})=>l(a))?.classGroupId},m_=/^\[(.+)\]$/,x9=e=>{if(m_.test(e)){const t=m_.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},v9=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)h0(n[s],r,s,t);return r},h0=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:g_(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(b9(s)){h0(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,l])=>{h0(l,g_(t,a),n,r)})})},g_=(e,t)=>{let n=e;return t.split(Ux).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},b9=e=>e.isThemeGetter,w9=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,l)=>{n.set(a,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){n.has(a)?n.set(a,l):s(a,l)}}},p0="!",m0=":",S9=m0.length,N9=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const a=[];let l=0,c=0,f=0,h;for(let C=0;C<s.length;C++){let N=s[C];if(l===0&&c===0){if(N===m0){a.push(s.slice(f,C)),f=C+S9;continue}if(N==="/"){h=C;continue}}N==="["?l++:N==="]"?l--:N==="("?c++:N===")"&&c--}const m=a.length===0?s:s.substring(f),g=_9(m),y=g!==m,b=h&&h>f?h-f:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:b}};if(t){const s=t+m0,a=r;r=l=>l.startsWith(s)?a(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},_9=e=>e.endsWith(p0)?e.substring(0,e.length-1):e.startsWith(p0)?e.substring(1):e,E9=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(l=>{l[0]==="["||t[l]?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s}},C9=e=>({cache:w9(e.cacheSize),parseClassName:N9(e),sortModifiers:E9(e),...y9(e)}),T9=/\s+/,k9=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=t,l=[],c=e.trim().split(T9);let f="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:g,modifiers:y,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:N}=n(m);if(g){f=m+(f.length>0?" "+f:f);continue}let T=!!N,_=r(T?C.substring(0,N):C);if(!_){if(!T){f=m+(f.length>0?" "+f:f);continue}if(_=r(C),!_){f=m+(f.length>0?" "+f:f);continue}T=!1}const A=a(y).join(":"),k=b?A+p0:A,O=k+_;if(l.includes(O))continue;l.push(O);const R=s(_,T);for(let z=0;z<R.length;++z){const D=R[z];l.push(k+D)}f=m+(f.length>0?" "+f:f)}return f};function j9(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Pk(t))&&(r&&(r+=" "),r+=n);return r}const Pk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Pk(e[r]))&&(n&&(n+=" "),n+=t);return n};function A9(e,...t){let n,r,s,a=l;function l(f){const h=t.reduce((m,g)=>g(m),e());return n=C9(h),r=n.cache.get,s=n.cache.set,a=c,c(f)}function c(f){const h=r(f);if(h)return h;const m=k9(f,n);return s(f,m),m}return function(){return a(j9.apply(null,arguments))}}const Un=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ik=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Lk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,M9=/^\d+\/\d+$/,O9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,z9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,R9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pl=e=>M9.test(e),bt=e=>!!e&&!Number.isNaN(Number(e)),Ps=e=>!!e&&Number.isInteger(Number(e)),oy=e=>e.endsWith("%")&&bt(e.slice(0,-1)),Yo=e=>O9.test(e),I9=()=>!0,L9=e=>D9.test(e)&&!z9.test(e),Fk=()=>!1,F9=e=>R9.test(e),B9=e=>P9.test(e),V9=e=>!Ke(e)&&!Xe(e),$9=e=>Su(e,$k,Fk),Ke=e=>Ik.test(e),Na=e=>Su(e,Hk,L9),sy=e=>Su(e,Y9,bt),y_=e=>Su(e,Bk,Fk),H9=e=>Su(e,Vk,B9),ch=e=>Su(e,Uk,F9),Xe=e=>Lk.test(e),Mc=e=>Nu(e,Hk),U9=e=>Nu(e,G9),x_=e=>Nu(e,Bk),q9=e=>Nu(e,$k),Z9=e=>Nu(e,Vk),dh=e=>Nu(e,Uk,!0),Su=(e,t,n)=>{const r=Ik.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Nu=(e,t,n=!1)=>{const r=Lk.exec(e);return r?r[1]?t(r[1]):n:!1},Bk=e=>e==="position"||e==="percentage",Vk=e=>e==="image"||e==="url",$k=e=>e==="length"||e==="size"||e==="bg-size",Hk=e=>e==="length",Y9=e=>e==="number",G9=e=>e==="family-name",Uk=e=>e==="shadow",K9=()=>{const e=Un("color"),t=Un("font"),n=Un("text"),r=Un("font-weight"),s=Un("tracking"),a=Un("leading"),l=Un("breakpoint"),c=Un("container"),f=Un("spacing"),h=Un("radius"),m=Un("shadow"),g=Un("inset-shadow"),y=Un("text-shadow"),b=Un("drop-shadow"),C=Un("blur"),N=Un("perspective"),T=Un("aspect"),_=Un("ease"),A=Un("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...O(),Xe,Ke],z=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],I=()=>[Xe,Ke,f],H=()=>[Pl,"full","auto",...I()],te=()=>[Ps,"none","subgrid",Xe,Ke],ee=()=>["auto",{span:["full",Ps,Xe,Ke]},Ps,Xe,Ke],X=()=>[Ps,"auto",Xe,Ke],ae=()=>["auto","min","max","fr",Xe,Ke],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...I()],Y=()=>[Pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],K=()=>[e,Xe,Ke],ue=()=>[...O(),x_,y_,{position:[Xe,Ke]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",q9,$9,{size:[Xe,Ke]}],J=()=>[oy,Mc,Na],F=()=>["","none","full",h,Xe,Ke],ge=()=>["",bt,Mc,Na],Oe=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>[bt,oy,x_,y_],je=()=>["","none",C,Xe,Ke],Se=()=>["none",bt,Xe,Ke],We=()=>["none",bt,Xe,Ke],et=()=>[bt,Xe,Ke],$e=()=>[Pl,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Yo],breakpoint:[Yo],color:[I9],container:[Yo],"drop-shadow":[Yo],ease:["in","out","in-out"],font:[V9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Yo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Yo],shadow:[Yo],spacing:["px",bt],text:[Yo],"text-shadow":[Yo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pl,Ke,Xe,T]}],container:["container"],columns:[{columns:[bt,Ke,Xe,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[Ps,"auto",Xe,Ke]}],basis:[{basis:[Pl,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bt,Pl,"auto","initial","none",Ke]}],grow:[{grow:["",bt,Xe,Ke]}],shrink:[{shrink:["",bt,Xe,Ke]}],order:[{order:[Ps,"first","last","none",Xe,Ke]}],"grid-cols":[{"grid-cols":te()}],"col-start-end":[{col:ee()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":te()}],"row-start-end":[{row:ee()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ae()}],"auto-rows":[{"auto-rows":ae()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[c,"screen",...Y()]}],"min-w":[{"min-w":[c,"screen","none",...Y()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",n,Mc,Na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Xe,sy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",oy,Ke]}],"font-family":[{font:[U9,Ke,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Xe,Ke]}],"line-clamp":[{"line-clamp":[bt,"none",Xe,sy]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",Xe,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Xe,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[bt,"from-font","auto",Xe,Na]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[bt,"auto",Xe,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ps,Xe,Ke],radial:["",Xe,Ke],conic:[Ps,Xe,Ke]},Z9,H9]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[bt,Xe,Ke]}],"outline-w":[{outline:["",bt,Mc,Na]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",m,dh,ch]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",g,dh,ch]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[bt,Na]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",y,dh,ch]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[bt,Xe,Ke]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Te()}],"mask-image-linear-to-pos":[{"mask-linear-to":Te()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":Te()}],"mask-image-t-to-pos":[{"mask-t-to":Te()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":Te()}],"mask-image-r-to-pos":[{"mask-r-to":Te()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":Te()}],"mask-image-b-to-pos":[{"mask-b-to":Te()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":Te()}],"mask-image-l-to-pos":[{"mask-l-to":Te()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":Te()}],"mask-image-x-to-pos":[{"mask-x-to":Te()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":Te()}],"mask-image-y-to-pos":[{"mask-y-to":Te()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Xe,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":Te()}],"mask-image-radial-to-pos":[{"mask-radial-to":Te()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Te()}],"mask-image-conic-to-pos":[{"mask-conic-to":Te()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Xe,Ke]}],filter:[{filter:["","none",Xe,Ke]}],blur:[{blur:je()}],brightness:[{brightness:[bt,Xe,Ke]}],contrast:[{contrast:[bt,Xe,Ke]}],"drop-shadow":[{"drop-shadow":["","none",b,dh,ch]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",bt,Xe,Ke]}],"hue-rotate":[{"hue-rotate":[bt,Xe,Ke]}],invert:[{invert:["",bt,Xe,Ke]}],saturate:[{saturate:[bt,Xe,Ke]}],sepia:[{sepia:["",bt,Xe,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Xe,Ke]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[bt,Xe,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[bt,Xe,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bt,Xe,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bt,Xe,Ke]}],"backdrop-invert":[{"backdrop-invert":["",bt,Xe,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[bt,Xe,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[bt,Xe,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",bt,Xe,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Xe,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bt,"initial",Xe,Ke]}],ease:[{ease:["linear","initial",_,Xe,Ke]}],delay:[{delay:[bt,Xe,Ke]}],animate:[{animate:["none",A,Xe,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,Xe,Ke]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:et()}],"skew-x":[{"skew-x":et()}],"skew-y":[{"skew-y":et()}],transform:[{transform:[Xe,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe,Ke]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[bt,Mc,Na,sy]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},X9=A9(K9);function qx(...e){return X9(g9(e))}function W9({flowName:e}){const[t,n]=U.useState(!1),[r,s]=U.useState(!1),[a,l]=U.useState(null),[c,f]=U.useState([]),{getViewport:h}=xu(),m=Ht(A=>A.nodes),g=Ht(A=>A.edges),[y,b]=U.useState({name:"My Workflow",description:"",author:"",tags:[]}),C=()=>{b({name:e||"My Workflow",description:"",author:"",tags:[]}),l(null),f([]),n(!0)},N=async()=>{console.log("[export] Starting export",{flowName:y.name,nodesCount:m.length,edgesCount:g.length}),l(null),f([]),s(!0);try{const A=h(),k={version:"1.0.0",schemaVersion:"v1",meta:{name:y.name||"Untitled",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},flow:{nodes:m,edges:g,viewport:A},credentials:[],settings:{}},O=o9(k);if(!O.safe){l("Cannot export: Secrets detected in workflow"),f(O.secrets.map(z=>`${z.type} found in ${z.location}: ${z.redacted}`)),s(!1);return}O.warnings.length>0&&f(O.warnings);const R=await m9(m,g,A,y);R.success?(console.log("[export] SUCCESS",{flowName:y.name}),n(!1)):(console.error("[export] FAILED",{error:R.error}),l(R.error||"Export failed"))}catch(A){console.error("[export] ERROR",A),l(A instanceof Error?A.message:"Export failed")}finally{s(!1)}},T=A=>{if(A.key==="Enter"&&A.currentTarget.value.trim()){A.preventDefault();const k=A.currentTarget.value.trim();y.tags?.includes(k)||b({...y,tags:[...y.tags||[],k]}),A.currentTarget.value=""}},_=A=>{b({...y,tags:y.tags?.filter(k=>k!==A)||[]})};return p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:C,className:"flex items-center gap-1 px-2 py-0.5 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",title:"Export workflow",children:[p.jsx(pB,{className:"w-3 h-3"}),"Export"]}),t&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Export Workflow"}),p.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:p.jsx(Xh,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"px-6 py-4 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"workflow-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Workflow Name *"}),p.jsx("input",{type:"text",id:"workflow-name",value:y.name,onChange:A=>b({...y,name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"My Workflow",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"workflow-description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),p.jsx("textarea",{id:"workflow-description",value:y.description,onChange:A=>b({...y,description:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Describe your workflow...",rows:3})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"workflow-author",className:"block text-sm font-medium text-gray-700 mb-1",children:"Author"}),p.jsx("input",{type:"text",id:"workflow-author",value:y.author,onChange:A=>b({...y,author:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your name or email"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"workflow-tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),p.jsx("input",{type:"text",id:"workflow-tags",onKeyDown:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Press Enter to add tags"}),y.tags&&y.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y.tags.map(A=>p.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-md",children:[A,p.jsx("button",{onClick:()=>_(A),className:"text-blue-600 hover:text-blue-800",children:p.jsx(Xh,{className:"w-3 h-3"})})]},A))})]}),c.length>0&&p.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(ok,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Warnings"}),p.jsx("ul",{className:"mt-1 text-xs text-yellow-700 space-y-1",children:c.map((A,k)=>p.jsx("li",{children:A},k))})]})]})}),a&&p.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:p.jsx("p",{className:"text-sm text-red-800",children:a})}),p.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:p.jsx("p",{className:"text-xs text-blue-800",children:"Export will create a .vflow file containing your workflow structure. Credential values are not exported, only references."})})]}),p.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200",children:[p.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",disabled:r,children:"Cancel"}),p.jsx("button",{onClick:N,disabled:r||!y.name,className:qx("px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed"),children:r?"Exporting...":"Export Workflow"})]})]})})]})}const qk=["v1"];function J9(e){return e.replace(/\.vflow$/i,"").replace(/-\d{13}$/,"").replace(/[-_]+/g," ").replace(/\s+/g," ").trim().split(" ").map(a=>a.length===0||a===a.toUpperCase()&&a.length<=4?a:a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ")||"Untitled Flow"}async function Q9(e){const t=await e.text();let n;try{n=JSON.parse(t)}catch{throw new Error("Invalid JSON format")}const r=Ok(n);if(!r.success){const c=r.errors?.map(f=>`${f.path}: ${f.message}`).join(", ");throw new Error(`Validation failed: ${c}`)}const s=r.data,a=J9(e.name),l=["untitled","workflow","my workflow","new workflow"];return(!s.meta.name||l.includes(s.meta.name.toLowerCase()))&&(s.meta.name=a),s}function e8(e){return qk.includes(e)}function t8(e){const t=e9(e.flow.nodes,e.flow.edges);t.valid||(t.orphanedEdges.length>0&&(e.flow.edges=e.flow.edges.filter(n=>!t.orphanedEdges.includes(n.id))),t.hasCycles&&console.warn("Workflow contains circular dependencies"))}function n8(e,t){return e.map(n=>{if(n.data?.credentialId){const r=t[n.data.credentialId];if(r)return{...n,data:{...n.data,credentialId:r}}}return n})}async function r8(e){try{const t=await Q9(e);if(!e8(t.schemaVersion))throw new Error(`Incompatible schema version: ${t.schemaVersion}. Supported versions: ${qk.join(", ")}`);const n=t;return t8(n),{success:!0,workflow:n,credentialMappings:{}}}catch(t){return console.error("Import failed:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}function v_(e,t,n,r,s){const a=n8(e.flow.nodes,t);n(a),r(e.flow.edges),s(e.flow.viewport)}function i8(e){return e.credentials}function o8(e){return e.credentials.length>0}function s8({credentialReferences:e,onComplete:t,onCancel:n}){const[r,s]=U.useState(()=>{const b={};return e.forEach(C=>{b[C.id]={type:"skip"}}),b}),[a,l]=U.useState(null),[c,f]=U.useState(""),h=(b,C)=>{s({...r,[b]:{type:C}}),l(C==="create"?b:null)},m=b=>{if(!c.trim()){alert("Please enter a credential name");return}s({...r,[b]:{type:"create",newCredentialName:c.trim()}}),l(null),f("")},g=()=>{const b={};e.forEach(C=>{const N=r[C.id];N.type==="map"&&N.targetId?b[C.id]=N.targetId:N.type==="create"&&(b[C.id]=C.id)}),t(b)},y=e.every(b=>{const C=r[b.id];return C.type==="skip"||C.type==="map"&&C.targetId||C.type==="create"});return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(xB,{className:"w-5 h-5 text-gray-700"}),p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Map Credentials"})]}),p.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:p.jsx(Xh,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"px-6 py-4 overflow-y-auto flex-1",children:[p.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(ok,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Credential References Found"}),p.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["This workflow references ",e.length," ","credential(s). Choose how to handle each one:"]}),p.jsxs("ul",{className:"text-xs text-blue-700 mt-2 space-y-1 ml-4",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Skip:"})," Nodes will not have credentials assigned"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Create New:"})," Placeholder for credential (you'll need to configure it later)"]})]})]})]})}),p.jsx("div",{className:"space-y-4",children:e.map(b=>p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsx("div",{className:"flex items-start justify-between mb-3",children:p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h3",{className:"font-medium text-gray-900",children:b.name}),p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium text-gray-600 bg-gray-100 rounded",children:b.type})]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Used in ",b.usedInNodes.length," node(s):"," ",b.usedInNodes.join(", ")]})]})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Action:"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"radio",name:`action-${b.id}`,checked:r[b.id]?.type==="skip",onChange:()=>h(b.id,"skip"),className:"w-4 h-4 text-blue-600"}),p.jsx("span",{className:"text-sm text-gray-700",children:"Skip (no credential assigned)"})]}),p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"radio",name:`action-${b.id}`,checked:r[b.id]?.type==="create",onChange:()=>h(b.id,"create"),className:"w-4 h-4 text-blue-600"}),p.jsx("span",{className:"text-sm text-gray-700",children:"Create new credential placeholder"})]})]}),a===b.id&&p.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md border border-gray-200",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Credential Name"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:c,onChange:C=>f(C.target.value),placeholder:b.name,className:"flex-1 px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),p.jsx("button",{onClick:()=>m(b.id),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:p.jsx(ik,{className:"w-4 h-4"})})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Note: You'll need to configure the actual credential values later."})]})]})]},b.id))})]}),p.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200",children:[p.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),p.jsx("button",{onClick:g,disabled:!y,className:qx("px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed"),children:"Import Workflow"})]})]})})}function b_(){const e=new Date,t=e.toLocaleString("en-US",{month:"short"}),n=e.getDate().toString().padStart(2,"0"),r=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0");return`${t}${n}-${r}${s}`}function a8({onImportComplete:e}){const[t,n]=U.useState(!1),[r,s]=U.useState(null),[a,l]=U.useState(!1),[c,f]=U.useState(null),[h,m]=U.useState(!1),g=U.useRef(null),{setViewport:y,fitView:b}=xu(),C=Ht(O=>O.setNodes),N=Ht(O=>O.setEdges),T=()=>{g.current?.click()},_=async O=>{const R=O.target.files?.[0];if(R){console.log("[import] Starting import",{filename:R.name}),n(!0),f(null),m(!1);try{const z=await r8(R);if(!z.success||!z.workflow){f(z.error||"Import failed"),n(!1);return}if(o8(z.workflow))s(z.workflow),l(!0),n(!1);else{v_(z.workflow,{},C,N,y);const D=z.workflow.meta?.name||"Imported Flow",I=b_(),H=`${D} ${I}`;console.log("[import] Direct import success",{baseName:D,timestamp:I,finalName:H,nodesCount:z.workflow.flow.nodes?.length});try{await e?.(H),console.log("[import] onImportComplete finished")}catch(te){throw console.error("[import] onImportComplete failed:",te),te}m(!0),setTimeout(()=>{b({padding:.2})},100),n(!1)}}catch(z){f(z instanceof Error?z.message:"Import failed"),n(!1)}g.current&&(g.current.value="")}},A=async O=>{if(r)try{v_(r,O,C,N,y);const R=r.meta?.name||"Imported Flow",z=b_(),D=`${R} ${z}`;console.log("[import] Credential-mapped import success",{baseName:R,timestamp:z,finalName:D,mappingsCount:Object.keys(O).length}),await e?.(D),m(!0),l(!1),s(null),setTimeout(()=>{b({padding:.2})},100)}catch(R){f(R instanceof Error?R.message:"Failed to apply workflow")}},k=()=>{l(!1),s(null)};return p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:T,disabled:t,className:qx("flex items-center gap-1 px-2 py-0.5 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50","focus:outline-none focus:ring-1 focus:ring-blue-500","disabled:opacity-50 disabled:cursor-not-allowed"),title:"Import workflow",children:[p.jsx(CB,{className:"w-3 h-3"}),t?"Importing...":"Import"]}),p.jsx("input",{ref:g,type:"file",accept:".vflow,.json",onChange:_,className:"hidden"}),h&&p.jsx("div",{className:"fixed bottom-4 right-4 z-50 bg-green-50 border border-green-200 rounded-lg shadow-lg p-4 max-w-md",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(cB,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-green-800",children:"Workflow imported successfully"}),p.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Your workflow has been loaded to the canvas."})]}),p.jsx("button",{onClick:()=>m(!1),className:"text-green-600 hover:text-green-800",children:""})]})}),c&&p.jsx("div",{className:"fixed bottom-4 right-4 z-50 bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 max-w-md",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(lB,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-red-800",children:"Import failed"}),p.jsx("p",{className:"text-xs text-red-700 mt-1",children:c})]}),p.jsx("button",{onClick:()=>f(null),className:"text-red-600 hover:text-red-800",children:""})]})}),a&&r&&p.jsx(s8,{credentialReferences:i8(r),onComplete:A,onCancel:k})]})}const Zk=U.memo(({status:e,lastSavedAt:t,flowName:n,isDirty:r,onFlowNameChange:s})=>{const[a,l]=U.useState(!1),[c,f]=U.useState(n);U.useEffect(()=>{a||f(typeof n=="string"?n:"Untitled Flow")},[n,a]);const h=typeof n=="string"?n:"Untitled Flow",m=()=>{switch(e){case"saving":return{icon:"",text:"Saving...",className:"text-blue-600 bg-blue-50"};case"saved":return{icon:"",text:"Saved",className:"text-green-600 bg-green-50"};case"error":return{icon:"",text:"Save failed",className:"text-red-600 bg-red-50"};case"idle":default:return r?{icon:"",text:"Unsaved changes",className:"text-orange-600 bg-orange-50"}:{icon:"",text:"Up to date",className:"text-gray-500 bg-gray-50"}}},g=()=>{if(!t)return null;try{const T=new Date(t),A=new Date().getTime()-T.getTime(),k=Math.floor(A/6e4);if(k<1)return"Just now";if(k<60)return`${k}m ago`;const O=Math.floor(k/60);return O<24?`${O}h ago`:`${Math.floor(O/24)}d ago`}catch{return null}},y=m(),b=g(),C=()=>{c.trim()&&c!==h&&s?s(c.trim()):f(h),l(!1)},N=T=>{T.key==="Enter"?C():T.key==="Escape"&&(f(h),l(!1))};return p.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 rounded-md border border-gray-200 bg-white shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[a?p.jsx("input",{type:"text",value:c,onChange:T=>f(T.target.value),onBlur:C,onKeyDown:N,autoFocus:!0,className:"text-sm font-medium text-gray-700 bg-transparent border-b border-blue-500 focus:outline-none min-w-[120px]"}):p.jsx("span",{className:"text-sm font-medium text-gray-700 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>s&&l(!0),title:"Click to rename",children:h}),r&&e!=="saving"&&p.jsx("span",{className:"text-xs text-orange-600",title:"Unsaved changes",children:"*"})]}),p.jsx("div",{className:"h-4 w-px bg-gray-300"}),p.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium transition-colors ${y.className}`,title:b?`Last saved ${b}`:void 0,children:[p.jsx("span",{children:y.icon}),p.jsx("span",{children:y.text})]}),b&&e==="idle"&&p.jsx("span",{className:"text-xs text-gray-500",children:b})]})});Zk.displayName="AutosaveIndicator";const l8=({onHistoryClick:e,onFlowsToggle:t,onRunFlow:n,onSaveFlow:r,onNewFlow:s,onImportFlow:a,isExecuting:l,executionStatus:c,historyCount:f,showFlows:h,flowName:m,autosaveStatus:g,lastSavedAt:y,isDirty:b,onFlowNameChange:C})=>{const N=Ht(T=>T.nodes);return p.jsxs("div",{className:"absolute top-0 left-0 right-0 h-12 bg-white border-b border-gray-200 z-20 flex items-center justify-between px-3 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:s,className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"New Flow",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"New"})]}),p.jsxs("button",{onClick:e,className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded transition-colors",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"History"}),f>0&&p.jsx("span",{className:"bg-blue-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:f})]}),p.jsxs("button",{onClick:t,className:`flex items-center gap-1 px-2 py-1 text-xs rounded transition-colors ${h?"bg-blue-100 text-blue-700 hover:bg-blue-200":"text-gray-700 hover:bg-gray-100"}`,children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Flows"})]})]}),p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsx(Zk,{status:g,lastSavedAt:y,flowName:m,isDirty:b,onFlowNameChange:C})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:r,disabled:g==="saving",className:"flex items-center gap-1 px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Save flow to database",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Save"})]}),p.jsx("div",{className:"h-4 w-px bg-gray-300"}),p.jsxs(K0,{children:[p.jsx(a8,{onImportComplete:a}),p.jsx(W9,{flowName:m})]}),p.jsx("div",{className:"h-4 w-px bg-gray-300"}),p.jsx("button",{onClick:n,disabled:l||N.length===0,className:"bg-green-500 text-white px-2 py-0.5 rounded font-medium hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1 text-xs",children:l?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),c||"Executing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Run Flow"})]})})]})]})};var Oh={exports:{}},u8=Oh.exports,w_;function c8(){return w_||(w_=1,(function(e,t){(function(n,r){e.exports=r()})(u8,function(){var n=function(x,w){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,j){E.__proto__=j}||function(E,j){for(var P in j)Object.prototype.hasOwnProperty.call(j,P)&&(E[P]=j[P])})(x,w)},r=function(){return(r=Object.assign||function(x){for(var w,E=1,j=arguments.length;E<j;E++)for(var P in w=arguments[E])Object.prototype.hasOwnProperty.call(w,P)&&(x[P]=w[P]);return x}).apply(this,arguments)};function s(x,w,E){for(var j,P=0,L=w.length;P<L;P++)!j&&P in w||((j=j||Array.prototype.slice.call(w,0,P))[P]=w[P]);return x.concat(j||Array.prototype.slice.call(w))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:OM,l=Object.keys,c=Array.isArray;function f(x,w){return typeof w!="object"||l(w).forEach(function(E){x[E]=w[E]}),x}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var h=Object.getPrototypeOf,m={}.hasOwnProperty;function g(x,w){return m.call(x,w)}function y(x,w){typeof w=="function"&&(w=w(h(x))),(typeof Reflect>"u"?l:Reflect.ownKeys)(w).forEach(function(E){C(x,E,w[E])})}var b=Object.defineProperty;function C(x,w,E,j){b(x,w,f(E&&g(E,"get")&&typeof E.get=="function"?{get:E.get,set:E.set,configurable:!0}:{value:E,configurable:!0,writable:!0},j))}function N(x){return{from:function(w){return x.prototype=Object.create(w.prototype),C(x.prototype,"constructor",x),{extend:y.bind(null,x.prototype)}}}}var T=Object.getOwnPropertyDescriptor,_=[].slice;function A(x,w,E){return _.call(x,w,E)}function k(x,w){return w(x)}function O(x){if(!x)throw new Error("Assertion Failed")}function R(x){a.setImmediate?setImmediate(x):setTimeout(x,0)}function z(x,w){if(typeof w=="string"&&g(x,w))return x[w];if(!w)return x;if(typeof w!="string"){for(var E=[],j=0,P=w.length;j<P;++j){var L=z(x,w[j]);E.push(L)}return E}var G=w.indexOf(".");if(G!==-1){var W=x[w.substr(0,G)];return W==null?void 0:z(W,w.substr(G+1))}}function D(x,w,E){if(x&&w!==void 0&&!("isFrozen"in Object&&Object.isFrozen(x)))if(typeof w!="string"&&"length"in w){O(typeof E!="string"&&"length"in E);for(var j=0,P=w.length;j<P;++j)D(x,w[j],E[j])}else{var L,G,W=w.indexOf(".");W!==-1?(L=w.substr(0,W),(G=w.substr(W+1))===""?E===void 0?c(x)&&!isNaN(parseInt(L))?x.splice(L,1):delete x[L]:x[L]=E:D(W=!(W=x[L])||!g(x,L)?x[L]={}:W,G,E)):E===void 0?c(x)&&!isNaN(parseInt(w))?x.splice(w,1):delete x[w]:x[w]=E}}function I(x){var w,E={};for(w in x)g(x,w)&&(E[w]=x[w]);return E}var H=[].concat;function te(x){return H.apply([],x)}var _e="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(te([8,16,32,64].map(function(x){return["Int","Uint","Float"].map(function(w){return w+x+"Array"})}))).filter(function(x){return a[x]}),ee=new Set(_e.map(function(x){return a[x]})),X=null;function ae(x){return X=new WeakMap,x=(function w(E){if(!E||typeof E!="object")return E;var j=X.get(E);if(j)return j;if(c(E)){j=[],X.set(E,j);for(var P=0,L=E.length;P<L;++P)j.push(w(E[P]))}else if(ee.has(E.constructor))j=E;else{var G,W=h(E);for(G in j=W===Object.prototype?{}:Object.create(W),X.set(E,j),E)g(E,G)&&(j[G]=w(E[G]))}return j})(x),X=null,x}var q={}.toString;function Q(x){return q.call(x).slice(8,-1)}var $=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Y=typeof $=="symbol"?function(x){var w;return x!=null&&(w=x[$])&&w.apply(x)}:function(){return null};function K(x,w){return w=x.indexOf(w),0<=w&&x.splice(w,1),0<=w}var ue={};function B(x){var w,E,j,P;if(arguments.length===1){if(c(x))return x.slice();if(this===ue&&typeof x=="string")return[x];if(P=Y(x)){for(E=[];!(j=P.next()).done;)E.push(j.value);return E}if(x==null)return[x];if(typeof(w=x.length)!="number")return[x];for(E=new Array(w);w--;)E[w]=x[w];return E}for(w=arguments.length,E=new Array(w);w--;)E[w]=arguments[w];return E}var Z=typeof Symbol<"u"?function(x){return x[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},vr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(vr),J={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function F(x,w){this.name=x,this.message=w}function ge(x,w){return x+". Errors: "+Object.keys(w).map(function(E){return w[E].toString()}).filter(function(E,j,P){return P.indexOf(E)===j}).join(`
`)}function Oe(x,w,E,j){this.failures=w,this.failedKeys=j,this.successCount=E,this.message=ge(x,w)}function Ee(x,w){this.name="BulkError",this.failures=Object.keys(w).map(function(E){return w[E]}),this.failuresByPos=w,this.message=ge(x,this.failures)}N(F).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(Oe).from(F),N(Ee).from(F);var Te=mr.reduce(function(x,w){return x[w]=w+"Error",x},{}),je=F,Se=mr.reduce(function(x,w){var E=w+"Error";function j(P,L){this.name=E,P?typeof P=="string"?(this.message="".concat(P).concat(L?`
 `+L:""),this.inner=L||null):typeof P=="object"&&(this.message="".concat(P.name," ").concat(P.message),this.inner=P):(this.message=J[w]||E,this.inner=null)}return N(j).from(je),x[w]=j,x},{});Se.Syntax=SyntaxError,Se.Type=TypeError,Se.Range=RangeError;var We=vr.reduce(function(x,w){return x[w+"Error"]=Se[w],x},{}),et=mr.reduce(function(x,w){return["Syntax","Type","Range"].indexOf(w)===-1&&(x[w+"Error"]=Se[w]),x},{});function $e(){}function ot(x){return x}function at(x,w){return x==null||x===ot?w:function(E){return w(x(E))}}function vt(x,w){return function(){x.apply(this,arguments),w.apply(this,arguments)}}function Ut(x,w){return x===$e?w:function(){var E=x.apply(this,arguments);E!==void 0&&(arguments[0]=E);var j=this.onsuccess,P=this.onerror;this.onsuccess=null,this.onerror=null;var L=w.apply(this,arguments);return j&&(this.onsuccess=this.onsuccess?vt(j,this.onsuccess):j),P&&(this.onerror=this.onerror?vt(P,this.onerror):P),L!==void 0?L:E}}function ln(x,w){return x===$e?w:function(){x.apply(this,arguments);var E=this.onsuccess,j=this.onerror;this.onsuccess=this.onerror=null,w.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?vt(E,this.onsuccess):E),j&&(this.onerror=this.onerror?vt(j,this.onerror):j)}}function Lr(x,w){return x===$e?w:function(E){var j=x.apply(this,arguments);f(E,j);var P=this.onsuccess,L=this.onerror;return this.onsuccess=null,this.onerror=null,E=w.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?vt(P,this.onsuccess):P),L&&(this.onerror=this.onerror?vt(L,this.onerror):L),j===void 0?E===void 0?void 0:E:f(j,E)}}function Fr(x,w){return x===$e?w:function(){return w.apply(this,arguments)!==!1&&x.apply(this,arguments)}}function dr(x,w){return x===$e?w:function(){var E=x.apply(this,arguments);if(E&&typeof E.then=="function"){for(var j=this,P=arguments.length,L=new Array(P);P--;)L[P]=arguments[P];return E.then(function(){return w.apply(j,L)})}return w.apply(this,arguments)}}et.ModifyError=Oe,et.DexieError=F,et.BulkError=Ee;var Nn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ti(x){Nn=x}var fr={},gn=100,_e=typeof Promise>"u"?[]:(function(){var x=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[x,h(x),x];var w=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[w,h(w),x]})(),vr=_e[0],mr=_e[1],_e=_e[2],mr=mr&&mr.then,Re=vr&&vr.constructor,tt=!!_e,ft=function(x,w){ir.push([x,w]),jn&&(queueMicrotask(Ua),jn=!1)},wt=!0,jn=!0,Vn=[],yn=[],Gt=ot,Kt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$e,pgp:!1,env:{},finalize:$e},Be=Kt,ir=[],_n=0,Qo=[];function Ue(x){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var w=this._PSD=Be;if(typeof x!="function"){if(x!==fr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Br(this,this._value))}this._state=null,this._value=null,++w.ref,(function E(j,P){try{P(function(L){if(j._state===null){if(L===j)throw new TypeError("A promise cannot be resolved with itself.");var G=j._lib&&ri();L&&typeof L.then=="function"?E(j,function(W,ie){L instanceof Ue?L._then(W,ie):L.then(W,ie)}):(j._state=!0,j._value=L,ho(j)),G&&br()}},Br.bind(null,j))}catch(L){Br(j,L)}})(this,x)}var Bi={get:function(){var x=Be,w=go;function E(j,P){var L=this,G=!x.global&&(x!==Be||w!==go),W=G&&!Zn(),ie=new Ue(function(oe,fe){ni(L,new fo(es(j,x,G,W),es(P,x,G,W),oe,fe,x))});return this._consoleTask&&(ie._consoleTask=this._consoleTask),ie}return E.prototype=fr,E},set:function(x){C(this,"then",x&&x.prototype===fr?Bi:{get:function(){return x},set:Bi.set})}};function fo(x,w,E,j,P){this.onFulfilled=typeof x=="function"?x:null,this.onRejected=typeof w=="function"?w:null,this.resolve=E,this.reject=j,this.psd=P}function Br(x,w){var E,j;yn.push(w),x._state===null&&(E=x._lib&&ri(),w=Gt(w),x._state=!1,x._value=w,j=x,Vn.some(function(P){return P._value===j._value})||Vn.push(j),ho(x),E&&br())}function ho(x){var w=x._listeners;x._listeners=[];for(var E=0,j=w.length;E<j;++E)ni(x,w[E]);var P=x._PSD;--P.ref||P.finalize(),_n===0&&(++_n,ft(function(){--_n==0&&Ws()},[]))}function ni(x,w){if(x._state!==null){var E=x._state?w.onFulfilled:w.onRejected;if(E===null)return(x._state?w.resolve:w.reject)(x._value);++w.psd.ref,++_n,ft(Cu,[E,x,w])}else x._listeners.push(w)}function Cu(x,w,E){try{var j,P=w._value;!w._state&&yn.length&&(yn=[]),j=Nn&&w._consoleTask?w._consoleTask.run(function(){return x(P)}):x(P),w._state||yn.indexOf(P)!==-1||(function(L){for(var G=Vn.length;G;)if(Vn[--G]._value===L._value)return Vn.splice(G,1)})(w),E.resolve(j)}catch(L){E.reject(L)}finally{--_n==0&&Ws(),--E.psd.ref||E.psd.finalize()}}function Ua(){hr(Kt,function(){ri()&&br()})}function ri(){var x=wt;return jn=wt=!1,x}function br(){var x,w,E;do for(;0<ir.length;)for(x=ir,ir=[],E=x.length,w=0;w<E;++w){var j=x[w];j[0].apply(null,j[1])}while(0<ir.length);jn=wt=!0}function Ws(){var x=Vn;Vn=[],x.forEach(function(j){j._PSD.onunhandled.call(null,j._value,j)});for(var w=Qo.slice(0),E=w.length;E;)w[--E]()}function po(x){return new Ue(fr,!1,x)}function Rt(x,w){var E=Be;return function(){var j=ri(),P=Be;try{return oi(E,!0),x.apply(this,arguments)}catch(L){w&&w(L)}finally{oi(P,!1),j&&br()}}}y(Ue.prototype,{then:Bi,_then:function(x,w){ni(this,new fo(null,null,x,w,Be))},catch:function(x){if(arguments.length===1)return this.then(null,x);var w=x,E=arguments[1];return typeof w=="function"?this.then(null,function(j){return(j instanceof w?E:po)(j)}):this.then(null,function(j){return(j&&j.name===w?E:po)(j)})},finally:function(x){return this.then(function(w){return Ue.resolve(x()).then(function(){return w})},function(w){return Ue.resolve(x()).then(function(){return po(w)})})},timeout:function(x,w){var E=this;return x<1/0?new Ue(function(j,P){var L=setTimeout(function(){return P(new Se.Timeout(w))},x);E.then(j,P).finally(clearTimeout.bind(null,L))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(Ue.prototype,Symbol.toStringTag,"Dexie.Promise"),Kt.env=Qs(),y(Ue,{all:function(){var x=B.apply(null,arguments).map(Ci);return new Ue(function(w,E){x.length===0&&w([]);var j=x.length;x.forEach(function(P,L){return Ue.resolve(P).then(function(G){x[L]=G,--j||w(x)},E)})})},resolve:function(x){return x instanceof Ue?x:x&&typeof x.then=="function"?new Ue(function(w,E){x.then(w,E)}):new Ue(fr,!0,x)},reject:po,race:function(){var x=B.apply(null,arguments).map(Ci);return new Ue(function(w,E){x.map(function(j){return Ue.resolve(j).then(w,E)})})},PSD:{get:function(){return Be},set:function(x){return Be=x}},totalEchoes:{get:function(){return go}},newPSD:Lt,usePSD:hr,scheduler:{get:function(){return ft},set:function(x){ft=x}},rejectionMapper:{get:function(){return Gt},set:function(x){Gt=x}},follow:function(x,w){return new Ue(function(E,j){return Lt(function(P,L){var G=Be;G.unhandleds=[],G.onunhandled=L,G.finalize=vt(function(){var W,ie=this;W=function(){ie.unhandleds.length===0?P():L(ie.unhandleds[0])},Qo.push(function oe(){W(),Qo.splice(Qo.indexOf(oe),1)}),++_n,ft(function(){--_n==0&&Ws()},[])},G.finalize),x()},w,E,j)})}}),Re&&(Re.allSettled&&C(Ue,"allSettled",function(){var x=B.apply(null,arguments).map(Ci);return new Ue(function(w){x.length===0&&w([]);var E=x.length,j=new Array(E);x.forEach(function(P,L){return Ue.resolve(P).then(function(G){return j[L]={status:"fulfilled",value:G}},function(G){return j[L]={status:"rejected",reason:G}}).then(function(){return--E||w(j)})})})}),Re.any&&typeof AggregateError<"u"&&C(Ue,"any",function(){var x=B.apply(null,arguments).map(Ci);return new Ue(function(w,E){x.length===0&&E(new AggregateError([]));var j=x.length,P=new Array(j);x.forEach(function(L,G){return Ue.resolve(L).then(function(W){return w(W)},function(W){P[G]=W,--j||E(new AggregateError(P))})})})}),Re.withResolvers&&(Ue.withResolvers=Re.withResolvers));var un={awaits:0,echoes:0,id:0},Js=0,Vi=[],mo=0,go=0,ii=0;function Lt(x,w,E,j){var P=Be,L=Object.create(P);return L.parent=P,L.ref=0,L.global=!1,L.id=++ii,Kt.env,L.env=tt?{Promise:Ue,PromiseProp:{value:Ue,configurable:!0,writable:!0},all:Ue.all,race:Ue.race,allSettled:Ue.allSettled,any:Ue.any,resolve:Ue.resolve,reject:Ue.reject}:{},w&&f(L,w),++P.ref,L.finalize=function(){--this.parent.ref||this.parent.finalize()},j=hr(L,x,E,j),L.ref===0&&L.finalize(),j}function cn(){return un.id||(un.id=++Js),++un.awaits,un.echoes+=gn,un.id}function Zn(){return!!un.awaits&&(--un.awaits==0&&(un.id=0),un.echoes=un.awaits*gn,!0)}function Ci(x){return un.echoes&&x&&x.constructor===Re?(cn(),x.then(function(w){return Zn(),w},function(w){return Zn(),zt(w)})):x}function qa(){var x=Vi[Vi.length-1];Vi.pop(),oi(x,!1)}function oi(x,w){var E,j=Be;(w?!un.echoes||mo++&&x===Be:!mo||--mo&&x===Be)||queueMicrotask(w?(function(P){++go,un.echoes&&--un.echoes!=0||(un.echoes=un.awaits=un.id=0),Vi.push(Be),oi(P,!0)}).bind(null,x):qa),x!==Be&&(Be=x,j===Kt&&(Kt.env=Qs()),tt&&(E=Kt.env.Promise,w=x.env,(j.global||x.global)&&(Object.defineProperty(a,"Promise",w.PromiseProp),E.all=w.all,E.race=w.race,E.resolve=w.resolve,E.reject=w.reject,w.allSettled&&(E.allSettled=w.allSettled),w.any&&(E.any=w.any))))}function Qs(){var x=a.Promise;return tt?{Promise:x,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:x.all,race:x.race,allSettled:x.allSettled,any:x.any,resolve:x.resolve,reject:x.reject}:{}}function hr(x,w,E,j,P){var L=Be;try{return oi(x,!0),w(E,j,P)}finally{oi(L,!1)}}function es(x,w,E,j){return typeof x!="function"?x:function(){var P=Be;E&&cn(),oi(w,!0);try{return x.apply(this,arguments)}finally{oi(P,!1),j&&queueMicrotask(Zn)}}}function si(x){Promise===Re&&un.echoes===0?mo===0?x():enqueueNativeMicroTask(x):setTimeout(x,0)}(""+mr).indexOf("[native code]")===-1&&(cn=Zn=$e);var zt=Ue.reject,or="",Yn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",dn="String expected.",Ti=[],yo="__dbnames",Vr="readonly",ai="readwrite";function ki(x,w){return x?w?function(){return x.apply(this,arguments)&&w.apply(this,arguments)}:x:w}var ts={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function xo(x){return typeof x!="string"||/\./.test(x)?function(w){return w}:function(w){return w[x]===void 0&&x in w&&delete(w=ae(w))[x],w}}function Za(){throw Se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function pt(x,w){try{var E=vo(x),j=vo(w);if(E!==j)return E==="Array"?1:j==="Array"?-1:E==="binary"?1:j==="binary"?-1:E==="string"?1:j==="string"?-1:E==="Date"?1:j!=="Date"?NaN:-1;switch(E){case"number":case"Date":case"string":return w<x?1:x<w?-1:0;case"binary":return(function(P,L){for(var G=P.length,W=L.length,ie=G<W?G:W,oe=0;oe<ie;++oe)if(P[oe]!==L[oe])return P[oe]<L[oe]?-1:1;return G===W?0:G<W?-1:1})(wr(x),wr(w));case"Array":return(function(P,L){for(var G=P.length,W=L.length,ie=G<W?G:W,oe=0;oe<ie;++oe){var fe=pt(P[oe],L[oe]);if(fe!==0)return fe}return G===W?0:G<W?-1:1})(x,w)}}catch{}return NaN}function vo(x){var w=typeof x;return w!="object"?w:ArrayBuffer.isView(x)?"binary":(x=Q(x),x==="ArrayBuffer"?"binary":x)}function wr(x){return x instanceof Uint8Array?x:ArrayBuffer.isView(x)?new Uint8Array(x.buffer,x.byteOffset,x.byteLength):new Uint8Array(x)}function $n(x,w,E){var j=x.schema.yProps;return j?(w&&0<E.numFailures&&(w=w.filter(function(P,L){return!E.failures[L]})),Promise.all(j.map(function(P){return P=P.updatesTable,w?x.db.table(P).where("k").anyOf(w).delete():x.db.table(P).clear()})).then(function(){return E})):E}var $i=(Ya.prototype.execute=function(x){var w=this["@@propmod"];if(w.add!==void 0){var E=w.add;if(c(E))return s(s([],c(x)?x:[],!0),E).sort();if(typeof E=="number")return(Number(x)||0)+E;if(typeof E=="bigint")try{return BigInt(x)+E}catch{return BigInt(0)+E}throw new TypeError("Invalid term ".concat(E))}if(w.remove!==void 0){var j=w.remove;if(c(j))return c(x)?x.filter(function(P){return!j.includes(P)}).sort():[];if(typeof j=="number")return Number(x)-j;if(typeof j=="bigint")try{return BigInt(x)-j}catch{return BigInt(0)-j}throw new TypeError("Invalid subtrahend ".concat(j))}return E=(E=w.replacePrefix)===null||E===void 0?void 0:E[0],E&&typeof x=="string"&&x.startsWith(E)?w.replacePrefix[1]+x.substring(E.length):x},Ya);function Ya(x){this["@@propmod"]=x}function bo(x,w){for(var E=l(w),j=E.length,P=!1,L=0;L<j;++L){var G=E[L],W=w[G],ie=z(x,G);W instanceof $i?(D(x,G,W.execute(ie)),P=!0):ie!==W&&(D(x,G,W),P=!0)}return P}var ea=(jt.prototype._trans=function(x,w,E){var j=this._tx||Be.trans,P=this.name,L=Nn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(x==="readonly"?"read":"write"," ").concat(this.name));function G(oe,fe,re){if(!re.schema[P])throw new Se.NotFound("Table "+P+" not part of transaction");return w(re.idbtrans,re)}var W=ri();try{var ie=j&&j.db._novip===this.db._novip?j===Be.trans?j._promise(x,G,E):Lt(function(){return j._promise(x,G,E)},{trans:j,transless:Be.transless||Be}):(function oe(fe,re,pe,se){if(fe.idbdb&&(fe._state.openComplete||Be.letThrough||fe._vip)){var ce=fe._createTransaction(re,pe,fe._dbSchema);try{ce.create(),fe._state.PR1398_maxLoop=3}catch(de){return de.name===Te.InvalidState&&fe.isOpen()&&0<--fe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),fe.close({disableAutoOpen:!1}),fe.open().then(function(){return oe(fe,re,pe,se)})):zt(de)}return ce._promise(re,function(de,he){return Lt(function(){return Be.trans=ce,se(de,he,ce)})}).then(function(de){if(re==="readwrite")try{ce.idbtrans.commit()}catch{}return re==="readonly"?de:ce._completion.then(function(){return de})})}if(fe._state.openComplete)return zt(new Se.DatabaseClosed(fe._state.dbOpenError));if(!fe._state.isBeingOpened){if(!fe._state.autoOpen)return zt(new Se.DatabaseClosed);fe.open().catch($e)}return fe._state.dbReadyPromise.then(function(){return oe(fe,re,pe,se)})})(this.db,x,[this.name],G);return L&&(ie._consoleTask=L,ie=ie.catch(function(oe){return console.trace(oe),zt(oe)})),ie}finally{W&&br()}},jt.prototype.get=function(x,w){var E=this;return x&&x.constructor===Object?this.where(x).first(w):x==null?zt(new Se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(j){return E.core.get({trans:j,key:x}).then(function(P){return E.hook.reading.fire(P)})}).then(w)},jt.prototype.where=function(x){if(typeof x=="string")return new this.db.WhereClause(this,x);if(c(x))return new this.db.WhereClause(this,"[".concat(x.join("+"),"]"));var w=l(x);if(w.length===1)return this.where(w[0]).equals(x[w[0]]);var E=this.schema.indexes.concat(this.schema.primKey).filter(function(W){if(W.compound&&w.every(function(oe){return 0<=W.keyPath.indexOf(oe)})){for(var ie=0;ie<w.length;++ie)if(w.indexOf(W.keyPath[ie])===-1)return!1;return!0}return!1}).sort(function(W,ie){return W.keyPath.length-ie.keyPath.length})[0];if(E&&this.db._maxKey!==or){var L=E.keyPath.slice(0,w.length);return this.where(L).equals(L.map(function(ie){return x[ie]}))}!E&&Nn&&console.warn("The query ".concat(JSON.stringify(x)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(w.join("+"),"]"));var j=this.schema.idxByName;function P(W,ie){return pt(W,ie)===0}var G=w.reduce(function(re,ie){var oe=re[0],fe=re[1],re=j[ie],pe=x[ie];return[oe||re,oe||!re?ki(fe,re&&re.multi?function(se){return se=z(se,ie),c(se)&&se.some(function(ce){return P(pe,ce)})}:function(se){return P(pe,z(se,ie))}):fe]},[null,null]),L=G[0],G=G[1];return L?this.where(L.name).equals(x[L.keyPath]).filter(G):E?this.filter(G):this.where(w).equals("")},jt.prototype.filter=function(x){return this.toCollection().and(x)},jt.prototype.count=function(x){return this.toCollection().count(x)},jt.prototype.offset=function(x){return this.toCollection().offset(x)},jt.prototype.limit=function(x){return this.toCollection().limit(x)},jt.prototype.each=function(x){return this.toCollection().each(x)},jt.prototype.toArray=function(x){return this.toCollection().toArray(x)},jt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},jt.prototype.orderBy=function(x){return new this.db.Collection(new this.db.WhereClause(this,c(x)?"[".concat(x.join("+"),"]"):x))},jt.prototype.reverse=function(){return this.toCollection().reverse()},jt.prototype.mapToClass=function(x){var w,E=this.db,j=this.name;function P(){return w!==null&&w.apply(this,arguments)||this}(this.schema.mappedClass=x).prototype instanceof Za&&((function(ie,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function fe(){this.constructor=ie}n(ie,oe),ie.prototype=oe===null?Object.create(oe):(fe.prototype=oe.prototype,new fe)})(P,w=x),Object.defineProperty(P.prototype,"db",{get:function(){return E},enumerable:!1,configurable:!0}),P.prototype.table=function(){return j},x=P);for(var L=new Set,G=x.prototype;G;G=h(G))Object.getOwnPropertyNames(G).forEach(function(ie){return L.add(ie)});function W(ie){if(!ie)return ie;var oe,fe=Object.create(x.prototype);for(oe in ie)if(!L.has(oe))try{fe[oe]=ie[oe]}catch{}return fe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=W,this.hook("reading",W),x},jt.prototype.defineClass=function(){return this.mapToClass(function(x){f(this,x)})},jt.prototype.add=function(x,w){var E=this,j=this.schema.primKey,P=j.auto,L=j.keyPath,G=x;return L&&P&&(G=xo(L)(x)),this._trans("readwrite",function(W){return E.core.mutate({trans:W,type:"add",keys:w!=null?[w]:null,values:[G]})}).then(function(W){return W.numFailures?Ue.reject(W.failures[0]):W.lastResult}).then(function(W){if(L)try{D(x,L,W)}catch{}return W})},jt.prototype.upsert=function(x,w){var E=this,j=this.schema.primKey.keyPath;return this._trans("readwrite",function(P){return E.core.get({trans:P,key:x}).then(function(L){var G=L??{};return bo(G,w),j&&D(G,j,x),E.core.mutate({trans:P,type:"put",values:[G],keys:[x],upsert:!0,updates:{keys:[x],changeSpecs:[w]}}).then(function(W){return W.numFailures?Ue.reject(W.failures[0]):!!L})})})},jt.prototype.update=function(x,w){return typeof x!="object"||c(x)?this.where(":id").equals(x).modify(w):(x=z(x,this.schema.primKey.keyPath),x===void 0?zt(new Se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(x).modify(w))},jt.prototype.put=function(x,w){var E=this,j=this.schema.primKey,P=j.auto,L=j.keyPath,G=x;return L&&P&&(G=xo(L)(x)),this._trans("readwrite",function(W){return E.core.mutate({trans:W,type:"put",values:[G],keys:w!=null?[w]:null})}).then(function(W){return W.numFailures?Ue.reject(W.failures[0]):W.lastResult}).then(function(W){if(L)try{D(x,L,W)}catch{}return W})},jt.prototype.delete=function(x){var w=this;return this._trans("readwrite",function(E){return w.core.mutate({trans:E,type:"delete",keys:[x]}).then(function(j){return $n(w,[x],j)}).then(function(j){return j.numFailures?Ue.reject(j.failures[0]):void 0})})},jt.prototype.clear=function(){var x=this;return this._trans("readwrite",function(w){return x.core.mutate({trans:w,type:"deleteRange",range:ts}).then(function(E){return $n(x,null,E)})}).then(function(w){return w.numFailures?Ue.reject(w.failures[0]):void 0})},jt.prototype.bulkGet=function(x){var w=this;return this._trans("readonly",function(E){return w.core.getMany({keys:x,trans:E}).then(function(j){return j.map(function(P){return w.hook.reading.fire(P)})})})},jt.prototype.bulkAdd=function(x,w,E){var j=this,P=Array.isArray(w)?w:void 0,L=(E=E||(P?void 0:w))?E.allKeys:void 0;return this._trans("readwrite",function(G){var oe=j.schema.primKey,W=oe.auto,oe=oe.keyPath;if(oe&&P)throw new Se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(P&&P.length!==x.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var ie=x.length,oe=oe&&W?x.map(xo(oe)):x;return j.core.mutate({trans:G,type:"add",keys:P,values:oe,wantResults:L}).then(function(ce){var re=ce.numFailures,pe=ce.results,se=ce.lastResult,ce=ce.failures;if(re===0)return L?pe:se;throw new Ee("".concat(j.name,".bulkAdd(): ").concat(re," of ").concat(ie," operations failed"),ce)})})},jt.prototype.bulkPut=function(x,w,E){var j=this,P=Array.isArray(w)?w:void 0,L=(E=E||(P?void 0:w))?E.allKeys:void 0;return this._trans("readwrite",function(G){var oe=j.schema.primKey,W=oe.auto,oe=oe.keyPath;if(oe&&P)throw new Se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(P&&P.length!==x.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var ie=x.length,oe=oe&&W?x.map(xo(oe)):x;return j.core.mutate({trans:G,type:"put",keys:P,values:oe,wantResults:L}).then(function(ce){var re=ce.numFailures,pe=ce.results,se=ce.lastResult,ce=ce.failures;if(re===0)return L?pe:se;throw new Ee("".concat(j.name,".bulkPut(): ").concat(re," of ").concat(ie," operations failed"),ce)})})},jt.prototype.bulkUpdate=function(x){var w=this,E=this.core,j=x.map(function(G){return G.key}),P=x.map(function(G){return G.changes}),L=[];return this._trans("readwrite",function(G){return E.getMany({trans:G,keys:j,cache:"clone"}).then(function(W){var ie=[],oe=[];x.forEach(function(re,pe){var se=re.key,ce=re.changes,de=W[pe];if(de){for(var he=0,ye=Object.keys(ce);he<ye.length;he++){var be=ye[he],Ce=ce[be];if(be===w.schema.primKey.keyPath){if(pt(Ce,se)!==0)throw new Se.Constraint("Cannot update primary key in bulkUpdate()")}else D(de,be,Ce)}L.push(pe),ie.push(se),oe.push(de)}});var fe=ie.length;return E.mutate({trans:G,type:"put",keys:ie,values:oe,updates:{keys:j,changeSpecs:P}}).then(function(re){var pe=re.numFailures,se=re.failures;if(pe===0)return fe;for(var ce=0,de=Object.keys(se);ce<de.length;ce++){var he,ye=de[ce],be=L[Number(ye)];be!=null&&(he=se[ye],delete se[ye],se[be]=he)}throw new Ee("".concat(w.name,".bulkUpdate(): ").concat(pe," of ").concat(fe," operations failed"),se)})})})},jt.prototype.bulkDelete=function(x){var w=this,E=x.length;return this._trans("readwrite",function(j){return w.core.mutate({trans:j,type:"delete",keys:x}).then(function(P){return $n(w,x,P)})}).then(function(G){var P=G.numFailures,L=G.lastResult,G=G.failures;if(P===0)return L;throw new Ee("".concat(w.name,".bulkDelete(): ").concat(P," of ").concat(E," operations failed"),G)})},jt);function jt(){}function wo(x){function w(G,W){if(W){for(var ie=arguments.length,oe=new Array(ie-1);--ie;)oe[ie-1]=arguments[ie];return E[G].subscribe.apply(null,oe),x}if(typeof G=="string")return E[G]}var E={};w.addEventType=L;for(var j=1,P=arguments.length;j<P;++j)L(arguments[j]);return w;function L(G,W,ie){if(typeof G!="object"){var oe;W=W||Fr;var fe={subscribers:[],fire:ie=ie||$e,subscribe:function(re){fe.subscribers.indexOf(re)===-1&&(fe.subscribers.push(re),fe.fire=W(fe.fire,re))},unsubscribe:function(re){fe.subscribers=fe.subscribers.filter(function(pe){return pe!==re}),fe.fire=fe.subscribers.reduce(W,ie)}};return E[G]=w[G]=fe}l(oe=G).forEach(function(re){var pe=oe[re];if(c(pe))L(re,oe[re][0],oe[re][1]);else{if(pe!=="asap")throw new Se.InvalidArgument("Invalid event config");var se=L(re,ot,function(){for(var ce=arguments.length,de=new Array(ce);ce--;)de[ce]=arguments[ce];se.subscribers.forEach(function(he){R(function(){he.apply(null,de)})})})}})}}function xn(x,w){return N(w).from({prototype:x}),w}function li(x,w){return!(x.filter||x.algorithm||x.or)&&(w?x.justLimit:!x.replayFilter)}function ns(x,w){x.filter=ki(x.filter,w)}function Hi(x,w,E){var j=x.replayFilter;x.replayFilter=j?function(){return ki(j(),w())}:w,x.justLimit=E&&!j}function ji(x,w){if(x.isPrimKey)return w.primaryKey;var E=w.getIndexByKeyPath(x.index);if(!E)throw new Se.Schema("KeyPath "+x.index+" on object store "+w.name+" is not indexed");return E}function Tu(x,w,E){var j=ji(x,w.schema);return w.openCursor({trans:E,values:!x.keysOnly,reverse:x.dir==="prev",unique:!!x.unique,query:{index:j,range:x.range}})}function ta(x,w,E,j){var P=x.replayFilter?ki(x.filter,x.replayFilter()):x.filter;if(x.or){var L={},G=function(W,ie,oe){var fe,re;P&&!P(ie,oe,function(pe){return ie.stop(pe)},function(pe){return ie.fail(pe)})||((re=""+(fe=ie.primaryKey))=="[object ArrayBuffer]"&&(re=""+new Uint8Array(fe)),g(L,re)||(L[re]=!0,w(W,ie,oe)))};return Promise.all([x.or._iterate(G,E),So(Tu(x,j,E),x.algorithm,G,!x.keysOnly&&x.valueMapper)])}return So(Tu(x,j,E),ki(x.algorithm,P),w,!x.keysOnly&&x.valueMapper)}function So(x,w,E,j){var P=Rt(j?function(L,G,W){return E(j(L),G,W)}:E);return x.then(function(L){if(L)return L.start(function(){var G=function(){return L.continue()};w&&!w(L,function(W){return G=W},function(W){L.stop(W),G=$e},function(W){L.fail(W),G=$e})||P(L.value,L,function(W){return G=W}),G()})})}var Mp=(Ct.prototype._read=function(x,w){var E=this._ctx;return E.error?E.table._trans(null,zt.bind(null,E.error)):E.table._trans("readonly",x).then(w)},Ct.prototype._write=function(x){var w=this._ctx;return w.error?w.table._trans(null,zt.bind(null,w.error)):w.table._trans("readwrite",x,"locked")},Ct.prototype._addAlgorithm=function(x){var w=this._ctx;w.algorithm=ki(w.algorithm,x)},Ct.prototype._iterate=function(x,w){return ta(this._ctx,x,w,this._ctx.table.core)},Ct.prototype.clone=function(x){var w=Object.create(this.constructor.prototype),E=Object.create(this._ctx);return x&&f(E,x),w._ctx=E,w},Ct.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ct.prototype.each=function(x){var w=this._ctx;return this._read(function(E){return ta(w,x,E,w.table.core)})},Ct.prototype.count=function(x){var w=this;return this._read(function(E){var j=w._ctx,P=j.table.core;if(li(j,!0))return P.count({trans:E,query:{index:ji(j,P.schema),range:j.range}}).then(function(G){return Math.min(G,j.limit)});var L=0;return ta(j,function(){return++L,!1},E,P).then(function(){return L})}).then(x)},Ct.prototype.sortBy=function(x,w){var E=x.split(".").reverse(),j=E[0],P=E.length-1;function L(ie,oe){return oe?L(ie[E[oe]],oe-1):ie[j]}var G=this._ctx.dir==="next"?1:-1;function W(ie,oe){return pt(L(ie,P),L(oe,P))*G}return this.toArray(function(ie){return ie.sort(W)}).then(w)},Ct.prototype.toArray=function(x){var w=this;return this._read(function(E){var j=w._ctx;if(j.dir==="next"&&li(j,!0)&&0<j.limit){var P=j.valueMapper,L=ji(j,j.table.core.schema);return j.table.core.query({trans:E,limit:j.limit,values:!0,query:{index:L,range:j.range}}).then(function(W){return W=W.result,P?W.map(P):W})}var G=[];return ta(j,function(W){return G.push(W)},E,j.table.core).then(function(){return G})},x)},Ct.prototype.offset=function(x){var w=this._ctx;return x<=0||(w.offset+=x,li(w)?Hi(w,function(){var E=x;return function(j,P){return E===0||(E===1?--E:P(function(){j.advance(E),E=0}),!1)}}):Hi(w,function(){var E=x;return function(){return--E<0}})),this},Ct.prototype.limit=function(x){return this._ctx.limit=Math.min(this._ctx.limit,x),Hi(this._ctx,function(){var w=x;return function(E,j,P){return--w<=0&&j(P),0<=w}},!0),this},Ct.prototype.until=function(x,w){return ns(this._ctx,function(E,j,P){return!x(E.value)||(j(P),w)}),this},Ct.prototype.first=function(x){return this.limit(1).toArray(function(w){return w[0]}).then(x)},Ct.prototype.last=function(x){return this.reverse().first(x)},Ct.prototype.filter=function(x){var w;return ns(this._ctx,function(E){return x(E.value)}),(w=this._ctx).isMatch=ki(w.isMatch,x),this},Ct.prototype.and=function(x){return this.filter(x)},Ct.prototype.or=function(x){return new this.db.WhereClause(this._ctx.table,x,this)},Ct.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ct.prototype.desc=function(){return this.reverse()},Ct.prototype.eachKey=function(x){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(E,j){x(j.key,j)})},Ct.prototype.eachUniqueKey=function(x){return this._ctx.unique="unique",this.eachKey(x)},Ct.prototype.eachPrimaryKey=function(x){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(E,j){x(j.primaryKey,j)})},Ct.prototype.keys=function(x){var w=this._ctx;w.keysOnly=!w.isMatch;var E=[];return this.each(function(j,P){E.push(P.key)}).then(function(){return E}).then(x)},Ct.prototype.primaryKeys=function(x){var w=this._ctx;if(w.dir==="next"&&li(w,!0)&&0<w.limit)return this._read(function(j){var P=ji(w,w.table.core.schema);return w.table.core.query({trans:j,values:!1,limit:w.limit,query:{index:P,range:w.range}})}).then(function(j){return j.result}).then(x);w.keysOnly=!w.isMatch;var E=[];return this.each(function(j,P){E.push(P.primaryKey)}).then(function(){return E}).then(x)},Ct.prototype.uniqueKeys=function(x){return this._ctx.unique="unique",this.keys(x)},Ct.prototype.firstKey=function(x){return this.limit(1).keys(function(w){return w[0]}).then(x)},Ct.prototype.lastKey=function(x){return this.reverse().firstKey(x)},Ct.prototype.distinct=function(){var x=this._ctx,x=x.index&&x.table.schema.idxByName[x.index];if(!x||!x.multi)return this;var w={};return ns(this._ctx,function(P){var j=P.primaryKey.toString(),P=g(w,j);return w[j]=!0,!P}),this},Ct.prototype.modify=function(x){var w=this,E=this._ctx;return this._write(function(j){var P=typeof x=="function"?x:function(de){return bo(de,x)},L=E.table.core,oe=L.schema.primaryKey,G=oe.outbound,W=oe.extractKey,ie=200,oe=w.db._options.modifyChunkSize;oe&&(ie=typeof oe=="object"?oe[L.name]||oe["*"]||200:oe);function fe(de,be){var ye=be.failures,be=be.numFailures;pe+=de-be;for(var Ce=0,De=l(ye);Ce<De.length;Ce++){var Fe=De[Ce];re.push(ye[Fe])}}var re=[],pe=0,se=[],ce=x===ku;return w.clone().primaryKeys().then(function(de){function he(be){var Ce=Math.min(ie,de.length-be),De=de.slice(be,be+Ce);return(ce?Promise.resolve([]):L.getMany({trans:j,keys:De,cache:"immutable"})).then(function(Fe){var qe=[],Pe=[],Ve=G?[]:null,He=ce?De:[];if(!ce)for(var Ie=0;Ie<Ce;++Ie){var Ye=Fe[Ie],nt={value:ae(Ye),primKey:de[be+Ie]};P.call(nt,nt.value,nt)!==!1&&(nt.value==null?He.push(de[be+Ie]):G||pt(W(Ye),W(nt.value))===0?(Pe.push(nt.value),G&&Ve.push(de[be+Ie])):(He.push(de[be+Ie]),qe.push(nt.value)))}return Promise.resolve(0<qe.length&&L.mutate({trans:j,type:"add",values:qe}).then(function(ct){for(var mt in ct.failures)He.splice(parseInt(mt),1);fe(qe.length,ct)})).then(function(){return(0<Pe.length||ye&&typeof x=="object")&&L.mutate({trans:j,type:"put",keys:Ve,values:Pe,criteria:ye,changeSpec:typeof x!="function"&&x,isAdditionalChunk:0<be}).then(function(ct){return fe(Pe.length,ct)})}).then(function(){return(0<He.length||ye&&ce)&&L.mutate({trans:j,type:"delete",keys:He,criteria:ye,isAdditionalChunk:0<be}).then(function(ct){return $n(E.table,He,ct)}).then(function(ct){return fe(He.length,ct)})}).then(function(){return de.length>be+Ce&&he(be+ie)})})}var ye=li(E)&&E.limit===1/0&&(typeof x!="function"||ce)&&{index:E.index,range:E.range};return he(0).then(function(){if(0<re.length)throw new Oe("Error modifying one or more objects",re,pe,se);return de.length})})})},Ct.prototype.delete=function(){var x=this._ctx,w=x.range;return!li(x)||x.table.schema.yProps||!x.isPrimKey&&w.type!==3?this.modify(ku):this._write(function(E){var j=x.table.core.schema.primaryKey,P=w;return x.table.core.count({trans:E,query:{index:j,range:P}}).then(function(L){return x.table.core.mutate({trans:E,type:"deleteRange",range:P}).then(function(ie){var W=ie.failures,ie=ie.numFailures;if(ie)throw new Oe("Could not delete some values",Object.keys(W).map(function(oe){return W[oe]}),L-ie);return L-ie})})})},Ct);function Ct(){}var ku=function(x,w){return w.value=null};function ju(x,w){return x<w?-1:x===w?0:1}function Op(x,w){return w<x?-1:x===w?0:1}function pr(x,w,E){return x=x instanceof No?new x.Collection(x):x,x._ctx.error=new(E||TypeError)(w),x}function Ai(x){return new x.Collection(x,function(){return Ga("")}).limit(0)}function Sr(x,w,E,j){var P,L,G,W,ie,oe,fe,re=E.length;if(!E.every(function(ce){return typeof ce=="string"}))return pr(x,dn);function pe(ce){P=ce==="next"?function(he){return he.toUpperCase()}:function(he){return he.toLowerCase()},L=ce==="next"?function(he){return he.toLowerCase()}:function(he){return he.toUpperCase()},G=ce==="next"?ju:Op;var de=E.map(function(he){return{lower:L(he),upper:P(he)}}).sort(function(he,ye){return G(he.lower,ye.lower)});W=de.map(function(he){return he.upper}),ie=de.map(function(he){return he.lower}),fe=(oe=ce)==="next"?"":j}pe("next"),x=new x.Collection(x,function(){return ui(W[0],ie[re-1]+j)}),x._ondirectionchange=function(ce){pe(ce)};var se=0;return x._addAlgorithm(function(ce,de,he){var ye=ce.key;if(typeof ye!="string")return!1;var be=L(ye);if(w(be,ie,se))return!0;for(var Ce=null,De=se;De<re;++De){var Fe=(function(qe,Pe,Ve,He,Ie,Ye){for(var nt=Math.min(qe.length,He.length),ct=-1,mt=0;mt<nt;++mt){var Xn=Pe[mt];if(Xn!==He[mt])return Ie(qe[mt],Ve[mt])<0?qe.substr(0,mt)+Ve[mt]+Ve.substr(mt+1):Ie(qe[mt],He[mt])<0?qe.substr(0,mt)+He[mt]+Ve.substr(mt+1):0<=ct?qe.substr(0,ct)+Pe[ct]+Ve.substr(ct+1):null;Ie(qe[mt],Xn)<0&&(ct=mt)}return nt<He.length&&Ye==="next"?qe+Ve.substr(qe.length):nt<qe.length&&Ye==="prev"?qe.substr(0,Ve.length):ct<0?null:qe.substr(0,ct)+He[ct]+Ve.substr(ct+1)})(ye,be,W[De],ie[De],G,oe);Fe===null&&Ce===null?se=De+1:(Ce===null||0<G(Ce,Fe))&&(Ce=Fe)}return de(Ce!==null?function(){ce.continue(Ce+fe)}:he),!1}),x}function ui(x,w,E,j){return{type:2,lower:x,upper:w,lowerOpen:E,upperOpen:j}}function Ga(x){return{type:1,lower:x,upper:x}}var No=(Object.defineProperty(Xt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Xt.prototype.between=function(x,w,E,j){E=E!==!1,j=j===!0;try{return 0<this._cmp(x,w)||this._cmp(x,w)===0&&(E||j)&&(!E||!j)?Ai(this):new this.Collection(this,function(){return ui(x,w,!E,!j)})}catch{return pr(this,Yn)}},Xt.prototype.equals=function(x){return x==null?pr(this,Yn):new this.Collection(this,function(){return Ga(x)})},Xt.prototype.above=function(x){return x==null?pr(this,Yn):new this.Collection(this,function(){return ui(x,void 0,!0)})},Xt.prototype.aboveOrEqual=function(x){return x==null?pr(this,Yn):new this.Collection(this,function(){return ui(x,void 0,!1)})},Xt.prototype.below=function(x){return x==null?pr(this,Yn):new this.Collection(this,function(){return ui(void 0,x,!1,!0)})},Xt.prototype.belowOrEqual=function(x){return x==null?pr(this,Yn):new this.Collection(this,function(){return ui(void 0,x)})},Xt.prototype.startsWith=function(x){return typeof x!="string"?pr(this,dn):this.between(x,x+or,!0,!0)},Xt.prototype.startsWithIgnoreCase=function(x){return x===""?this.startsWith(x):Sr(this,function(w,E){return w.indexOf(E[0])===0},[x],or)},Xt.prototype.equalsIgnoreCase=function(x){return Sr(this,function(w,E){return w===E[0]},[x],"")},Xt.prototype.anyOfIgnoreCase=function(){var x=B.apply(ue,arguments);return x.length===0?Ai(this):Sr(this,function(w,E){return E.indexOf(w)!==-1},x,"")},Xt.prototype.startsWithAnyOfIgnoreCase=function(){var x=B.apply(ue,arguments);return x.length===0?Ai(this):Sr(this,function(w,E){return E.some(function(j){return w.indexOf(j)===0})},x,or)},Xt.prototype.anyOf=function(){var x=this,w=B.apply(ue,arguments),E=this._cmp;try{w.sort(E)}catch{return pr(this,Yn)}if(w.length===0)return Ai(this);var j=new this.Collection(this,function(){return ui(w[0],w[w.length-1])});j._ondirectionchange=function(L){E=L==="next"?x._ascending:x._descending,w.sort(E)};var P=0;return j._addAlgorithm(function(L,G,W){for(var ie=L.key;0<E(ie,w[P]);)if(++P===w.length)return G(W),!1;return E(ie,w[P])===0||(G(function(){L.continue(w[P])}),!1)}),j},Xt.prototype.notEqual=function(x){return this.inAnyRange([[-1/0,x],[x,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Xt.prototype.noneOf=function(){var x=B.apply(ue,arguments);if(x.length===0)return new this.Collection(this);try{x.sort(this._ascending)}catch{return pr(this,Yn)}var w=x.reduce(function(E,j){return E?E.concat([[E[E.length-1][1],j]]):[[-1/0,j]]},null);return w.push([x[x.length-1],this.db._maxKey]),this.inAnyRange(w,{includeLowers:!1,includeUppers:!1})},Xt.prototype.inAnyRange=function(ye,w){var E=this,j=this._cmp,P=this._ascending,L=this._descending,G=this._min,W=this._max;if(ye.length===0)return Ai(this);if(!ye.every(function(be){return be[0]!==void 0&&be[1]!==void 0&&P(be[0],be[1])<=0}))return pr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Se.InvalidArgument);var ie=!w||w.includeLowers!==!1,oe=w&&w.includeUppers===!0,fe,re=P;function pe(be,Ce){return re(be[0],Ce[0])}try{(fe=ye.reduce(function(be,Ce){for(var De=0,Fe=be.length;De<Fe;++De){var qe=be[De];if(j(Ce[0],qe[1])<0&&0<j(Ce[1],qe[0])){qe[0]=G(qe[0],Ce[0]),qe[1]=W(qe[1],Ce[1]);break}}return De===Fe&&be.push(Ce),be},[])).sort(pe)}catch{return pr(this,Yn)}var se=0,ce=oe?function(be){return 0<P(be,fe[se][1])}:function(be){return 0<=P(be,fe[se][1])},de=ie?function(be){return 0<L(be,fe[se][0])}:function(be){return 0<=L(be,fe[se][0])},he=ce,ye=new this.Collection(this,function(){return ui(fe[0][0],fe[fe.length-1][1],!ie,!oe)});return ye._ondirectionchange=function(be){re=be==="next"?(he=ce,P):(he=de,L),fe.sort(pe)},ye._addAlgorithm(function(be,Ce,De){for(var Fe,qe=be.key;he(qe);)if(++se===fe.length)return Ce(De),!1;return!ce(Fe=qe)&&!de(Fe)||(E._cmp(qe,fe[se][1])===0||E._cmp(qe,fe[se][0])===0||Ce(function(){re===P?be.continue(fe[se][0]):be.continue(fe[se][1])}),!1)}),ye},Xt.prototype.startsWithAnyOf=function(){var x=B.apply(ue,arguments);return x.every(function(w){return typeof w=="string"})?x.length===0?Ai(this):this.inAnyRange(x.map(function(w){return[w,w+or]})):pr(this,"startsWithAnyOf() only works with strings")},Xt);function Xt(){}function $r(x){return Rt(function(w){return _o(w),x(w.target.error),!1})}function _o(x){x.stopPropagation&&x.stopPropagation(),x.preventDefault&&x.preventDefault()}var rs="storagemutated",Eo="x-storagemutated-1",Gn=wo(null,rs),Au=(sr.prototype._lock=function(){return O(!Be.global),++this._reculock,this._reculock!==1||Be.global||(Be.lockOwnerFor=this),this},sr.prototype._unlock=function(){if(O(!Be.global),--this._reculock==0)for(Be.global||(Be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var x=this._blockedFuncs.shift();try{hr(x[1],x[0])}catch{}}return this},sr.prototype._locked=function(){return this._reculock&&Be.lockOwnerFor!==this},sr.prototype.create=function(x){var w=this;if(!this.mode)return this;var E=this.db.idbdb,j=this.db._state.dbOpenError;if(O(!this.idbtrans),!x&&!E)switch(j&&j.name){case"DatabaseClosedError":throw new Se.DatabaseClosed(j);case"MissingAPIError":throw new Se.MissingAPI(j.message,j);default:throw new Se.OpenFailed(j)}if(!this.active)throw new Se.TransactionInactive;return O(this._completion._state===null),(x=this.idbtrans=x||(this.db.core||E).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Rt(function(P){_o(P),w._reject(x.error)}),x.onabort=Rt(function(P){_o(P),w.active&&w._reject(new Se.Abort(x.error)),w.active=!1,w.on("abort").fire(P)}),x.oncomplete=Rt(function(){w.active=!1,w._resolve(),"mutatedParts"in x&&Gn.storagemutated.fire(x.mutatedParts)}),this},sr.prototype._promise=function(x,w,E){var j=this;if(x==="readwrite"&&this.mode!=="readwrite")return zt(new Se.ReadOnly("Transaction is readonly"));if(!this.active)return zt(new Se.TransactionInactive);if(this._locked())return new Ue(function(L,G){j._blockedFuncs.push([function(){j._promise(x,w,E).then(L,G)},Be])});if(E)return Lt(function(){var L=new Ue(function(G,W){j._lock();var ie=w(G,W,j);ie&&ie.then&&ie.then(G,W)});return L.finally(function(){return j._unlock()}),L._lib=!0,L});var P=new Ue(function(L,G){var W=w(L,G,j);W&&W.then&&W.then(L,G)});return P._lib=!0,P},sr.prototype._root=function(){return this.parent?this.parent._root():this},sr.prototype.waitFor=function(x){var w,E=this._root(),j=Ue.resolve(x);E._waitingFor?E._waitingFor=E._waitingFor.then(function(){return j}):(E._waitingFor=j,E._waitingQueue=[],w=E.idbtrans.objectStore(E.storeNames[0]),(function L(){for(++E._spinCount;E._waitingQueue.length;)E._waitingQueue.shift()();E._waitingFor&&(w.get(-1/0).onsuccess=L)})());var P=E._waitingFor;return new Ue(function(L,G){j.then(function(W){return E._waitingQueue.push(Rt(L.bind(null,W)))},function(W){return E._waitingQueue.push(Rt(G.bind(null,W)))}).finally(function(){E._waitingFor===P&&(E._waitingFor=null)})})},sr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Se.Abort))},sr.prototype.table=function(x){var w=this._memoizedTables||(this._memoizedTables={});if(g(w,x))return w[x];var E=this.schema[x];if(!E)throw new Se.NotFound("Table "+x+" not part of transaction");return E=new this.db.Table(x,E,this),E.core=this.db.core.table(x),w[x]=E},sr);function sr(){}function ci(x,w,E,j,P,L,G,W){return{name:x,keyPath:w,unique:E,multi:j,auto:P,compound:L,src:(E&&!G?"&":"")+(j?"*":"")+(P?"++":"")+Ka(w),type:W}}function Ka(x){return typeof x=="string"?x:x?"["+[].join.call(x,"+")+"]":""}function is(x,w,E){return{name:x,primKey:w,indexes:E,mappedClass:null,idxByName:(j=function(P){return[P.name,P]},E.reduce(function(P,L,G){return G=j(L,G),G&&(P[G[0]]=G[1]),P},{}))};var j}var os=function(x){try{return x.only([[]]),os=function(){return[[]]},[[]]}catch{return os=function(){return or},or}};function ss(x){return x==null?function(){}:typeof x=="string"?(w=x).split(".").length===1?function(E){return E[w]}:function(E){return z(E,w)}:function(E){return z(E,x)};var w}function na(x){return[].slice.call(x)}var Rd=0;function An(x){return x==null?":id":typeof x=="string"?x:"[".concat(x.join("+"),"]")}function Co(x,w,ie){function j(he){if(he.type===3)return null;if(he.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var se=he.lower,ce=he.upper,de=he.lowerOpen,he=he.upperOpen;return se===void 0?ce===void 0?null:w.upperBound(ce,!!he):ce===void 0?w.lowerBound(se,!!de):w.bound(se,ce,!!de,!!he)}function P(pe){var se,ce=pe.name;return{name:ce,schema:pe,mutate:function(de){var he=de.trans,ye=de.type,be=de.keys,Ce=de.values,De=de.range;return new Promise(function(Fe,qe){Fe=Rt(Fe);var Pe=he.objectStore(ce),Ve=Pe.keyPath==null,He=ye==="put"||ye==="add";if(!He&&ye!=="delete"&&ye!=="deleteRange")throw new Error("Invalid operation type: "+ye);var Ie,Ye=(be||Ce||{length:1}).length;if(be&&Ce&&be.length!==Ce.length)throw new Error("Given keys array must have same length as given values array.");if(Ye===0)return Fe({numFailures:0,failures:{},results:[],lastResult:void 0});function nt(On){++Xn,_o(On)}var ct=[],mt=[],Xn=0;if(ye==="deleteRange"){if(De.type===4)return Fe({numFailures:Xn,failures:mt,results:[],lastResult:void 0});De.type===3?ct.push(Ie=Pe.clear()):ct.push(Ie=Pe.delete(j(De)))}else{var Ve=He?Ve?[Ce,be]:[Ce,null]:[be,null],lt=Ve[0],Mn=Ve[1];if(He)for(var nn=0;nn<Ye;++nn)ct.push(Ie=Mn&&Mn[nn]!==void 0?Pe[ye](lt[nn],Mn[nn]):Pe[ye](lt[nn])),Ie.onerror=nt;else for(nn=0;nn<Ye;++nn)ct.push(Ie=Pe[ye](lt[nn])),Ie.onerror=nt}function ua(On){On=On.target.result,ct.forEach(function(Nr,Uu){return Nr.error!=null&&(mt[Uu]=Nr.error)}),Fe({numFailures:Xn,failures:mt,results:ye==="delete"?be:ct.map(function(Nr){return Nr.result}),lastResult:On})}Ie.onerror=function(On){nt(On),ua(On)},Ie.onsuccess=ua})},getMany:function(de){var he=de.trans,ye=de.keys;return new Promise(function(be,Ce){be=Rt(be);for(var De,Fe=he.objectStore(ce),qe=ye.length,Pe=new Array(qe),Ve=0,He=0,Ie=function(ct){ct=ct.target,Pe[ct._pos]=ct.result,++He===Ve&&be(Pe)},Ye=$r(Ce),nt=0;nt<qe;++nt)ye[nt]!=null&&((De=Fe.get(ye[nt]))._pos=nt,De.onsuccess=Ie,De.onerror=Ye,++Ve);Ve===0&&be(Pe)})},get:function(de){var he=de.trans,ye=de.key;return new Promise(function(be,Ce){be=Rt(be);var De=he.objectStore(ce).get(ye);De.onsuccess=function(Fe){return be(Fe.target.result)},De.onerror=$r(Ce)})},query:(se=oe,function(de){return new Promise(function(he,ye){he=Rt(he);var be,Ce,De,Ve=de.trans,Fe=de.values,qe=de.limit,Ie=de.query,Pe=qe===1/0?void 0:qe,He=Ie.index,Ie=Ie.range,Ve=Ve.objectStore(ce),He=He.isPrimaryKey?Ve:Ve.index(He.name),Ie=j(Ie);if(qe===0)return he({result:[]});se?((Pe=Fe?He.getAll(Ie,Pe):He.getAllKeys(Ie,Pe)).onsuccess=function(Ye){return he({result:Ye.target.result})},Pe.onerror=$r(ye)):(be=0,Ce=!Fe&&"openKeyCursor"in He?He.openKeyCursor(Ie):He.openCursor(Ie),De=[],Ce.onsuccess=function(Ye){var nt=Ce.result;return nt?(De.push(Fe?nt.value:nt.primaryKey),++be===qe?he({result:De}):void nt.continue()):he({result:De})},Ce.onerror=$r(ye))})}),openCursor:function(de){var he=de.trans,ye=de.values,be=de.query,Ce=de.reverse,De=de.unique;return new Promise(function(Fe,qe){Fe=Rt(Fe);var He=be.index,Pe=be.range,Ve=he.objectStore(ce),Ve=He.isPrimaryKey?Ve:Ve.index(He.name),He=Ce?De?"prevunique":"prev":De?"nextunique":"next",Ie=!ye&&"openKeyCursor"in Ve?Ve.openKeyCursor(j(Pe),He):Ve.openCursor(j(Pe),He);Ie.onerror=$r(qe),Ie.onsuccess=Rt(function(Ye){var nt,ct,mt,Xn,lt=Ie.result;lt?(lt.___id=++Rd,lt.done=!1,nt=lt.continue.bind(lt),ct=(ct=lt.continuePrimaryKey)&&ct.bind(lt),mt=lt.advance.bind(lt),Xn=function(){throw new Error("Cursor not stopped")},lt.trans=he,lt.stop=lt.continue=lt.continuePrimaryKey=lt.advance=function(){throw new Error("Cursor not started")},lt.fail=Rt(qe),lt.next=function(){var Mn=this,nn=1;return this.start(function(){return nn--?Mn.continue():Mn.stop()}).then(function(){return Mn})},lt.start=function(Mn){function nn(){if(Ie.result)try{Mn()}catch(On){lt.fail(On)}else lt.done=!0,lt.start=function(){throw new Error("Cursor behind last entry")},lt.stop()}var ua=new Promise(function(On,Nr){On=Rt(On),Ie.onerror=$r(Nr),lt.fail=Nr,lt.stop=function(Uu){lt.stop=lt.continue=lt.continuePrimaryKey=lt.advance=Xn,On(Uu)}});return Ie.onsuccess=Rt(function(On){Ie.onsuccess=nn,nn()}),lt.continue=nt,lt.continuePrimaryKey=ct,lt.advance=mt,nn(),ua},Fe(lt)):Fe(null)},qe)})},count:function(de){var he=de.query,ye=de.trans,be=he.index,Ce=he.range;return new Promise(function(De,Fe){var qe=ye.objectStore(ce),Pe=be.isPrimaryKey?qe:qe.index(be.name),qe=j(Ce),Pe=qe?Pe.count(qe):Pe.count();Pe.onsuccess=Rt(function(Ve){return De(Ve.target.result)}),Pe.onerror=$r(Fe)})}}}var L,G,W,fe=(G=ie,W=na((L=x).objectStoreNames),{schema:{name:L.name,tables:W.map(function(pe){return G.objectStore(pe)}).map(function(pe){var se=pe.keyPath,he=pe.autoIncrement,ce=c(se),de={},he={name:pe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:se==null,compound:ce,keyPath:se,autoIncrement:he,unique:!0,extractKey:ss(se)},indexes:na(pe.indexNames).map(function(ye){return pe.index(ye)}).map(function(De){var be=De.name,Ce=De.unique,Fe=De.multiEntry,De=De.keyPath,Fe={name:be,compound:c(De),keyPath:De,unique:Ce,multiEntry:Fe,extractKey:ss(De)};return de[An(De)]=Fe}),getIndexByKeyPath:function(ye){return de[An(ye)]}};return de[":id"]=he.primaryKey,se!=null&&(de[An(se)]=he.primaryKey),he})},hasGetAll:0<W.length&&"getAll"in G.objectStore(W[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ie=fe.schema,oe=fe.hasGetAll,fe=ie.tables.map(P),re={};return fe.forEach(function(pe){return re[pe.name]=pe}),{stack:"dbcore",transaction:x.transaction.bind(x),table:function(pe){if(!re[pe])throw new Error("Table '".concat(pe,"' not found"));return re[pe]},MIN_KEY:-1/0,MAX_KEY:os(w),schema:ie}}function Xa(x,w,E,j){var P=E.IDBKeyRange;return E.indexedDB,{dbcore:(j=Co(w,P,j),x.dbcore.reduce(function(L,G){return G=G.create,r(r({},L),G(L))},j))}}function Ui(x,j){var E=j.db,j=Xa(x._middlewares,E,x._deps,j);x.core=j.dbcore,x.tables.forEach(function(P){var L=P.name;x.core.schema.tables.some(function(G){return G.name===L})&&(P.core=x.core.table(L),x[L]instanceof x.Table&&(x[L].core=P.core))})}function Wa(x,w,E,j){E.forEach(function(P){var L=j[P];w.forEach(function(G){var W=(function ie(oe,fe){return T(oe,fe)||(oe=h(oe))&&ie(oe,fe)})(G,P);(!W||"value"in W&&W.value===void 0)&&(G===x.Transaction.prototype||G instanceof x.Transaction?C(G,P,{get:function(){return this.table(P)},set:function(ie){b(this,P,{value:ie,writable:!0,configurable:!0,enumerable:!0})}}):G[P]=new x.Table(P,L))})})}function ra(x,w){w.forEach(function(E){for(var j in E)E[j]instanceof x.Table&&delete E[j]})}function Mu(x,w){return x._cfg.version-w._cfg.version}function ia(x,w,E,j){var P=x._dbSchema;E.objectStoreNames.contains("$meta")&&!P.$meta&&(P.$meta=is("$meta",Id("")[0],[]),x._storeNames.push("$meta"));var L=x._createTransaction("readwrite",x._storeNames,P);L.create(E),L._completion.catch(j);var G=L._reject.bind(L),W=Be.transless||Be;Lt(function(){return Be.trans=L,Be.transless=W,w!==0?(Ui(x,E),oe=w,((ie=L).storeNames.includes("$meta")?ie.table("$meta").get("version").then(function(fe){return fe??oe}):Ue.resolve(oe)).then(function(fe){return pe=fe,se=L,ce=E,de=[],fe=(re=x)._versions,he=re._dbSchema=as(0,re.idbdb,ce),(fe=fe.filter(function(ye){return ye._cfg.version>=pe})).length!==0?(fe.forEach(function(ye){de.push(function(){var be=he,Ce=ye._cfg.dbschema;tl(re,be,ce),tl(re,Ce,ce),he=re._dbSchema=Ce;var De=Qa(be,Ce);De.add.forEach(function(He){Ou(ce,He[0],He[1].primKey,He[1].indexes)}),De.change.forEach(function(He){if(He.recreate)throw new Se.Upgrade("Not yet support for changing primary key");var Ie=ce.objectStore(He.name);He.add.forEach(function(Ye){return el(Ie,Ye)}),He.change.forEach(function(Ye){Ie.deleteIndex(Ye.name),el(Ie,Ye)}),He.del.forEach(function(Ye){return Ie.deleteIndex(Ye)})});var Fe=ye._cfg.contentUpgrade;if(Fe&&ye._cfg.version>pe){Ui(re,ce),se._memoizedTables={};var qe=I(Ce);De.del.forEach(function(He){qe[He]=be[He]}),ra(re,[re.Transaction.prototype]),Wa(re,[re.Transaction.prototype],l(qe),qe),se.schema=qe;var Pe,Ve=Z(Fe);return Ve&&cn(),De=Ue.follow(function(){var He;(Pe=Fe(se))&&Ve&&(He=Zn.bind(null,null),Pe.then(He,He))}),Pe&&typeof Pe.then=="function"?Ue.resolve(Pe):De.then(function(){return Pe})}}),de.push(function(be){var Ce,De,Fe=ye._cfg.dbschema;Ce=Fe,De=be,[].slice.call(De.db.objectStoreNames).forEach(function(qe){return Ce[qe]==null&&De.db.deleteObjectStore(qe)}),ra(re,[re.Transaction.prototype]),Wa(re,[re.Transaction.prototype],re._storeNames,re._dbSchema),se.schema=re._dbSchema}),de.push(function(be){re.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(re.idbdb.version/10)===ye._cfg.version?(re.idbdb.deleteObjectStore("$meta"),delete re._dbSchema.$meta,re._storeNames=re._storeNames.filter(function(Ce){return Ce!=="$meta"})):be.objectStore("$meta").put(ye._cfg.version,"version"))})}),(function ye(){return de.length?Ue.resolve(de.shift()(se.idbtrans)).then(ye):Ue.resolve()})().then(function(){Pd(he,ce)})):Ue.resolve();var re,pe,se,ce,de,he}).catch(G)):(l(P).forEach(function(fe){Ou(E,fe,P[fe].primKey,P[fe].indexes)}),Ui(x,E),void Ue.follow(function(){return x.on.populate.fire(L)}).catch(G));var ie,oe})}function Ja(x,w){Pd(x._dbSchema,w),w.db.version%10!=0||w.objectStoreNames.contains("$meta")||w.db.createObjectStore("$meta").add(Math.ceil(w.db.version/10-1),"version");var E=as(0,x.idbdb,w);tl(x,x._dbSchema,w);for(var j=0,P=Qa(E,x._dbSchema).change;j<P.length;j++){var L=(function(G){if(G.change.length||G.recreate)return console.warn("Unable to patch indexes of table ".concat(G.name," because it has changes on the type of index or primary key.")),{value:void 0};var W=w.objectStore(G.name);G.add.forEach(function(ie){Nn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(G.name,".").concat(ie.src)),el(W,ie)})})(P[j]);if(typeof L=="object")return L.value}}function Qa(x,w){var E,j={del:[],add:[],change:[]};for(E in x)w[E]||j.del.push(E);for(E in w){var P=x[E],L=w[E];if(P){var G={name:E,def:L,recreate:!1,del:[],add:[],change:[]};if(""+(P.primKey.keyPath||"")!=""+(L.primKey.keyPath||"")||P.primKey.auto!==L.primKey.auto)G.recreate=!0,j.change.push(G);else{var W=P.idxByName,ie=L.idxByName,oe=void 0;for(oe in W)ie[oe]||G.del.push(oe);for(oe in ie){var fe=W[oe],re=ie[oe];fe?fe.src!==re.src&&G.change.push(re):G.add.push(re)}(0<G.del.length||0<G.add.length||0<G.change.length)&&j.change.push(G)}}else j.add.push([E,L])}return j}function Ou(x,w,E,j){var P=x.db.createObjectStore(w,E.keyPath?{keyPath:E.keyPath,autoIncrement:E.auto}:{autoIncrement:E.auto});return j.forEach(function(L){return el(P,L)}),P}function Pd(x,w){l(x).forEach(function(E){w.db.objectStoreNames.contains(E)||(Nn&&console.debug("Dexie: Creating missing table",E),Ou(w,E,x[E].primKey,x[E].indexes))})}function el(x,w){x.createIndex(w.name,w.keyPath,{unique:w.unique,multiEntry:w.multi})}function as(x,w,E){var j={};return A(w.objectStoreNames,0).forEach(function(P){for(var L=E.objectStore(P),G=ci(Ka(oe=L.keyPath),oe||"",!0,!1,!!L.autoIncrement,oe&&typeof oe!="string",!0),W=[],ie=0;ie<L.indexNames.length;++ie){var fe=L.index(L.indexNames[ie]),oe=fe.keyPath,fe=ci(fe.name,oe,!!fe.unique,!!fe.multiEntry,!1,oe&&typeof oe!="string",!1);W.push(fe)}j[P]=is(P,G,W)}),j}function tl(x,w,E){for(var j=E.db.objectStoreNames,P=0;P<j.length;++P){var L=j[P],G=E.objectStore(L);x._hasGetAll="getAll"in G;for(var W=0;W<G.indexNames.length;++W){var ie=G.indexNames[W],oe=G.index(ie).keyPath,fe=typeof oe=="string"?oe:"["+A(oe).join("+")+"]";!w[L]||(oe=w[L].idxByName[fe])&&(oe.name=ie,delete w[L].idxByName[fe],w[L].idxByName[ie]=oe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(x._hasGetAll=!1)}function Id(x){return x.split(",").map(function(w,E){var L=w.split(":"),j=(P=L[1])===null||P===void 0?void 0:P.trim(),P=(w=L[0].trim()).replace(/([&*]|\+\+)/g,""),L=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return ci(P,L||null,/\&/.test(w),/\*/.test(w),/\+\+/.test(w),c(L),E===0,j)})}var Dp=(ls.prototype._createTableSchema=is,ls.prototype._parseIndexSyntax=Id,ls.prototype._parseStoresSpec=function(x,w){var E=this;l(x).forEach(function(j){if(x[j]!==null){var P=E._parseIndexSyntax(x[j]),L=P.shift();if(!L)throw new Se.Schema("Invalid schema for table "+j+": "+x[j]);if(L.unique=!0,L.multi)throw new Se.Schema("Primary key cannot be multiEntry*");P.forEach(function(G){if(G.auto)throw new Se.Schema("Only primary key can be marked as autoIncrement (++)");if(!G.keyPath)throw new Se.Schema("Index must have a name and cannot be an empty string")}),P=E._createTableSchema(j,L,P),w[j]=P}})},ls.prototype.stores=function(E){var w=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,E):E;var E=w._versions,j={},P={};return E.forEach(function(L){f(j,L._cfg.storesSource),P=L._cfg.dbschema={},L._parseStoresSpec(j,P)}),w._dbSchema=P,ra(w,[w._allTables,w,w.Transaction.prototype]),Wa(w,[w._allTables,w,w.Transaction.prototype,this._cfg.tables],l(P),P),w._storeNames=l(P),this},ls.prototype.upgrade=function(x){return this._cfg.contentUpgrade=dr(this._cfg.contentUpgrade||$e,x),this},ls);function ls(){}function Du(x,w){var E=x._dbNamesDB;return E||(E=x._dbNamesDB=new di(yo,{addons:[],indexedDB:x,IDBKeyRange:w})).version(1).stores({dbnames:"name"}),E.table("dbnames")}function nl(x){return x&&typeof x.databases=="function"}function zu(x){return Lt(function(){return Be.letThrough=!0,x()})}function Ru(x){return!("from"in x)}var Kn=function(x,w){if(!this){var E=new Kn;return x&&"d"in x&&f(E,x),E}f(this,arguments.length?{d:1,from:x,to:1<arguments.length?w:x}:{d:0})};function oa(x,w,E){var j=pt(w,E);if(!isNaN(j)){if(0<j)throw RangeError();if(Ru(x))return f(x,{from:w,to:E,d:1});var P=x.l,j=x.r;if(pt(E,x.from)<0)return P?oa(P,w,E):x.l={from:w,to:E,d:1,l:null,r:null},Fd(x);if(0<pt(w,x.to))return j?oa(j,w,E):x.r={from:w,to:E,d:1,l:null,r:null},Fd(x);pt(w,x.from)<0&&(x.from=w,x.l=null,x.d=j?j.d+1:1),0<pt(E,x.to)&&(x.to=E,x.r=null,x.d=x.l?x.l.d+1:1),E=!x.r,P&&!x.l&&To(x,P),j&&E&&To(x,j)}}function To(x,w){Ru(w)||(function E(j,ie){var L=ie.from,G=ie.to,W=ie.l,ie=ie.r;oa(j,L,G),W&&E(j,W),ie&&E(j,ie)})(x,w)}function Ld(x,w){var E=rl(w),j=E.next();if(j.done)return!1;for(var P=j.value,L=rl(x),G=L.next(P.from),W=G.value;!j.done&&!G.done;){if(pt(W.from,P.to)<=0&&0<=pt(W.to,P.from))return!0;pt(P.from,W.from)<0?P=(j=E.next(W.from)).value:W=(G=L.next(P.from)).value}return!1}function rl(x){var w=Ru(x)?null:{s:0,n:x};return{next:function(E){for(var j=0<arguments.length;w;)switch(w.s){case 0:if(w.s=1,j)for(;w.n.l&&pt(E,w.n.from)<0;)w={up:w,n:w.n.l,s:1};else for(;w.n.l;)w={up:w,n:w.n.l,s:1};case 1:if(w.s=2,!j||pt(E,w.n.to)<=0)return{value:w.n,done:!1};case 2:if(w.n.r){w.s=3,w={up:w,n:w.n.r,s:0};continue}case 3:w=w.up}return{done:!0}}}}function Fd(x){var w,E,j=(((w=x.r)===null||w===void 0?void 0:w.d)||0)-(((E=x.l)===null||E===void 0?void 0:E.d)||0),P=1<j?"r":j<-1?"l":"";P&&(w=P=="r"?"l":"r",E=r({},x),j=x[P],x.from=j.from,x.to=j.to,x[P]=j[P],E[P]=j[w],(x[w]=E).d=Pu(E)),x.d=Pu(x)}function Pu(E){var w=E.r,E=E.l;return(w?E?Math.max(w.d,E.d):w.d:E?E.d:0)+1}function il(x,w){return l(w).forEach(function(E){x[E]?To(x[E],w[E]):x[E]=(function j(P){var L,G,W={};for(L in P)g(P,L)&&(G=P[L],W[L]=!G||typeof G!="object"||ee.has(G.constructor)?G:j(G));return W})(w[E])}),x}function Iu(x,w){return x.all||w.all||Object.keys(x).some(function(E){return w[E]&&Ld(w[E],x[E])})}y(Kn.prototype,((mr={add:function(x){return To(this,x),this},addKey:function(x){return oa(this,x,x),this},addKeys:function(x){var w=this;return x.forEach(function(E){return oa(w,E,E)}),this},hasKey:function(x){var w=rl(this).next(x).value;return w&&pt(w.from,x)<=0&&0<=pt(w.to,x)}})[$]=function(){return rl(this)},mr));var ko={},Lu={},Fu=!1;function ol(x){il(Lu,x),Fu||(Fu=!0,setTimeout(function(){Fu=!1,Bu(Lu,!(Lu={}))},0))}function Bu(x,w){w===void 0&&(w=!1);var E=new Set;if(x.all)for(var j=0,P=Object.values(ko);j<P.length;j++)Bd(G=P[j],x,E,w);else for(var L in x){var G,W=/^idb\:\/\/(.*)\/(.*)\//.exec(L);W&&(L=W[1],W=W[2],(G=ko["idb://".concat(L,"/").concat(W)])&&Bd(G,x,E,w))}E.forEach(function(ie){return ie()})}function Bd(x,w,E,j){for(var P=[],L=0,G=Object.entries(x.queries.query);L<G.length;L++){for(var W=G[L],ie=W[0],oe=[],fe=0,re=W[1];fe<re.length;fe++){var pe=re[fe];Iu(w,pe.obsSet)?pe.subscribers.forEach(function(he){return E.add(he)}):j&&oe.push(pe)}j&&P.push([ie,oe])}if(j)for(var se=0,ce=P;se<ce.length;se++){var de=ce[se],ie=de[0],oe=de[1];x.queries.query[ie]=oe}}function zp(x){var w=x._state,E=x._deps.indexedDB;if(w.isBeingOpened||x.idbdb)return w.dbReadyPromise.then(function(){return w.dbOpenError?zt(w.dbOpenError):x});w.isBeingOpened=!0,w.dbOpenError=null,w.openComplete=!1;var j=w.openCanceller,P=Math.round(10*x.verno),L=!1;function G(){if(w.openCanceller!==j)throw new Se.DatabaseClosed("db.open() was cancelled")}function W(){return new Ue(function(pe,se){if(G(),!E)throw new Se.MissingAPI;var ce=x.name,de=w.autoSchema||!P?E.open(ce):E.open(ce,P);if(!de)throw new Se.MissingAPI;de.onerror=$r(se),de.onblocked=Rt(x._fireOnBlocked),de.onupgradeneeded=Rt(function(he){var ye;fe=de.transaction,w.autoSchema&&!x._options.allowEmptyDB?(de.onerror=_o,fe.abort(),de.result.close(),(ye=E.deleteDatabase(ce)).onsuccess=ye.onerror=Rt(function(){se(new Se.NoSuchDatabase("Database ".concat(ce," doesnt exist")))})):(fe.onerror=$r(se),he=he.oldVersion>Math.pow(2,62)?0:he.oldVersion,re=he<1,x.idbdb=de.result,L&&Ja(x,fe),ia(x,he/10,fe,se))},se),de.onsuccess=Rt(function(){fe=null;var he,ye,be,Ce,De,Fe=x.idbdb=de.result,qe=A(Fe.objectStoreNames);if(0<qe.length)try{var Pe=Fe.transaction((Ce=qe).length===1?Ce[0]:Ce,"readonly");if(w.autoSchema)ye=Fe,be=Pe,(he=x).verno=ye.version/10,be=he._dbSchema=as(0,ye,be),he._storeNames=A(ye.objectStoreNames,0),Wa(he,[he._allTables],l(be),be);else if(tl(x,x._dbSchema,Pe),((De=Qa(as(0,(De=x).idbdb,Pe),De._dbSchema)).add.length||De.change.some(function(Ve){return Ve.add.length||Ve.change.length}))&&!L)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Fe.close(),P=Fe.version+1,L=!0,pe(W());Ui(x,Pe)}catch{}Ti.push(x),Fe.onversionchange=Rt(function(Ve){w.vcFired=!0,x.on("versionchange").fire(Ve)}),Fe.onclose=Rt(function(){x.close({disableAutoOpen:!1})}),re&&(De=x._deps,Pe=ce,Fe=De.indexedDB,De=De.IDBKeyRange,nl(Fe)||Pe===yo||Du(Fe,De).put({name:Pe}).catch($e)),pe()},se)}).catch(function(pe){switch(pe?.name){case"UnknownError":if(0<w.PR1398_maxLoop)return w.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),W();break;case"VersionError":if(0<P)return P=0,W()}return Ue.reject(pe)})}var ie,oe=w.dbReadyResolve,fe=null,re=!1;return Ue.race([j,(typeof navigator>"u"?Ue.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(pe){function se(){return indexedDB.databases().finally(pe)}ie=setInterval(se,100),se()}).finally(function(){return clearInterval(ie)}):Promise.resolve()).then(W)]).then(function(){return G(),w.onReadyBeingFired=[],Ue.resolve(zu(function(){return x.on.ready.fire(x.vip)})).then(function pe(){if(0<w.onReadyBeingFired.length){var se=w.onReadyBeingFired.reduce(dr,$e);return w.onReadyBeingFired=[],Ue.resolve(zu(function(){return se(x.vip)})).then(pe)}})}).finally(function(){w.openCanceller===j&&(w.onReadyBeingFired=null,w.isBeingOpened=!1)}).catch(function(pe){w.dbOpenError=pe;try{fe&&fe.abort()}catch{}return j===w.openCanceller&&x._close(),zt(pe)}).finally(function(){w.openComplete=!0,oe()}).then(function(){var pe;return re&&(pe={},x.tables.forEach(function(se){se.schema.indexes.forEach(function(ce){ce.name&&(pe["idb://".concat(x.name,"/").concat(se.name,"/").concat(ce.name)]=new Kn(-1/0,[[[]]]))}),pe["idb://".concat(x.name,"/").concat(se.name,"/")]=pe["idb://".concat(x.name,"/").concat(se.name,"/:dels")]=new Kn(-1/0,[[[]]])}),Gn(rs).fire(pe),Bu(pe,!0)),x})}function sa(x){function w(L){return x.next(L)}var E=P(w),j=P(function(L){return x.throw(L)});function P(L){return function(ie){var W=L(ie),ie=W.value;return W.done?ie:ie&&typeof ie.then=="function"?ie.then(E,j):c(ie)?Promise.all(ie).then(E,j):E(ie)}}return P(w)()}function qi(x,w,E){for(var j=c(x)?x.slice():[x],P=0;P<E;++P)j.push(w);return j}var Rp={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(x){return r(r({},x),{table:function(w){var E=x.table(w),j=E.schema,P={},L=[];function G(re,pe,se){var ce=An(re),de=P[ce]=P[ce]||[],he=re==null?0:typeof re=="string"?1:re.length,ye=0<pe,ye=r(r({},se),{name:ye?"".concat(ce,"(virtual-from:").concat(se.name,")"):se.name,lowLevelIndex:se,isVirtual:ye,keyTail:pe,keyLength:he,extractKey:ss(re),unique:!ye&&se.unique});return de.push(ye),ye.isPrimaryKey||L.push(ye),1<he&&G(he===2?re[0]:re.slice(0,he-1),pe+1,se),de.sort(function(be,Ce){return be.keyTail-Ce.keyTail}),ye}w=G(j.primaryKey.keyPath,0,j.primaryKey),P[":id"]=[w];for(var W=0,ie=j.indexes;W<ie.length;W++){var oe=ie[W];G(oe.keyPath,0,oe)}function fe(re){var pe,se=re.query.index;return se.isVirtual?r(r({},re),{query:{index:se.lowLevelIndex,range:(pe=re.query.range,se=se.keyTail,{type:pe.type===1?2:pe.type,lower:qi(pe.lower,pe.lowerOpen?x.MAX_KEY:x.MIN_KEY,se),lowerOpen:!0,upper:qi(pe.upper,pe.upperOpen?x.MIN_KEY:x.MAX_KEY,se),upperOpen:!0})}}):re}return r(r({},E),{schema:r(r({},j),{primaryKey:w,indexes:L,getIndexByKeyPath:function(re){return(re=P[An(re)])&&re[0]}}),count:function(re){return E.count(fe(re))},query:function(re){return E.query(fe(re))},openCursor:function(re){var pe=re.query.index,se=pe.keyTail,ce=pe.isVirtual,de=pe.keyLength;return ce?E.openCursor(fe(re)).then(function(ye){return ye&&he(ye)}):E.openCursor(re);function he(ye){return Object.create(ye,{continue:{value:function(be){be!=null?ye.continue(qi(be,re.reverse?x.MAX_KEY:x.MIN_KEY,se)):re.unique?ye.continue(ye.key.slice(0,de).concat(re.reverse?x.MIN_KEY:x.MAX_KEY,se)):ye.continue()}},continuePrimaryKey:{value:function(be,Ce){ye.continuePrimaryKey(qi(be,x.MAX_KEY,se),Ce)}},primaryKey:{get:function(){return ye.primaryKey}},key:{get:function(){var be=ye.key;return de===1?be[0]:be.slice(0,de)}},value:{get:function(){return ye.value}}})}}})}})}};function sl(x,w,E,j){return E=E||{},j=j||"",l(x).forEach(function(P){var L,G,W;g(w,P)?(L=x[P],G=w[P],typeof L=="object"&&typeof G=="object"&&L&&G?(W=Q(L))!==Q(G)?E[j+P]=w[P]:W==="Object"?sl(L,G,E,j+P+"."):L!==G&&(E[j+P]=w[P]):L!==G&&(E[j+P]=w[P])):E[j+P]=void 0}),l(w).forEach(function(P){g(x,P)||(E[j+P]=w[P])}),E}function al(x,w){return w.type==="delete"?w.keys:w.keys||w.values.map(x.extractKey)}var Vd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(x){return r(r({},x),{table:function(w){var E=x.table(w),j=E.schema.primaryKey;return r(r({},E),{mutate:function(P){var L=Be.trans,G=L.table(w).hook,W=G.deleting,ie=G.creating,oe=G.updating;switch(P.type){case"add":if(ie.fire===$e)break;return L._promise("readwrite",function(){return fe(P)},!0);case"put":if(ie.fire===$e&&oe.fire===$e)break;return L._promise("readwrite",function(){return fe(P)},!0);case"delete":if(W.fire===$e)break;return L._promise("readwrite",function(){return fe(P)},!0);case"deleteRange":if(W.fire===$e)break;return L._promise("readwrite",function(){return(function re(pe,se,ce){return E.query({trans:pe,values:!1,query:{index:j,range:se},limit:ce}).then(function(de){var he=de.result;return fe({type:"delete",keys:he,trans:pe}).then(function(ye){return 0<ye.numFailures?Promise.reject(ye.failures[0]):he.length<ce?{failures:[],numFailures:0,lastResult:void 0}:re(pe,r(r({},se),{lower:he[he.length-1],lowerOpen:!0}),ce)})})})(P.trans,P.range,1e4)},!0)}return E.mutate(P);function fe(re){var pe,se,ce,de=Be.trans,he=re.keys||al(j,re);if(!he)throw new Error("Keys missing");return(re=re.type==="add"||re.type==="put"?r(r({},re),{keys:he}):r({},re)).type!=="delete"&&(re.values=s([],re.values)),re.keys&&(re.keys=s([],re.keys)),pe=E,ce=he,((se=re).type==="add"?Promise.resolve([]):pe.getMany({trans:se.trans,keys:ce,cache:"immutable"})).then(function(ye){var be=he.map(function(Ce,De){var Fe,qe,Pe,Ve=ye[De],He={onerror:null,onsuccess:null};return re.type==="delete"?W.fire.call(He,Ce,Ve,de):re.type==="add"||Ve===void 0?(Fe=ie.fire.call(He,Ce,re.values[De],de),Ce==null&&Fe!=null&&(re.keys[De]=Ce=Fe,j.outbound||D(re.values[De],j.keyPath,Ce))):(Fe=sl(Ve,re.values[De]),(qe=oe.fire.call(He,Fe,Ce,Ve,de))&&(Pe=re.values[De],Object.keys(qe).forEach(function(Ie){g(Pe,Ie)?Pe[Ie]=qe[Ie]:D(Pe,Ie,qe[Ie])}))),He});return E.mutate(re).then(function(Ce){for(var De=Ce.failures,Fe=Ce.results,qe=Ce.numFailures,Ce=Ce.lastResult,Pe=0;Pe<he.length;++Pe){var Ve=(Fe||he)[Pe],He=be[Pe];Ve==null?He.onerror&&He.onerror(De[Pe]):He.onsuccess&&He.onsuccess(re.type==="put"&&ye[Pe]?re.values[Pe]:Ve)}return{failures:De,results:Fe,numFailures:qe,lastResult:Ce}}).catch(function(Ce){return be.forEach(function(De){return De.onerror&&De.onerror(Ce)}),Promise.reject(Ce)})})}}})}})}};function Vu(x,w,E){try{if(!w||w.keys.length<x.length)return null;for(var j=[],P=0,L=0;P<w.keys.length&&L<x.length;++P)pt(w.keys[P],x[L])===0&&(j.push(E?ae(w.values[P]):w.values[P]),++L);return j.length===x.length?j:null}catch{return null}}var $d={stack:"dbcore",level:-1,create:function(x){return{table:function(w){var E=x.table(w);return r(r({},E),{getMany:function(j){if(!j.cache)return E.getMany(j);var P=Vu(j.keys,j.trans._cache,j.cache==="clone");return P?Ue.resolve(P):E.getMany(j).then(function(L){return j.trans._cache={keys:j.keys,values:j.cache==="clone"?ae(L):L},L})},mutate:function(j){return j.type!=="add"&&(j.trans._cache=null),E.mutate(j)}})}}}};function jo(x,w){return x.trans.mode==="readonly"&&!!x.subscr&&!x.trans.explicit&&x.trans.db._options.cache!=="disabled"&&!w.schema.primaryKey.outbound}function Hd(x,w){switch(x){case"query":return w.values&&!w.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Pp={stack:"dbcore",level:0,name:"Observability",create:function(x){var w=x.schema.name,E=new Kn(x.MIN_KEY,x.MAX_KEY);return r(r({},x),{transaction:function(j,P,L){if(Be.subscr&&P!=="readonly")throw new Se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Be.querier));return x.transaction(j,P,L)},table:function(j){var P=x.table(j),L=P.schema,G=L.primaryKey,re=L.indexes,W=G.extractKey,ie=G.outbound,oe=G.autoIncrement&&re.filter(function(se){return se.compound&&se.keyPath.includes(G.keyPath)}),fe=r(r({},P),{mutate:function(se){function ce(Ie){return Ie="idb://".concat(w,"/").concat(j,"/").concat(Ie),Ce[Ie]||(Ce[Ie]=new Kn)}var de,he,ye,be=se.trans,Ce=se.mutatedParts||(se.mutatedParts={}),De=ce(""),Fe=ce(":dels"),qe=se.type,He=se.type==="deleteRange"?[se.range]:se.type==="delete"?[se.keys]:se.values.length<50?[al(G,se).filter(function(Ie){return Ie}),se.values]:[],Pe=He[0],Ve=He[1],He=se.trans._cache;return c(Pe)?(De.addKeys(Pe),(He=qe==="delete"||Pe.length===Ve.length?Vu(Pe,He):null)||Fe.addKeys(Pe),(He||Ve)&&(de=ce,he=He,ye=Ve,L.indexes.forEach(function(Ie){var Ye=de(Ie.name||"");function nt(mt){return mt!=null?Ie.extractKey(mt):null}function ct(mt){return Ie.multiEntry&&c(mt)?mt.forEach(function(Xn){return Ye.addKey(Xn)}):Ye.addKey(mt)}(he||ye).forEach(function(mt,Mn){var lt=he&&nt(he[Mn]),Mn=ye&&nt(ye[Mn]);pt(lt,Mn)!==0&&(lt!=null&&ct(lt),Mn!=null&&ct(Mn))})}))):Pe?(Ve={from:(Ve=Pe.lower)!==null&&Ve!==void 0?Ve:x.MIN_KEY,to:(Ve=Pe.upper)!==null&&Ve!==void 0?Ve:x.MAX_KEY},Fe.add(Ve),De.add(Ve)):(De.add(E),Fe.add(E),L.indexes.forEach(function(Ie){return ce(Ie.name).add(E)})),P.mutate(se).then(function(Ie){return!Pe||se.type!=="add"&&se.type!=="put"||(De.addKeys(Ie.results),oe&&oe.forEach(function(Ye){for(var nt=se.values.map(function(lt){return Ye.extractKey(lt)}),ct=Ye.keyPath.findIndex(function(lt){return lt===G.keyPath}),mt=0,Xn=Ie.results.length;mt<Xn;++mt)nt[mt][ct]=Ie.results[mt];ce(Ye.name).addKeys(nt)})),be.mutatedParts=il(be.mutatedParts||{},Ce),Ie})}}),re=function(ce){var de=ce.query,ce=de.index,de=de.range;return[ce,new Kn((ce=de.lower)!==null&&ce!==void 0?ce:x.MIN_KEY,(de=de.upper)!==null&&de!==void 0?de:x.MAX_KEY)]},pe={get:function(se){return[G,new Kn(se.key)]},getMany:function(se){return[G,new Kn().addKeys(se.keys)]},count:re,query:re,openCursor:re};return l(pe).forEach(function(se){fe[se]=function(ce){var de=Be.subscr,he=!!de,ye=jo(Be,P)&&Hd(se,ce)?ce.obsSet={}:de;if(he){var be=function(Ve){return Ve="idb://".concat(w,"/").concat(j,"/").concat(Ve),ye[Ve]||(ye[Ve]=new Kn)},Ce=be(""),De=be(":dels"),de=pe[se](ce),he=de[0],de=de[1];if((se==="query"&&he.isPrimaryKey&&!ce.values?De:be(he.name||"")).add(de),!he.isPrimaryKey){if(se!=="count"){var Fe=se==="query"&&ie&&ce.values&&P.query(r(r({},ce),{values:!1}));return P[se].apply(this,arguments).then(function(Ve){if(se==="query"){if(ie&&ce.values)return Fe.then(function(nt){return nt=nt.result,Ce.addKeys(nt),Ve});var He=ce.values?Ve.result.map(W):Ve.result;(ce.values?Ce:De).addKeys(He)}else if(se==="openCursor"){var Ie=Ve,Ye=ce.values;return Ie&&Object.create(Ie,{key:{get:function(){return De.addKey(Ie.primaryKey),Ie.key}},primaryKey:{get:function(){var nt=Ie.primaryKey;return De.addKey(nt),nt}},value:{get:function(){return Ye&&Ce.addKey(Ie.primaryKey),Ie.value}}})}return Ve})}De.add(E)}}return P[se].apply(this,arguments)}}),fe}})}};function Ud(x,w,E){if(E.numFailures===0)return w;if(w.type==="deleteRange")return null;var j=w.keys?w.keys.length:"values"in w&&w.values?w.values.length:1;return E.numFailures===j?null:(w=r({},w),c(w.keys)&&(w.keys=w.keys.filter(function(P,L){return!(L in E.failures)})),"values"in w&&c(w.values)&&(w.values=w.values.filter(function(P,L){return!(L in E.failures)})),w)}function ll(x,w){return E=x,((j=w).lower===void 0||(j.lowerOpen?0<pt(E,j.lower):0<=pt(E,j.lower)))&&(x=x,(w=w).upper===void 0||(w.upperOpen?pt(x,w.upper)<0:pt(x,w.upper)<=0));var E,j}function $u(x,w,pe,j,P,L){if(!pe||pe.length===0)return x;var G=w.query.index,W=G.multiEntry,ie=w.query.range,oe=j.schema.primaryKey.extractKey,fe=G.extractKey,re=(G.lowLevelIndex||G).extractKey,pe=pe.reduce(function(se,ce){var de=se,he=[];if(ce.type==="add"||ce.type==="put")for(var ye=new Kn,be=ce.values.length-1;0<=be;--be){var Ce,De=ce.values[be],Fe=oe(De);ye.hasKey(Fe)||(Ce=fe(De),(W&&c(Ce)?Ce.some(function(Ie){return ll(Ie,ie)}):ll(Ce,ie))&&(ye.addKey(Fe),he.push(De)))}switch(ce.type){case"add":var qe=new Kn().addKeys(w.values?se.map(function(Ye){return oe(Ye)}):se),de=se.concat(w.values?he.filter(function(Ye){return Ye=oe(Ye),!qe.hasKey(Ye)&&(qe.addKey(Ye),!0)}):he.map(function(Ye){return oe(Ye)}).filter(function(Ye){return!qe.hasKey(Ye)&&(qe.addKey(Ye),!0)}));break;case"put":var Pe=new Kn().addKeys(ce.values.map(function(Ye){return oe(Ye)}));de=se.filter(function(Ye){return!Pe.hasKey(w.values?oe(Ye):Ye)}).concat(w.values?he:he.map(function(Ye){return oe(Ye)}));break;case"delete":var Ve=new Kn().addKeys(ce.keys);de=se.filter(function(Ye){return!Ve.hasKey(w.values?oe(Ye):Ye)});break;case"deleteRange":var He=ce.range;de=se.filter(function(Ye){return!ll(oe(Ye),He)})}return de},x);return pe===x?x:(pe.sort(function(se,ce){return pt(re(se),re(ce))||pt(oe(se),oe(ce))}),w.limit&&w.limit<1/0&&(pe.length>w.limit?pe.length=w.limit:x.length===w.limit&&pe.length<w.limit&&(P.dirty=!0)),L?Object.freeze(pe):pe)}function us(x,w){return pt(x.lower,w.lower)===0&&pt(x.upper,w.upper)===0&&!!x.lowerOpen==!!w.lowerOpen&&!!x.upperOpen==!!w.upperOpen}function aa(x,w){return(function(E,j,P,L){if(E===void 0)return j!==void 0?-1:0;if(j===void 0)return 1;if((j=pt(E,j))===0){if(P&&L)return 0;if(P)return 1;if(L)return-1}return j})(x.lower,w.lower,x.lowerOpen,w.lowerOpen)<=0&&0<=(function(E,j,P,L){if(E===void 0)return j!==void 0?1:0;if(j===void 0)return-1;if((j=pt(E,j))===0){if(P&&L)return 0;if(P)return-1;if(L)return 1}return j})(x.upper,w.upper,x.upperOpen,w.upperOpen)}function Ip(x,w,E,j){x.subscribers.add(E),j.addEventListener("abort",function(){var P,L;x.subscribers.delete(E),x.subscribers.size===0&&(P=x,L=w,setTimeout(function(){P.subscribers.size===0&&K(L,P)},3e3))})}var ul={stack:"dbcore",level:0,name:"Cache",create:function(x){var w=x.schema.name;return r(r({},x),{transaction:function(E,j,P){var L,G,W=x.transaction(E,j,P);return j==="readwrite"&&(G=(L=new AbortController).signal,P=function(ie){return function(){if(L.abort(),j==="readwrite"){for(var oe=new Set,fe=0,re=E;fe<re.length;fe++){var pe=re[fe],se=ko["idb://".concat(w,"/").concat(pe)];if(se){var ce=x.table(pe),de=se.optimisticOps.filter(function(Ye){return Ye.trans===W});if(W._explicit&&ie&&W.mutatedParts)for(var he=0,ye=Object.values(se.queries.query);he<ye.length;he++)for(var be=0,Ce=(qe=ye[he]).slice();be<Ce.length;be++)Iu((Pe=Ce[be]).obsSet,W.mutatedParts)&&(K(qe,Pe),Pe.subscribers.forEach(function(Ye){return oe.add(Ye)}));else if(0<de.length){se.optimisticOps=se.optimisticOps.filter(function(Ye){return Ye.trans!==W});for(var De=0,Fe=Object.values(se.queries.query);De<Fe.length;De++)for(var qe,Pe,Ve,He=0,Ie=(qe=Fe[De]).slice();He<Ie.length;He++)(Pe=Ie[He]).res!=null&&W.mutatedParts&&(ie&&!Pe.dirty?(Ve=Object.isFrozen(Pe.res),Ve=$u(Pe.res,Pe.req,de,ce,Pe,Ve),Pe.dirty?(K(qe,Pe),Pe.subscribers.forEach(function(Ye){return oe.add(Ye)})):Ve!==Pe.res&&(Pe.res=Ve,Pe.promise=Ue.resolve({result:Ve}))):(Pe.dirty&&K(qe,Pe),Pe.subscribers.forEach(function(Ye){return oe.add(Ye)})))}}}oe.forEach(function(Ye){return Ye()})}}},W.addEventListener("abort",P(!1),{signal:G}),W.addEventListener("error",P(!1),{signal:G}),W.addEventListener("complete",P(!0),{signal:G})),W},table:function(E){var j=x.table(E),P=j.schema.primaryKey;return r(r({},j),{mutate:function(L){var G=Be.trans;if(P.outbound||G.db._options.cache==="disabled"||G.explicit||G.idbtrans.mode!=="readwrite")return j.mutate(L);var W=ko["idb://".concat(w,"/").concat(E)];return W?(G=j.mutate(L),L.type!=="add"&&L.type!=="put"||!(50<=L.values.length||al(P,L).some(function(ie){return ie==null}))?(W.optimisticOps.push(L),L.mutatedParts&&ol(L.mutatedParts),G.then(function(ie){0<ie.numFailures&&(K(W.optimisticOps,L),(ie=Ud(0,L,ie))&&W.optimisticOps.push(ie),L.mutatedParts&&ol(L.mutatedParts))}),G.catch(function(){K(W.optimisticOps,L),L.mutatedParts&&ol(L.mutatedParts)})):G.then(function(ie){var oe=Ud(0,r(r({},L),{values:L.values.map(function(fe,re){var pe;return ie.failures[re]?fe:(fe=(pe=P.keyPath)!==null&&pe!==void 0&&pe.includes(".")?ae(fe):r({},fe),D(fe,P.keyPath,ie.results[re]),fe)})}),ie);W.optimisticOps.push(oe),queueMicrotask(function(){return L.mutatedParts&&ol(L.mutatedParts)})}),G):j.mutate(L)},query:function(L){if(!jo(Be,j)||!Hd("query",L))return j.query(L);var G=((oe=Be.trans)===null||oe===void 0?void 0:oe.db._options.cache)==="immutable",re=Be,W=re.requery,ie=re.signal,oe=(function(ce,de,he,ye){var be=ko["idb://".concat(ce,"/").concat(de)];if(!be)return[];if(!(de=be.queries[he]))return[null,!1,be,null];var Ce=de[(ye.query?ye.query.index.name:null)||""];if(!Ce)return[null,!1,be,null];switch(he){case"query":var De=Ce.find(function(Fe){return Fe.req.limit===ye.limit&&Fe.req.values===ye.values&&us(Fe.req.query.range,ye.query.range)});return De?[De,!0,be,Ce]:[Ce.find(function(Fe){return("limit"in Fe.req?Fe.req.limit:1/0)>=ye.limit&&(!ye.values||Fe.req.values)&&aa(Fe.req.query.range,ye.query.range)}),!1,be,Ce];case"count":return De=Ce.find(function(Fe){return us(Fe.req.query.range,ye.query.range)}),[De,!!De,be,Ce]}})(w,E,"query",L),fe=oe[0],re=oe[1],pe=oe[2],se=oe[3];return fe&&re?fe.obsSet=L.obsSet:(re=j.query(L).then(function(ce){var de=ce.result;if(fe&&(fe.res=de),G){for(var he=0,ye=de.length;he<ye;++he)Object.freeze(de[he]);Object.freeze(de)}else ce.result=ae(de);return ce}).catch(function(ce){return se&&fe&&K(se,fe),Promise.reject(ce)}),fe={obsSet:L.obsSet,promise:re,subscribers:new Set,type:"query",req:L,dirty:!1},se?se.push(fe):(se=[fe],(pe=pe||(ko["idb://".concat(w,"/").concat(E)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[L.query.index.name||""]=se)),Ip(fe,se,W,ie),fe.promise.then(function(ce){return{result:$u(ce.result,L,pe?.optimisticOps,j,fe,G)}})}})}})}};function la(x,w){return new Proxy(x,{get:function(E,j,P){return j==="db"?w:Reflect.get(E,j,P)}})}var di=(Wt.prototype.version=function(x){if(isNaN(x)||x<.1)throw new Se.Type("Given version is not a positive number");if(x=Math.round(10*x)/10,this.idbdb||this._state.isBeingOpened)throw new Se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,x);var w=this._versions,E=w.filter(function(j){return j._cfg.version===x})[0];return E||(E=new this.Version(x),w.push(E),w.sort(Mu),E.stores({}),this._state.autoSchema=!1,E)},Wt.prototype._whenReady=function(x){var w=this;return this.idbdb&&(this._state.openComplete||Be.letThrough||this._vip)?x():new Ue(function(E,j){if(w._state.openComplete)return j(new Se.DatabaseClosed(w._state.dbOpenError));if(!w._state.isBeingOpened){if(!w._state.autoOpen)return void j(new Se.DatabaseClosed);w.open().catch($e)}w._state.dbReadyPromise.then(E,j)}).then(x)},Wt.prototype.use=function(x){var w=x.stack,E=x.create,j=x.level,P=x.name;return P&&this.unuse({stack:w,name:P}),x=this._middlewares[w]||(this._middlewares[w]=[]),x.push({stack:w,create:E,level:j??10,name:P}),x.sort(function(L,G){return L.level-G.level}),this},Wt.prototype.unuse=function(x){var w=x.stack,E=x.name,j=x.create;return w&&this._middlewares[w]&&(this._middlewares[w]=this._middlewares[w].filter(function(P){return j?P.create!==j:!!E&&P.name!==E})),this},Wt.prototype.open=function(){var x=this;return hr(Kt,function(){return zp(x)})},Wt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var x=this._state,w=Ti.indexOf(this);if(0<=w&&Ti.splice(w,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}x.isBeingOpened||(x.dbReadyPromise=new Ue(function(E){x.dbReadyResolve=E}),x.openCanceller=new Ue(function(E,j){x.cancelOpen=j}))},Wt.prototype.close=function(E){var w=(E===void 0?{disableAutoOpen:!0}:E).disableAutoOpen,E=this._state;w?(E.isBeingOpened&&E.cancelOpen(new Se.DatabaseClosed),this._close(),E.autoOpen=!1,E.dbOpenError=new Se.DatabaseClosed):(this._close(),E.autoOpen=this._options.autoOpen||E.isBeingOpened,E.openComplete=!1,E.dbOpenError=null)},Wt.prototype.delete=function(x){var w=this;x===void 0&&(x={disableAutoOpen:!0});var E=0<arguments.length&&typeof arguments[0]!="object",j=this._state;return new Ue(function(P,L){function G(){w.close(x);var W=w._deps.indexedDB.deleteDatabase(w.name);W.onsuccess=Rt(function(){var ie,oe,fe;ie=w._deps,oe=w.name,fe=ie.indexedDB,ie=ie.IDBKeyRange,nl(fe)||oe===yo||Du(fe,ie).delete(oe).catch($e),P()}),W.onerror=$r(L),W.onblocked=w._fireOnBlocked}if(E)throw new Se.InvalidArgument("Invalid closeOptions argument to db.delete()");j.isBeingOpened?j.dbReadyPromise.then(G):G()})},Wt.prototype.backendDB=function(){return this.idbdb},Wt.prototype.isOpen=function(){return this.idbdb!==null},Wt.prototype.hasBeenClosed=function(){var x=this._state.dbOpenError;return x&&x.name==="DatabaseClosed"},Wt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Wt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Wt.prototype,"tables",{get:function(){var x=this;return l(this._allTables).map(function(w){return x._allTables[w]})},enumerable:!1,configurable:!0}),Wt.prototype.transaction=function(){var x=(function(w,E,j){var P=arguments.length;if(P<2)throw new Se.InvalidArgument("Too few arguments");for(var L=new Array(P-1);--P;)L[P-1]=arguments[P];return j=L.pop(),[w,te(L),j]}).apply(this,arguments);return this._transaction.apply(this,x)},Wt.prototype._transaction=function(x,w,E){var j=this,P=Be.trans;P&&P.db===this&&x.indexOf("!")===-1||(P=null);var L,G,W=x.indexOf("?")!==-1;x=x.replace("!","").replace("?","");try{if(G=w.map(function(oe){if(oe=oe instanceof j.Table?oe.name:oe,typeof oe!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return oe}),x=="r"||x===Vr)L=Vr;else{if(x!="rw"&&x!=ai)throw new Se.InvalidArgument("Invalid transaction mode: "+x);L=ai}if(P){if(P.mode===Vr&&L===ai){if(!W)throw new Se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");P=null}P&&G.forEach(function(oe){if(P&&P.storeNames.indexOf(oe)===-1){if(!W)throw new Se.SubTransaction("Table "+oe+" not included in parent transaction.");P=null}}),W&&P&&!P.active&&(P=null)}}catch(oe){return P?P._promise(null,function(fe,re){re(oe)}):zt(oe)}var ie=(function oe(fe,re,pe,se,ce){return Ue.resolve().then(function(){var de=Be.transless||Be,he=fe._createTransaction(re,pe,fe._dbSchema,se);if(he.explicit=!0,de={trans:he,transless:de},se)he.idbtrans=se.idbtrans;else try{he.create(),he.idbtrans._explicit=!0,fe._state.PR1398_maxLoop=3}catch(Ce){return Ce.name===Te.InvalidState&&fe.isOpen()&&0<--fe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),fe.close({disableAutoOpen:!1}),fe.open().then(function(){return oe(fe,re,pe,null,ce)})):zt(Ce)}var ye,be=Z(ce);return be&&cn(),de=Ue.follow(function(){var Ce;(ye=ce.call(he,he))&&(be?(Ce=Zn.bind(null,null),ye.then(Ce,Ce)):typeof ye.next=="function"&&typeof ye.throw=="function"&&(ye=sa(ye)))},de),(ye&&typeof ye.then=="function"?Ue.resolve(ye).then(function(Ce){return he.active?Ce:zt(new Se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):de.then(function(){return ye})).then(function(Ce){return se&&he._resolve(),he._completion.then(function(){return Ce})}).catch(function(Ce){return he._reject(Ce),zt(Ce)})})}).bind(null,this,L,G,P,E);return P?P._promise(L,ie,"lock"):Be.trans?hr(Be.transless,function(){return j._whenReady(ie)}):this._whenReady(ie)},Wt.prototype.table=function(x){if(!g(this._allTables,x))throw new Se.InvalidTable("Table ".concat(x," does not exist"));return this._allTables[x]},Wt);function Wt(x,w){var E=this;this._middlewares={},this.verno=0;var j=Wt.dependencies;this._options=w=r({addons:Wt.addons,autoOpen:!0,indexedDB:j.indexedDB,IDBKeyRange:j.IDBKeyRange,cache:"cloned"},w),this._deps={indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange},j=w.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var P,L,G,W,ie,oe={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$e,dbReadyPromise:null,cancelOpen:$e,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:w.autoOpen};oe.dbReadyPromise=new Ue(function(re){oe.dbReadyResolve=re}),oe.openCanceller=new Ue(function(re,pe){oe.cancelOpen=pe}),this._state=oe,this.name=x,this.on=wo(this,"populate","blocked","versionchange","close",{ready:[dr,$e]}),this.once=function(re,pe){var se=function(){for(var ce=[],de=0;de<arguments.length;de++)ce[de]=arguments[de];E.on(re).unsubscribe(se),pe.apply(E,ce)};return E.on(re,se)},this.on.ready.subscribe=k(this.on.ready.subscribe,function(re){return function(pe,se){Wt.vip(function(){var ce,de=E._state;de.openComplete?(de.dbOpenError||Ue.resolve().then(pe),se&&re(pe)):de.onReadyBeingFired?(de.onReadyBeingFired.push(pe),se&&re(pe)):(re(pe),ce=E,se||re(function he(){ce.on.ready.unsubscribe(pe),ce.on.ready.unsubscribe(he)}))})}}),this.Collection=(P=this,xn(Mp.prototype,function(ye,he){this.db=P;var se=ts,ce=null;if(he)try{se=he()}catch(be){ce=be}var de=ye._ctx,he=de.table,ye=he.hook.reading.fire;this._ctx={table:he,index:de.index,isPrimKey:!de.index||he.schema.primKey.keyPath&&de.index===he.schema.primKey.name,range:se,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ce,or:de.or,valueMapper:ye!==ot?ye:null}})),this.Table=(L=this,xn(ea.prototype,function(re,pe,se){this.db=L,this._tx=se,this.name=re,this.schema=pe,this.hook=L._allTables[re]?L._allTables[re].hook:wo(null,{creating:[Ut,$e],reading:[at,ot],updating:[Lr,$e],deleting:[ln,$e]})})),this.Transaction=(G=this,xn(Au.prototype,function(re,pe,se,ce,de){var he=this;re!=="readonly"&&pe.forEach(function(ye){ye=(ye=se[ye])===null||ye===void 0?void 0:ye.yProps,ye&&(pe=pe.concat(ye.map(function(be){return be.updatesTable})))}),this.db=G,this.mode=re,this.storeNames=pe,this.schema=se,this.chromeTransactionDurability=ce,this.idbtrans=null,this.on=wo(this,"complete","error","abort"),this.parent=de||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ue(function(ye,be){he._resolve=ye,he._reject=be}),this._completion.then(function(){he.active=!1,he.on.complete.fire()},function(ye){var be=he.active;return he.active=!1,he.on.error.fire(ye),he.parent?he.parent._reject(ye):be&&he.idbtrans&&he.idbtrans.abort(),zt(ye)})})),this.Version=(W=this,xn(Dp.prototype,function(re){this.db=W,this._cfg={version:re,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ie=this,xn(No.prototype,function(re,pe,se){if(this.db=ie,this._ctx={table:re,index:pe===":id"?null:pe,or:se},this._cmp=this._ascending=pt,this._descending=function(ce,de){return pt(de,ce)},this._max=function(ce,de){return 0<pt(ce,de)?ce:de},this._min=function(ce,de){return pt(ce,de)<0?ce:de},this._IDBKeyRange=ie._deps.IDBKeyRange,!this._IDBKeyRange)throw new Se.MissingAPI})),this.on("versionchange",function(re){0<re.newVersion?console.warn("Another connection wants to upgrade database '".concat(E.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(E.name,"'. Closing db now to resume the delete request.")),E.close({disableAutoOpen:!1})}),this.on("blocked",function(re){!re.newVersion||re.newVersion<re.oldVersion?console.warn("Dexie.delete('".concat(E.name,"') was blocked")):console.warn("Upgrade '".concat(E.name,"' blocked by other connection holding version ").concat(re.oldVersion/10))}),this._maxKey=os(w.IDBKeyRange),this._createTransaction=function(re,pe,se,ce){return new E.Transaction(re,pe,se,E._options.chromeTransactionDurability,ce)},this._fireOnBlocked=function(re){E.on("blocked").fire(re),Ti.filter(function(pe){return pe.name===E.name&&pe!==E&&!pe._state.vcFired}).map(function(pe){return pe.on("versionchange").fire(re)})},this.use($d),this.use(ul),this.use(Pp),this.use(Rp),this.use(Vd);var fe=new Proxy(this,{get:function(re,pe,se){if(pe==="_vip")return!0;if(pe==="table")return function(de){return la(E.table(de),fe)};var ce=Reflect.get(re,pe,se);return ce instanceof ea?la(ce,fe):pe==="tables"?ce.map(function(de){return la(de,fe)}):pe==="_createTransaction"?function(){return la(ce.apply(this,arguments),fe)}:ce}});this.vip=fe,j.forEach(function(re){return re(E)})}var cs,mr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",qd=(cl.prototype.subscribe=function(x,w,E){return this._subscribe(x&&typeof x!="function"?x:{next:x,error:w,complete:E})},cl.prototype[mr]=function(){return this},cl);function cl(x){this._subscribe=x}try{cs={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{cs={indexedDB:null,IDBKeyRange:null}}function Zd(x){var w,E=!1,j=new qd(function(P){var L=Z(x),G,W=!1,ie={},oe={},fe={get closed(){return W},unsubscribe:function(){W||(W=!0,G&&G.abort(),re&&Gn.storagemutated.unsubscribe(se))}};P.start&&P.start(fe);var re=!1,pe=function(){return si(ce)},se=function(de){il(ie,de),Iu(oe,ie)&&pe()},ce=function(){var de,he,ye;!W&&cs.indexedDB&&(ie={},de={},G&&G.abort(),G=new AbortController,ye=(function(be){var Ce=ri();try{L&&cn();var De=Lt(x,be);return De=L?De.finally(Zn):De}finally{Ce&&br()}})(he={subscr:de,signal:G.signal,requery:pe,querier:x,trans:null}),Promise.resolve(ye).then(function(be){E=!0,w=be,W||he.signal.aborted||(ie={},(function(Ce){for(var De in Ce)if(g(Ce,De))return;return 1})(oe=de)||re||(Gn(rs,se),re=!0),si(function(){return!W&&P.next&&P.next(be)}))},function(be){E=!1,["DatabaseClosedError","AbortError"].includes(be?.name)||W||si(function(){W||P.error&&P.error(be)})}))};return setTimeout(pe,0),fe});return j.hasValue=function(){return E},j.getValue=function(){return w},j}var Ao=di;function Hu(x){var w=Zi;try{Zi=!0,Gn.storagemutated.fire(x),Bu(x,!0)}finally{Zi=w}}y(Ao,r(r({},et),{delete:function(x){return new Ao(x,{addons:[]}).delete()},exists:function(x){return new Ao(x,{addons:[]}).open().then(function(w){return w.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(x){try{return w=Ao.dependencies,E=w.indexedDB,w=w.IDBKeyRange,(nl(E)?Promise.resolve(E.databases()).then(function(j){return j.map(function(P){return P.name}).filter(function(P){return P!==yo})}):Du(E,w).toCollection().primaryKeys()).then(x)}catch{return zt(new Se.MissingAPI)}var w,E},defineClass:function(){return function(x){f(this,x)}},ignoreTransaction:function(x){return Be.trans?hr(Be.transless,x):x()},vip:zu,async:function(x){return function(){try{var w=sa(x.apply(this,arguments));return w&&typeof w.then=="function"?w:Ue.resolve(w)}catch(E){return zt(E)}}},spawn:function(x,w,E){try{var j=sa(x.apply(E,w||[]));return j&&typeof j.then=="function"?j:Ue.resolve(j)}catch(P){return zt(P)}},currentTransaction:{get:function(){return Be.trans||null}},waitFor:function(x,w){return w=Ue.resolve(typeof x=="function"?Ao.ignoreTransaction(x):x).timeout(w||6e4),Be.trans?Be.trans.waitFor(w):w},Promise:Ue,debug:{get:function(){return Nn},set:function(x){ti(x)}},derive:N,extend:f,props:y,override:k,Events:wo,on:Gn,liveQuery:Zd,extendObservabilitySet:il,getByKeyPath:z,setByKeyPath:D,delByKeyPath:function(x,w){typeof w=="string"?D(x,w,void 0):"length"in w&&[].map.call(w,function(E){D(x,E,void 0)})},shallowClone:I,deepClone:ae,getObjectDiff:sl,cmp:pt,asap:R,minKey:-1/0,addons:[],connections:Ti,errnames:Te,dependencies:cs,cache:ko,semVer:"4.2.1",version:"4.2.1".split(".").map(function(x){return parseInt(x)}).reduce(function(x,w,E){return x+w/Math.pow(10,2*E)})})),Ao.maxKey=os(Ao.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Gn(rs,function(x){Zi||(x=new CustomEvent(Eo,{detail:x}),Zi=!0,dispatchEvent(x),Zi=!1)}),addEventListener(Eo,function(x){x=x.detail,Zi||Hu(x)}));var ds,Zi=!1,ar=function(){};return typeof BroadcastChannel<"u"&&((ar=function(){(ds=new BroadcastChannel(Eo)).onmessage=function(x){return x.data&&Hu(x.data)}})(),typeof ds.unref=="function"&&ds.unref(),Gn(rs,function(x){Zi||ds.postMessage(x)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(x){if(!di.disableBfCache&&x.persisted){Nn&&console.debug("Dexie: handling persisted pagehide"),ds?.close();for(var w=0,E=Ti;w<E.length;w++)E[w].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(x){!di.disableBfCache&&x.persisted&&(Nn&&console.debug("Dexie: handling persisted pageshow"),ar(),Hu({all:new Kn(-1/0,[[]])}))})),Ue.rejectionMapper=function(x,w){return!x||x instanceof F||x instanceof TypeError||x instanceof SyntaxError||!x.name||!We[x.name]?x:(w=new We[x.name](w||x.message,x),"stack"in x&&C(w,"stack",{get:function(){return this.inner.stack}}),w)},ti(Nn),r(di,Object.freeze({__proto__:null,Dexie:di,liveQuery:Zd,Entity:Za,cmp:pt,PropModification:$i,replacePrefix:function(x,w){return new $i({replacePrefix:[x,w]})},add:function(x){return new $i({add:x})},remove:function(x){return new $i({remove:x})},default:di,RangeSet:Kn,mergeRanges:To,rangesOverlap:Ld}),{default:di}),di})})(Oh)),Oh.exports}var d8=c8();const g0=yu(d8),S_=Symbol.for("Dexie"),gu=globalThis[S_]||(globalThis[S_]=g0);if(g0.semVer!==gu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${g0.semVer} and ${gu.semVer}`);const{liveQuery:rK,mergeRanges:iK,rangesOverlap:oK,RangeSet:sK,cmp:aK,Entity:lK,PropModification:uK,replacePrefix:cK,add:dK,remove:fK,DexieYProvider:hK}=gu;class f8 extends gu{flows;executions;constructor(){super("VisualFlowDB"),this.version(1).stores({flows:"id, name, createdAt, updatedAt, *tags, author, deleted",executions:"id, flowId, startedAt, completedAt, status, deleted"})}}const Dr=new f8;async function Yk(){return await Dr.flows.filter(e=>!e.deleted).sortBy("updatedAt")}async function Gk(e){const t=e.toLowerCase();return await Dr.flows.filter(n=>{const r=n.deleted===!0,s=!!(n.name.toLowerCase().includes(t)||n.description?.toLowerCase().includes(t)||n.tags?.some(a=>a.toLowerCase().includes(t)));return!r&&s}).toArray()}async function Kk(e,t=100){return await Dr.executions.where("flowId").equals(e).and(n=>!n.deleted).reverse().limit(t).toArray()}const Bl={LAST_FLOW_ID:"vf:lastOpenedFlowId",RECENT_FLOWS:"vf:recentFlows",LAST_EXPORT_NAME:"vf:lastExportName"};function Xk(e,t){try{localStorage.setItem(Bl.LAST_FLOW_ID,e);const n=JSON.parse(localStorage.getItem(Bl.RECENT_FLOWS)||"[]"),r=[{id:e,name:t,lastOpened:new Date().toISOString()},...n.filter(s=>s.id!==e)].slice(0,10);localStorage.setItem(Bl.RECENT_FLOWS,JSON.stringify(r))}catch(n){if(n instanceof DOMException&&n.name==="QuotaExceededError"){console.warn("localStorage quota exceeded, clearing old data...");try{localStorage.removeItem(Bl.RECENT_FLOWS),localStorage.setItem(Bl.LAST_FLOW_ID,e)}catch(r){console.error("Failed to save last opened flow even after clearing:",r)}}else console.error("Failed to save last opened flow:",n)}}function Wk(){return localStorage.getItem(Bl.LAST_FLOW_ID)}async function Jk(){try{return(await Dr.flows.where("deleted").equals(0).and(t=>!!t.lastAccessedAt).reverse().sortBy("lastAccessedAt"))[0]||null}catch(e){return console.error("Failed to get most recently accessed flow:",e),null}}function h8(){const e=new WeakSet;return(t,n)=>{if(typeof n=="bigint")return n.toString();if(typeof n!="function"){if(typeof n=="object"&&n!==null){if(e.has(n))return"[Circular]";e.add(n)}return n===void 0?null:n}}}function Zx(e){try{const t=JSON.stringify(e,h8());return JSON.parse(t)}catch(t){return console.error("Failed to sanitize object for storage:",t),null}}function Yx(){const e=navigator.userAgent;let t="desktop";/Mobile|Android|iPhone|iPod/i.test(e)?t="mobile":/iPad|Tablet/i.test(e)&&(t="tablet");let n="Unknown";e.includes("Win")?n="Windows":e.includes("Mac")?n="macOS":e.includes("Linux")?n="Linux":e.includes("Android")?n="Android":e.includes("iOS")&&(n="iOS");let r="Unknown";return e.includes("Firefox")?r="Firefox":e.includes("Chrome")?r="Chrome":e.includes("Safari")&&!e.includes("Chrome")?r="Safari":e.includes("Edge")&&(r="Edge"),{deviceType:t,os:n,browser:r,screenResolution:`${window.screen.width}x${window.screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,timestamp:new Date().toISOString()}}async function y0(e,t,n){const r=Yx(),s={id:crypto.randomUUID(),name:e,description:n?.description,author:n?.author,contributors:n?.author?[n.author]:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastAccessedAt:new Date().toISOString(),tags:n?.tags||[],category:n?.category,visibility:"private",version:"1.0.0",versionHistory:[{version:"1.0.0",timestamp:new Date().toISOString(),changes:"Initial creation"}],createdOnDevice:r,lastModifiedOnDevice:r,userAgent:navigator.userAgent,executionCount:0,successRate:0,status:"draft",isTemplate:n?.isTemplate||!1,isFavorite:!1,flow:t,deleted:!1};console.log("[createFlowWithMetadata] Sanitizing flow object...");const a=Zx(s);if(console.log("[createFlowWithMetadata] Sanitization complete"),!a)throw console.error("[createFlowWithMetadata] Sanitization failed!"),new Error("Failed to sanitize flow object for storage");return console.log("[createFlowWithMetadata] Adding flow to database..."),await Dr.flows.add(a),console.log("[createFlowWithMetadata] Flow added successfully"),a}async function Qk(e,t,n){const r=Yx(),s=await Dr.flows.get(e);if(!s)throw new Error(`Flow ${e} not found`);let a=s.versionHistory||[];t.version&&t.version!==s.version&&(a=[...a,{version:t.version,timestamp:new Date().toISOString(),changes:"Updated version"}]);const l={...t,updatedAt:new Date().toISOString(),lastModifiedOnDevice:r,versionHistory:t.version?a:s.versionHistory},c=Zx(l);if(!c)throw new Error("Failed to sanitize update data for storage");await Dr.flows.update(e,c);const f=await Dr.flows.get(e);if(!f)throw new Error(`Failed to retrieve updated flow ${e}`);return f}async function p8(e){await Dr.flows.update(e,{lastAccessedAt:new Date().toISOString()});const t=await Dr.flows.get(e);t&&Xk(e,t.name)}async function ej(e,t=10){return(await Kk(e,t)).map(r=>{const s=new Map;r.results.forEach(l=>{s.set(l.nodeId,l)});let a;return r.status==="completed"?a=r.results.some(c=>c.error)?"partial":"success":r.status==="failed"?a="error":a="partial",{id:r.id,timestamp:r.startedAt,results:s,status:a,traceId:r.traceId,flowName:r.flowName}})}const fh=Object.freeze(Object.defineProperty({__proto__:null,accessFlow:p8,createFlowWithMetadata:y0,db:Dr,getAllFlows:Yk,getCurrentDeviceInfo:Yx,getFlowExecutions:Kk,getLastOpenedFlowId:Wk,getMostRecentlyAccessedFlow:Jk,loadExecutionHistory:ej,sanitizeForStorage:Zx,saveLastOpenedFlow:Xk,searchFlows:Gk,updateFlowWithMetadata:Qk},Symbol.toStringTag,{value:"Module"}));function m8(e,t,n){var r,s;typeof e=="function"?(r=t||[],s=n):(r=[],s=t);var a=to.useRef({hasResult:!1,result:s,error:null}),l=to.useReducer(function(h){return h+1},0);l[0];var c=l[1],f=to.useMemo(function(){var h=typeof e=="function"?e():e;if(!h||typeof h.subscribe!="function")throw e===h?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!a.current.hasResult&&typeof window<"u"&&(typeof h.hasValue!="function"||h.hasValue()))if(typeof h.getValue=="function")a.current.result=h.getValue(),a.current.hasResult=!0;else{var m=h.subscribe(function(g){a.current.result=g,a.current.hasResult=!0});typeof m=="function"?m():m.unsubscribe()}return h},r);if(to.useDebugValue(a.current.result),to.useEffect(function(){var h=f.subscribe(function(m){var g=a.current;(g.error!==null||g.result!==m)&&(g.error=null,g.result=m,g.hasResult=!0,c())},function(m){var g=a.current;g.error!==m&&(g.error=m,c())});return typeof h=="function"?h:h.unsubscribe.bind(h)},r),a.current.error)throw a.current.error;return a.current.result}function g8(e,t,n){return m8(function(){return gu.liveQuery(e)},t||[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=gu.DexieYProvider;t&&t.release(e)});const y8=({isOpen:e,currentFlowId:t,onLoadFlow:n,onNewFlow:r,onClose:s})=>{const[a,l]=U.useState(""),[c,f]=U.useState("updated"),m=g8(async()=>a.trim()?await Gk(a):await Yk(),[a])?.map(_=>({..._,name:typeof _.name=="string"?_.name:"Untitled Flow",description:typeof _.description=="string"?_.description:void 0,tags:Array.isArray(_.tags)?_.tags.map(A=>typeof A=="string"?A:String(A)):[],status:typeof _.status=="string"?_.status:void 0,version:typeof _.version=="string"?_.version:"1.0.0",updatedAt:typeof _.updatedAt=="string"?_.updatedAt:new Date().toISOString()})),g=m?.sort((_,A)=>{switch(c){case"updated":return new Date(A.updatedAt).getTime()-new Date(_.updatedAt).getTime();case"created":return new Date(A.createdAt).getTime()-new Date(_.createdAt).getTime();case"name":return _.name.localeCompare(A.name);case"executions":return(A.executionCount||0)-(_.executionCount||0);default:return 0}}),y=async(_,A)=>{confirm(`Delete "${A}"? This will mark it as deleted but can be recovered.`)&&await Dr.flows.update(_,{deleted:!0,deletedAt:new Date().toISOString()})},b=_=>{if(!_)return"Unknown";try{const A=new Date(_);if(isNaN(A.getTime()))return"Invalid date";const O=new Date().getTime()-A.getTime(),R=Math.floor(O/6e4);if(R<60)return`${R}m ago`;const z=Math.floor(R/60);if(z<24)return`${z}h ago`;const D=Math.floor(z/24);return D<7?`${D}d ago`:A.toLocaleDateString()}catch{return"Invalid date"}};if(!e)return null;const C=_=>{_.stopPropagation(),s()},N=_=>{_.stopPropagation()},T=p.jsxs(p.Fragment,{children:[p.jsx("div",{"data-testid":"flow-list-backdrop",className:"fixed inset-0",onClick:C,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.2)",zIndex:9999,cursor:"pointer"}}),p.jsxs("div",{className:"fixed top-12 left-4 w-96 bg-white rounded-lg shadow-xl border border-gray-200 max-h-[calc(100vh-80px)] overflow-hidden flex flex-col",onClick:N,style:{zIndex:1e4},children:[p.jsxs("div",{className:"p-4 border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Saved Flows"}),p.jsxs("span",{className:"text-xs text-gray-500",children:[m?.length||0," flows"]})]}),p.jsx("input",{type:"text",value:a,onChange:_=>l(_.target.value),placeholder:"Search flows by name, tags...",className:"w-full border border-gray-300 rounded-md px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center gap-2",children:[p.jsx("span",{className:"text-xs text-gray-600",children:"Sort by:"}),p.jsxs("select",{value:c,onChange:_=>f(_.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"updated",children:"Last Updated"}),p.jsx("option",{value:"created",children:"Created Date"}),p.jsx("option",{value:"name",children:"Name (A-Z)"}),p.jsx("option",{value:"executions",children:"Executions"})]})]}),p.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:p.jsx("button",{onClick:r,className:"w-full bg-blue-500 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-600 transition-colors",children:" New Flow"})}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:m?g?.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-sm text-gray-500",children:a?"No flows match your search":"No saved flows yet"}),a&&p.jsx("button",{onClick:()=>l(""),className:"text-xs text-blue-600 hover:underline mt-2",children:"Clear search"})]}):g?.map(_=>p.jsxs("div",{className:`p-3 rounded-lg border transition-all cursor-pointer ${_.id===t?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>n(_.id),children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("h3",{className:"font-medium text-sm text-gray-800 truncate",children:typeof _.name=="string"?_.name:"Untitled Flow"}),_.isFavorite&&p.jsx("span",{className:"text-xs",children:""})]}),_.description&&typeof _.description=="string"&&p.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:_.description}),_.tags&&_.tags.length>0&&p.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[_.tags.slice(0,3).map((A,k)=>{const O=typeof A=="string"?A:String(A);return p.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded",children:O},O+k)}),_.tags.length>3&&p.jsxs("span",{className:"text-xs text-gray-500",children:["+",_.tags.length-3]})]}),p.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[p.jsxs("span",{title:"Node count",children:[" ",_.flow?.nodes?.length||0]}),p.jsxs("span",{title:"Execution count",children:[" ",_.executionCount||0]}),_.successRate!==void 0&&_.executionCount&&_.executionCount>0&&p.jsxs("span",{title:"Success rate",className:_.successRate>=80?"text-green-600":_.successRate>=50?"text-yellow-600":"text-red-600",children:[" ",Math.round(_.successRate),"%"]}),p.jsxs("span",{title:"Version",children:["v",_.version||"1.0.0"]})]}),p.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Updated ",b(_.updatedAt)]})]}),p.jsxs("div",{className:"flex flex-col gap-1 ml-2",children:[p.jsx("button",{onClick:A=>{A.stopPropagation(),n(_.id)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Load flow",children:""}),p.jsx("button",{onClick:A=>{A.stopPropagation(),y(_.id,_.name)},className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete flow",children:""})]})]}),_.status&&typeof _.status=="string"&&p.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200",children:p.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${_.status==="active"?"bg-green-100 text-green-700":_.status==="draft"?"bg-yellow-100 text-yellow-700":_.status==="archived"?"bg-gray-100 text-gray-600":"bg-orange-100 text-orange-700"}`,children:_.status})})]},_.id)):p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full mx-auto"}),p.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Loading flows..."})]})})]})]});return Y0.createPortal(T,document.body)};var Oc={exports:{}},ay={},ly={exports:{}},uy,N_;function x8(){if(N_)return uy;N_=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uy=e,uy}var cy,__;function v8(){if(__)return cy;__=1;var e=x8();function t(){}function n(){}return n.resetWarningCache=t,cy=function(){function r(l,c,f,h,m,g){if(g!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},cy}var E_;function tj(){return E_||(E_=1,ly.exports=v8()()),ly.exports}function nj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=nj(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function C_(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=nj(e))&&(r&&(r+=" "),r+=t);return r}const b8=Object.freeze(Object.defineProperty({__proto__:null,clsx:C_,default:C_},Symbol.toStringTag,{value:"Module"})),w8=DM(b8);var Tn={},Is={},T_;function Ep(){if(T_)return Is;T_=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.dontSetMe=s,Is.findInArray=e,Is.int=r,Is.isFunction=t,Is.isNum=n;function e(a,l){for(let c=0,f=a.length;c<f;c++)if(l.apply(l,[a[c],c,a]))return a[c]}function t(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Function]"}function n(a){return typeof a=="number"&&!isNaN(a)}function r(a){return parseInt(a,10)}function s(a,l,c){if(a[l])return new Error("Invalid prop ".concat(l," passed to ").concat(c," - do not set this, set it on the child."))}return Is}var Ls={},k_;function S8(){if(k_)return Ls;k_=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.browserPrefixToKey=n,Ls.browserPrefixToStyle=r,Ls.default=void 0,Ls.getPrefix=t;const e=["Moz","Webkit","O","ms"];function t(){var a;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const c=(a=window.document)===null||a===void 0||(a=a.documentElement)===null||a===void 0?void 0:a.style;if(!c||l in c)return"";for(let f=0;f<e.length;f++)if(n(l,e[f])in c)return e[f];return""}function n(a,l){return l?"".concat(l).concat(s(a)):a}function r(a,l){return l?"-".concat(l.toLowerCase(),"-").concat(a):a}function s(a){let l="",c=!0;for(let f=0;f<a.length;f++)c?(l+=a[f].toUpperCase(),c=!1):a[f]==="-"?c=!0:l+=a[f];return l}return Ls.default=t(),Ls}var j_;function Gx(){if(j_)return Tn;j_=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.addClassName=R,Tn.addEvent=c,Tn.addUserSelectStyles=k,Tn.createCSSTransform=C,Tn.createSVGTransform=N,Tn.getTouch=_,Tn.getTouchIdentifier=A,Tn.getTranslation=T,Tn.innerHeight=g,Tn.innerWidth=y,Tn.matchesSelector=a,Tn.matchesSelectorAndParentsTo=l,Tn.offsetXYFromParent=b,Tn.outerHeight=h,Tn.outerWidth=m,Tn.removeClassName=z,Tn.removeEvent=f,Tn.removeUserSelectStyles=O;var e=Ep(),t=r(S8());function n(D){if(typeof WeakMap!="function")return null;var I=new WeakMap,H=new WeakMap;return(n=function(te){return te?H:I})(D)}function r(D,I){if(D&&D.__esModule)return D;if(D===null||typeof D!="object"&&typeof D!="function")return{default:D};var H=n(I);if(H&&H.has(D))return H.get(D);var te={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in D)if(X!=="default"&&Object.prototype.hasOwnProperty.call(D,X)){var ae=ee?Object.getOwnPropertyDescriptor(D,X):null;ae&&(ae.get||ae.set)?Object.defineProperty(te,X,ae):te[X]=D[X]}return te.default=D,H&&H.set(D,te),te}let s="";function a(D,I){return s||(s=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(H){return(0,e.isFunction)(D[H])})),(0,e.isFunction)(D[s])?D[s](I):!1}function l(D,I,H){let te=D;do{if(a(te,I))return!0;if(te===H)return!1;te=te.parentNode}while(te);return!1}function c(D,I,H,te){if(!D)return;const ee={capture:!0,...te};D.addEventListener?D.addEventListener(I,H,ee):D.attachEvent?D.attachEvent("on"+I,H):D["on"+I]=H}function f(D,I,H,te){if(!D)return;const ee={capture:!0,...te};D.removeEventListener?D.removeEventListener(I,H,ee):D.detachEvent?D.detachEvent("on"+I,H):D["on"+I]=null}function h(D){let I=D.clientHeight;const H=D.ownerDocument.defaultView.getComputedStyle(D);return I+=(0,e.int)(H.borderTopWidth),I+=(0,e.int)(H.borderBottomWidth),I}function m(D){let I=D.clientWidth;const H=D.ownerDocument.defaultView.getComputedStyle(D);return I+=(0,e.int)(H.borderLeftWidth),I+=(0,e.int)(H.borderRightWidth),I}function g(D){let I=D.clientHeight;const H=D.ownerDocument.defaultView.getComputedStyle(D);return I-=(0,e.int)(H.paddingTop),I-=(0,e.int)(H.paddingBottom),I}function y(D){let I=D.clientWidth;const H=D.ownerDocument.defaultView.getComputedStyle(D);return I-=(0,e.int)(H.paddingLeft),I-=(0,e.int)(H.paddingRight),I}function b(D,I,H){const ee=I===I.ownerDocument.body?{left:0,top:0}:I.getBoundingClientRect(),X=(D.clientX+I.scrollLeft-ee.left)/H,ae=(D.clientY+I.scrollTop-ee.top)/H;return{x:X,y:ae}}function C(D,I){const H=T(D,I,"px");return{[(0,t.browserPrefixToKey)("transform",t.default)]:H}}function N(D,I){return T(D,I,"")}function T(D,I,H){let{x:te,y:ee}=D,X="translate(".concat(te).concat(H,",").concat(ee).concat(H,")");if(I){const ae="".concat(typeof I.x=="string"?I.x:I.x+H),q="".concat(typeof I.y=="string"?I.y:I.y+H);X="translate(".concat(ae,", ").concat(q,")")+X}return X}function _(D,I){return D.targetTouches&&(0,e.findInArray)(D.targetTouches,H=>I===H.identifier)||D.changedTouches&&(0,e.findInArray)(D.changedTouches,H=>I===H.identifier)}function A(D){if(D.targetTouches&&D.targetTouches[0])return D.targetTouches[0].identifier;if(D.changedTouches&&D.changedTouches[0])return D.changedTouches[0].identifier}function k(D){if(!D)return;let I=D.getElementById("react-draggable-style-el");I||(I=D.createElement("style"),I.type="text/css",I.id="react-draggable-style-el",I.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,I.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,D.getElementsByTagName("head")[0].appendChild(I)),D.body&&R(D.body,"react-draggable-transparent-selection")}function O(D){if(D)try{if(D.body&&z(D.body,"react-draggable-transparent-selection"),D.selection)D.selection.empty();else{const I=(D.defaultView||window).getSelection();I&&I.type!=="Caret"&&I.removeAllRanges()}}catch{}}function R(D,I){D.classList?D.classList.add(I):D.className.match(new RegExp("(?:^|\\s)".concat(I,"(?!\\S)")))||(D.className+=" ".concat(I))}function z(D,I){D.classList?D.classList.remove(I):D.className=D.className.replace(new RegExp("(?:^|\\s)".concat(I,"(?!\\S)"),"g"),"")}return Tn}var Wi={},A_;function rj(){if(A_)return Wi;A_=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.canDragX=s,Wi.canDragY=a,Wi.createCoreData=c,Wi.createDraggableData=f,Wi.getBoundPosition=n,Wi.getControlPosition=l,Wi.snapToGrid=r;var e=Ep(),t=Gx();function n(g,y,b){if(!g.props.bounds)return[y,b];let{bounds:C}=g.props;C=typeof C=="string"?C:h(C);const N=m(g);if(typeof C=="string"){const{ownerDocument:T}=N,_=T.defaultView;let A;if(C==="parent"?A=N.parentNode:A=T.querySelector(C),!(A instanceof _.HTMLElement))throw new Error('Bounds selector "'+C+'" could not find an element.');const k=A,O=_.getComputedStyle(N),R=_.getComputedStyle(k);C={left:-N.offsetLeft+(0,e.int)(R.paddingLeft)+(0,e.int)(O.marginLeft),top:-N.offsetTop+(0,e.int)(R.paddingTop)+(0,e.int)(O.marginTop),right:(0,t.innerWidth)(k)-(0,t.outerWidth)(N)-N.offsetLeft+(0,e.int)(R.paddingRight)-(0,e.int)(O.marginRight),bottom:(0,t.innerHeight)(k)-(0,t.outerHeight)(N)-N.offsetTop+(0,e.int)(R.paddingBottom)-(0,e.int)(O.marginBottom)}}return(0,e.isNum)(C.right)&&(y=Math.min(y,C.right)),(0,e.isNum)(C.bottom)&&(b=Math.min(b,C.bottom)),(0,e.isNum)(C.left)&&(y=Math.max(y,C.left)),(0,e.isNum)(C.top)&&(b=Math.max(b,C.top)),[y,b]}function r(g,y,b){const C=Math.round(y/g[0])*g[0],N=Math.round(b/g[1])*g[1];return[C,N]}function s(g){return g.props.axis==="both"||g.props.axis==="x"}function a(g){return g.props.axis==="both"||g.props.axis==="y"}function l(g,y,b){const C=typeof y=="number"?(0,t.getTouch)(g,y):null;if(typeof y=="number"&&!C)return null;const N=m(b),T=b.props.offsetParent||N.offsetParent||N.ownerDocument.body;return(0,t.offsetXYFromParent)(C||g,T,b.props.scale)}function c(g,y,b){const C=!(0,e.isNum)(g.lastX),N=m(g);return C?{node:N,deltaX:0,deltaY:0,lastX:y,lastY:b,x:y,y:b}:{node:N,deltaX:y-g.lastX,deltaY:b-g.lastY,lastX:g.lastX,lastY:g.lastY,x:y,y:b}}function f(g,y){const b=g.props.scale;return{node:y.node,x:g.state.x+y.deltaX/b,y:g.state.y+y.deltaY/b,deltaX:y.deltaX/b,deltaY:y.deltaY/b,lastX:g.state.x,lastY:g.state.y}}function h(g){return{left:g.left,top:g.top,right:g.right,bottom:g.bottom}}function m(g){const y=g.findDOMNode();if(!y)throw new Error("<DraggableCore>: Unmounted during event!");return y}return Wi}var Dc={},hh={},M_;function ij(){if(M_)return hh;M_=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.default=e;function e(){}return hh}var O_;function N8(){if(O_)return Dc;O_=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.default=void 0;var e=h(Ba()),t=c(tj()),n=c(op()),r=Gx(),s=rj(),a=Ep(),l=c(ij());function c(T){return T&&T.__esModule?T:{default:T}}function f(T){if(typeof WeakMap!="function")return null;var _=new WeakMap,A=new WeakMap;return(f=function(k){return k?A:_})(T)}function h(T,_){if(T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var A=f(_);if(A&&A.has(T))return A.get(T);var k={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in T)if(R!=="default"&&Object.prototype.hasOwnProperty.call(T,R)){var z=O?Object.getOwnPropertyDescriptor(T,R):null;z&&(z.get||z.set)?Object.defineProperty(k,R,z):k[R]=T[R]}return k.default=T,A&&A.set(T,k),k}function m(T,_,A){return _=g(_),_ in T?Object.defineProperty(T,_,{value:A,enumerable:!0,configurable:!0,writable:!0}):T[_]=A,T}function g(T){var _=y(T,"string");return typeof _=="symbol"?_:String(_)}function y(T,_){if(typeof T!="object"||T===null)return T;var A=T[Symbol.toPrimitive];if(A!==void 0){var k=A.call(T,_);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(T)}const b={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let C=b.mouse,N=class extends e.Component{constructor(){super(...arguments),m(this,"dragging",!1),m(this,"lastX",NaN),m(this,"lastY",NaN),m(this,"touchIdentifier",null),m(this,"mounted",!1),m(this,"handleDragStart",_=>{if(this.props.onMouseDown(_),!this.props.allowAnyClick&&typeof _.button=="number"&&_.button!==0)return!1;const A=this.findDOMNode();if(!A||!A.ownerDocument||!A.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:k}=A;if(this.props.disabled||!(_.target instanceof k.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(_.target,this.props.handle,A)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(_.target,this.props.cancel,A))return;_.type==="touchstart"&&_.preventDefault();const O=(0,r.getTouchIdentifier)(_);this.touchIdentifier=O;const R=(0,s.getControlPosition)(_,O,this);if(R==null)return;const{x:z,y:D}=R,I=(0,s.createCoreData)(this,z,D);(0,l.default)("DraggableCore: handleDragStart: %j",I),(0,l.default)("calling",this.props.onStart),!(this.props.onStart(_,I)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(k),this.dragging=!0,this.lastX=z,this.lastY=D,(0,r.addEvent)(k,C.move,this.handleDrag),(0,r.addEvent)(k,C.stop,this.handleDragStop))}),m(this,"handleDrag",_=>{const A=(0,s.getControlPosition)(_,this.touchIdentifier,this);if(A==null)return;let{x:k,y:O}=A;if(Array.isArray(this.props.grid)){let D=k-this.lastX,I=O-this.lastY;if([D,I]=(0,s.snapToGrid)(this.props.grid,D,I),!D&&!I)return;k=this.lastX+D,O=this.lastY+I}const R=(0,s.createCoreData)(this,k,O);if((0,l.default)("DraggableCore: handleDrag: %j",R),this.props.onDrag(_,R)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const I=document.createEvent("MouseEvents");I.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(I)}return}this.lastX=k,this.lastY=O}),m(this,"handleDragStop",_=>{if(!this.dragging)return;const A=(0,s.getControlPosition)(_,this.touchIdentifier,this);if(A==null)return;let{x:k,y:O}=A;if(Array.isArray(this.props.grid)){let I=k-this.lastX||0,H=O-this.lastY||0;[I,H]=(0,s.snapToGrid)(this.props.grid,I,H),k=this.lastX+I,O=this.lastY+H}const R=(0,s.createCoreData)(this,k,O);if(this.props.onStop(_,R)===!1||this.mounted===!1)return!1;const D=this.findDOMNode();D&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(D.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",R),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,D&&((0,l.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(D.ownerDocument,C.move,this.handleDrag),(0,r.removeEvent)(D.ownerDocument,C.stop,this.handleDragStop))}),m(this,"onMouseDown",_=>(C=b.mouse,this.handleDragStart(_))),m(this,"onMouseUp",_=>(C=b.mouse,this.handleDragStop(_))),m(this,"onTouchStart",_=>(C=b.touch,this.handleDragStart(_))),m(this,"onTouchEnd",_=>(C=b.touch,this.handleDragStop(_)))}componentDidMount(){this.mounted=!0;const _=this.findDOMNode();_&&(0,r.addEvent)(_,b.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const _=this.findDOMNode();if(_){const{ownerDocument:A}=_;(0,r.removeEvent)(A,b.mouse.move,this.handleDrag),(0,r.removeEvent)(A,b.touch.move,this.handleDrag),(0,r.removeEvent)(A,b.mouse.stop,this.handleDragStop),(0,r.removeEvent)(A,b.touch.stop,this.handleDragStop),(0,r.removeEvent)(_,b.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(A)}}findDOMNode(){var _,A;return(_=this.props)!==null&&_!==void 0&&_.nodeRef?(A=this.props)===null||A===void 0||(A=A.nodeRef)===null||A===void 0?void 0:A.current:n.default.findDOMNode(this)}render(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Dc.default=N,m(N,"displayName","DraggableCore"),m(N,"propTypes",{allowAnyClick:t.default.bool,children:t.default.node.isRequired,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:function(T,_){if(T[_]&&T[_].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:t.default.arrayOf(t.default.number),handle:t.default.string,cancel:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number,className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),m(N,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Dc}var D_;function _8(){return D_||(D_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var t=y(Ba()),n=m(tj()),r=m(op()),s=m(w8),a=Gx(),l=rj(),c=Ep(),f=m(N8()),h=m(ij());function m(A){return A&&A.__esModule?A:{default:A}}function g(A){if(typeof WeakMap!="function")return null;var k=new WeakMap,O=new WeakMap;return(g=function(R){return R?O:k})(A)}function y(A,k){if(A&&A.__esModule)return A;if(A===null||typeof A!="object"&&typeof A!="function")return{default:A};var O=g(k);if(O&&O.has(A))return O.get(A);var R={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in A)if(D!=="default"&&Object.prototype.hasOwnProperty.call(A,D)){var I=z?Object.getOwnPropertyDescriptor(A,D):null;I&&(I.get||I.set)?Object.defineProperty(R,D,I):R[D]=A[D]}return R.default=A,O&&O.set(A,R),R}function b(){return b=Object.assign?Object.assign.bind():function(A){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var R in O)Object.prototype.hasOwnProperty.call(O,R)&&(A[R]=O[R])}return A},b.apply(this,arguments)}function C(A,k,O){return k=N(k),k in A?Object.defineProperty(A,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):A[k]=O,A}function N(A){var k=T(A,"string");return typeof k=="symbol"?k:String(k)}function T(A,k){if(typeof A!="object"||A===null)return A;var O=A[Symbol.toPrimitive];if(O!==void 0){var R=O.call(A,k);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(A)}class _ extends t.Component{static getDerivedStateFromProps(k,O){let{position:R}=k,{prevPropsPosition:z}=O;return R&&(!z||R.x!==z.x||R.y!==z.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:z}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(k){super(k),C(this,"onDragStart",(O,R)=>{if((0,h.default)("Draggable: onDragStart: %j",R),this.props.onStart(O,(0,l.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),C(this,"onDrag",(O,R)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",R);const z=(0,l.createDraggableData)(this,R),D={x:z.x,y:z.y,slackX:0,slackY:0};if(this.props.bounds){const{x:H,y:te}=D;D.x+=this.state.slackX,D.y+=this.state.slackY;const[ee,X]=(0,l.getBoundPosition)(this,D.x,D.y);D.x=ee,D.y=X,D.slackX=this.state.slackX+(H-D.x),D.slackY=this.state.slackY+(te-D.y),z.x=D.x,z.y=D.y,z.deltaX=D.x-this.state.x,z.deltaY=D.y-this.state.y}if(this.props.onDrag(O,z)===!1)return!1;this.setState(D)}),C(this,"onDragStop",(O,R)=>{if(!this.state.dragging||this.props.onStop(O,(0,l.createDraggableData)(this,R))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",R);const D={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:H,y:te}=this.props.position;D.x=H,D.y=te}this.setState(D)}),this.state={dragging:!1,dragged:!1,x:k.position?k.position.x:k.defaultPosition.x,y:k.position?k.position.y:k.defaultPosition.y,prevPropsPosition:{...k.position},slackX:0,slackY:0,isElementSVG:!1},k.position&&!(k.onDrag||k.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var k,O;return(k=(O=this.props)===null||O===void 0||(O=O.nodeRef)===null||O===void 0?void 0:O.current)!==null&&k!==void 0?k:r.default.findDOMNode(this)}render(){const{axis:k,bounds:O,children:R,defaultPosition:z,defaultClassName:D,defaultClassNameDragging:I,defaultClassNameDragged:H,position:te,positionOffset:ee,scale:X,...ae}=this.props;let q={},Q=null;const Y=!!!te||this.state.dragging,K=te||z,ue={x:(0,l.canDragX)(this)&&Y?this.state.x:K.x,y:(0,l.canDragY)(this)&&Y?this.state.y:K.y};this.state.isElementSVG?Q=(0,a.createSVGTransform)(ue,ee):q=(0,a.createCSSTransform)(ue,ee);const B=(0,s.default)(R.props.className||"",D,{[I]:this.state.dragging,[H]:this.state.dragged});return t.createElement(f.default,b({},ae,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(R),{className:B,style:{...R.props.style,...q},transform:Q}))}}e.default=_,C(_,"displayName","Draggable"),C(_,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),C(_,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(ay)),ay}var z_;function E8(){if(z_)return Oc.exports;z_=1;const{default:e,DraggableCore:t}=_8();return Oc.exports=e,Oc.exports.default=e,Oc.exports.DraggableCore=t,Oc.exports}var C8=E8();const T8=yu(C8);var In=function(){return In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},In.apply(this,arguments)},R_={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},P_={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},ph={width:"20px",height:"20px",position:"absolute",zIndex:1},k8={top:In(In({},R_),{top:"-5px"}),right:In(In({},P_),{left:void 0,right:"-5px"}),bottom:In(In({},R_),{top:void 0,bottom:"-5px"}),left:In(In({},P_),{left:"-5px"}),topRight:In(In({},ph),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:In(In({},ph),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:In(In({},ph),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:In(In({},ph),{left:"-10px",top:"-10px",cursor:"nw-resize"})},j8=U.memo(function(e){var t=e.onResizeStart,n=e.direction,r=e.children,s=e.replaceStyles,a=e.className,l=U.useCallback(function(h){t(h,n)},[t,n]),c=U.useCallback(function(h){t(h,n)},[t,n]),f=U.useMemo(function(){return In(In({position:"absolute",userSelect:"none"},k8[n]),s??{})},[s,n]);return p.jsx("div",{className:a||void 0,style:f,onMouseDown:l,onTouchStart:c,children:r})}),A8=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ji=function(){return Ji=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ji.apply(this,arguments)},M8={width:"auto",height:"auto"},mh=function(e,t,n){return Math.max(Math.min(e,n),t)},I_=function(e,t,n){var r=Math.round(e/t);return r*t+n*(r-1)},Il=function(e,t){return new RegExp(e,"i").test(t)},gh=function(e){return!!(e.touches&&e.touches.length)},O8=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},L_=function(e,t,n){n===void 0&&(n=0);var r=t.reduce(function(a,l,c){return Math.abs(l-e)<Math.abs(t[a]-e)?c:a},0),s=Math.abs(t[r]-e);return n===0||s<n?t[r]:e},dy=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:"".concat(e,"px")},yh=function(e,t,n,r){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var s=Number(e.replace("%",""))/100;return t*s}if(e.endsWith("vw")){var s=Number(e.replace("vw",""))/100;return n*s}if(e.endsWith("vh")){var s=Number(e.replace("vh",""))/100;return r*s}}return e},D8=function(e,t,n,r,s,a,l){return r=yh(r,e.width,t,n),s=yh(s,e.height,t,n),a=yh(a,e.width,t,n),l=yh(l,e.height,t,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof a>"u"?void 0:Number(a),minHeight:typeof l>"u"?void 0:Number(l)}},z8=function(e){return Array.isArray(e)?e:[e,e]},R8=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],F_="__resizable_base__",P8=(function(e){A8(t,e);function t(n){var r,s,a,l,c=e.call(this,n)||this;return c.ratio=1,c.resizable=null,c.parentLeft=0,c.parentTop=0,c.resizableLeft=0,c.resizableRight=0,c.resizableTop=0,c.resizableBottom=0,c.targetLeft=0,c.targetTop=0,c.delta={width:0,height:0},c.appendBase=function(){if(!c.resizable||!c.window)return null;var f=c.parentNode;if(!f)return null;var h=c.window.document.createElement("div");return h.style.width="100%",h.style.height="100%",h.style.position="absolute",h.style.transform="scale(0, 0)",h.style.left="0",h.style.flex="0 0 100%",h.classList?h.classList.add(F_):h.className+=F_,f.appendChild(h),h},c.removeBase=function(f){var h=c.parentNode;h&&h.removeChild(f)},c.state={isResizing:!1,width:(s=(r=c.propsSize)===null||r===void 0?void 0:r.width)!==null&&s!==void 0?s:"auto",height:(l=(a=c.propsSize)===null||a===void 0?void 0:a.height)!==null&&l!==void 0?l:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},c.onResizeStart=c.onResizeStart.bind(c),c.onMouseMove=c.onMouseMove.bind(c),c.onMouseUp=c.onMouseUp.bind(c),c}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||M8},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,a=this.resizable.offsetHeight,l=this.resizable.style.position;l!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:a,this.resizable.style.position=l}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,s=function(c){var f;if(typeof n.state[c]>"u"||n.state[c]==="auto")return"auto";if(n.propsSize&&n.propsSize[c]&&(!((f=n.propsSize[c])===null||f===void 0)&&f.toString().endsWith("%"))){if(n.state[c].toString().endsWith("%"))return n.state[c].toString();var h=n.getParentSize(),m=Number(n.state[c].toString().replace("px","")),g=m/h[c]*100;return"".concat(g,"%")}return dy(n.state[c])},a=r&&typeof r.width<"u"&&!this.state.isResizing?dy(r.width):s("width"),l=r&&typeof r.height<"u"&&!this.state.isResizing?dy(r.height):s("height");return{width:a,height:l}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var a={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=s),this.removeBase(n),a},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(n,r){var s=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof s>"u"||s==="auto")?"auto":n},t.prototype.calculateNewMaxFromBoundary=function(n,r){var s=this.props.boundsByDirection,a=this.state.direction,l=s&&Il("left",a),c=s&&Il("top",a),f,h;if(this.props.bounds==="parent"){var m=this.parentNode;m&&(f=l?this.resizableRight-this.parentLeft:m.offsetWidth+(this.parentLeft-this.resizableLeft),h=c?this.resizableBottom-this.parentTop:m.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(f=l?this.resizableRight:this.window.innerWidth-this.resizableLeft,h=c?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(f=l?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),h=c?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return f&&Number.isFinite(f)&&(n=n&&n<f?n:f),h&&Number.isFinite(h)&&(r=r&&r<h?r:h),{maxWidth:n,maxHeight:r}},t.prototype.calculateNewSizeFromDirection=function(n,r){var s=this.props.scale||1,a=z8(this.props.resizeRatio||1),l=a[0],c=a[1],f=this.state,h=f.direction,m=f.original,g=this.props,y=g.lockAspectRatio,b=g.lockAspectRatioExtraHeight,C=g.lockAspectRatioExtraWidth,N=m.width,T=m.height,_=b||0,A=C||0;return Il("right",h)&&(N=m.width+(n-m.x)*l/s,y&&(T=(N-A)/this.ratio+_)),Il("left",h)&&(N=m.width-(n-m.x)*l/s,y&&(T=(N-A)/this.ratio+_)),Il("bottom",h)&&(T=m.height+(r-m.y)*c/s,y&&(N=(T-_)*this.ratio+A)),Il("top",h)&&(T=m.height-(r-m.y)*c/s,y&&(N=(T-_)*this.ratio+A)),{newWidth:N,newHeight:T}},t.prototype.calculateNewSizeFromAspectRatio=function(n,r,s,a){var l=this.props,c=l.lockAspectRatio,f=l.lockAspectRatioExtraHeight,h=l.lockAspectRatioExtraWidth,m=typeof a.width>"u"?10:a.width,g=typeof s.width>"u"||s.width<0?n:s.width,y=typeof a.height>"u"?10:a.height,b=typeof s.height>"u"||s.height<0?r:s.height,C=f||0,N=h||0;if(c){var T=(y-C)*this.ratio+N,_=(b-C)*this.ratio+N,A=(m-N)/this.ratio+C,k=(g-N)/this.ratio+C,O=Math.max(m,T),R=Math.min(g,_),z=Math.max(y,A),D=Math.min(b,k);n=mh(n,O,R),r=mh(r,z,D)}else n=mh(n,m,g),r=mh(r,y,b);return{newWidth:n,newHeight:r}},t.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var s=r.getBoundingClientRect();this.parentLeft=s.left*n,this.parentTop=s.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var a=this.props.bounds.getBoundingClientRect();this.targetLeft=a.left*n,this.targetTop=a.top*n}if(this.resizable){var l=this.resizable.getBoundingClientRect(),c=l.left,f=l.top,h=l.right,m=l.bottom;this.resizableLeft=c*n,this.resizableRight=h*n,this.resizableTop=f*n,this.resizableBottom=m*n}},t.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var s=0,a=0;if(n.nativeEvent&&O8(n.nativeEvent)?(s=n.nativeEvent.clientX,a=n.nativeEvent.clientY):n.nativeEvent&&gh(n.nativeEvent)&&(s=n.nativeEvent.touches[0].clientX,a=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var l=this.props.onResizeStart(n,r,this.resizable);if(l===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var c,f=this.window.getComputedStyle(this.resizable);if(f.flexBasis!=="auto"){var h=this.parentNode;if(h){var m=this.window.getComputedStyle(h).flexDirection;this.flexDir=m.startsWith("row")?"row":"column",c=f.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var g={original:{x:s,y:a,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Ji(Ji({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:c};this.setState(g)}},t.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&gh(n))try{n.preventDefault(),n.stopPropagation()}catch{}var s=this.props,a=s.maxWidth,l=s.maxHeight,c=s.minWidth,f=s.minHeight,h=gh(n)?n.touches[0].clientX:n.clientX,m=gh(n)?n.touches[0].clientY:n.clientY,g=this.state,y=g.direction,b=g.original,C=g.width,N=g.height,T=this.getParentSize(),_=D8(T,this.window.innerWidth,this.window.innerHeight,a,l,c,f);a=_.maxWidth,l=_.maxHeight,c=_.minWidth,f=_.minHeight;var A=this.calculateNewSizeFromDirection(h,m),k=A.newHeight,O=A.newWidth,R=this.calculateNewMaxFromBoundary(a,l);this.props.snap&&this.props.snap.x&&(O=L_(O,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(k=L_(k,this.props.snap.y,this.props.snapGap));var z=this.calculateNewSizeFromAspectRatio(O,k,{width:R.maxWidth,height:R.maxHeight},{width:c,height:f});if(O=z.newWidth,k=z.newHeight,this.props.grid){var D=I_(O,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),I=I_(k,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),H=this.props.snapGap||0,te=H===0||Math.abs(D-O)<=H?D:O,ee=H===0||Math.abs(I-k)<=H?I:k;O=te,k=ee}var X={width:O-b.width,height:k-b.height};if(this.delta=X,C&&typeof C=="string"){if(C.endsWith("%")){var ae=O/T.width*100;O="".concat(ae,"%")}else if(C.endsWith("vw")){var q=O/this.window.innerWidth*100;O="".concat(q,"vw")}else if(C.endsWith("vh")){var Q=O/this.window.innerHeight*100;O="".concat(Q,"vh")}}if(N&&typeof N=="string"){if(N.endsWith("%")){var ae=k/T.height*100;k="".concat(ae,"%")}else if(N.endsWith("vw")){var q=k/this.window.innerWidth*100;k="".concat(q,"vw")}else if(N.endsWith("vh")){var Q=k/this.window.innerHeight*100;k="".concat(Q,"vh")}}var $={width:this.createSizeForCssProperty(O,"width"),height:this.createSizeForCssProperty(k,"height")};this.flexDir==="row"?$.flexBasis=$.width:this.flexDir==="column"&&($.flexBasis=$.height);var Y=this.state.width!==$.width,K=this.state.height!==$.height,ue=this.state.flexBasis!==$.flexBasis,B=Y||K||ue;B&&Y0.flushSync(function(){r.setState($)}),this.props.onResize&&B&&this.props.onResize(n,y,this.resizable,X)}},t.prototype.onMouseUp=function(n){var r,s,a=this.state,l=a.isResizing,c=a.direction;a.original,!(!l||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,c,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Ji(Ji({},this.state.backgroundStyle),{cursor:"auto"})}))},t.prototype.updateSize=function(n){var r,s;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(s=n.height)!==null&&s!==void 0?s:"auto"})},t.prototype.renderResizer=function(){var n=this,r=this.props,s=r.enable,a=r.handleStyles,l=r.handleClasses,c=r.handleWrapperStyle,f=r.handleWrapperClass,h=r.handleComponent;if(!s)return null;var m=Object.keys(s).map(function(g){return s[g]!==!1?p.jsx(j8,{direction:g,onResizeStart:n.onResizeStart,replaceStyles:a&&a[g],className:l&&l[g],children:h&&h[g]?h[g]:null},g):null});return p.jsx("div",{className:f,style:c,children:m})},t.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(l,c){return R8.indexOf(c)!==-1||(l[c]=n.props[c]),l},{}),s=Ji(Ji(Ji({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var a=this.props.as||"div";return p.jsxs(a,Ji({style:s,className:this.props.className},r,{ref:function(l){l&&(n.resizable=l)},children:[this.state.isResizing&&p.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t})(U.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var x0=function(e,t){return x0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},x0(e,t)};function I8(e,t){x0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var qn=function(){return qn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},qn.apply(this,arguments)};function L8(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}var F8={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},B8=function(e){return{bottom:e,bottomLeft:e,bottomRight:e,left:e,right:e,top:e,topLeft:e,topRight:e}},V8=(function(e){I8(t,e);function t(n){var r=e.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,s=n.top,a=this.getDraggablePosition(),l=a.x,c=a.y;this.draggable.setState({x:l-r,y:c-s}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,s=n.y;return{x:r,y:s}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},t.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},t.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var s=this.getDraggablePosition();if(this.originalPosition=s,!!this.props.bounds){var a=this.getParent(),l=this.props.scale,c;if(this.props.bounds==="parent")c=a;else if(this.props.bounds==="body"){var f=a.getBoundingClientRect(),h=f.left,m=f.top,g=document.body.getBoundingClientRect(),y=-(h-a.offsetLeft*l-g.left)/l,b=-(m-a.offsetTop*l-g.top)/l,C=(document.body.offsetWidth-this.resizable.size.width*l)/l+y,N=(document.body.offsetHeight-this.resizable.size.height*l)/l+b;return this.setState({bounds:{top:b,right:C,bottom:N,left:y}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var T=a.getBoundingClientRect(),_=T.left,A=T.top,k=-(_-a.offsetLeft*l)/l,O=-(A-a.offsetTop*l)/l,C=(window.innerWidth-this.resizable.size.width*l)/l+k,N=(window.innerHeight-this.resizable.size.height*l)/l+O;return this.setState({bounds:{top:O,right:C,bottom:N,left:k}})}else typeof this.props.bounds=="string"?c=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(c=this.props.bounds);if(!(!(c instanceof HTMLElement)||!(a instanceof HTMLElement))){var R=c.getBoundingClientRect(),z=R.left,D=R.top,I=a.getBoundingClientRect(),H=I.left,te=I.top,ee=(z-H)/l,X=D-te;if(this.resizable){this.updateOffsetFromParent();var ae=this.offsetFromParent;this.setState({bounds:{top:X-ae.top,right:ee+(c.offsetWidth-this.resizable.size.width)-ae.left/l,bottom:X+(c.offsetHeight-this.resizable.size.height)-ae.top,left:ee-ae.left/l}})}}}},t.prototype.onDrag=function(n,r){if(this.props.onDrag){var s=this.offsetFromParent,a=s.left,l=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,qn(qn({},r),{x:r.x+a,y:r.y+l}));if(this.props.dragAxis==="x")return this.props.onDrag(n,qn(qn({},r),{x:r.x+a,y:this.originalPosition.y+l,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,qn(qn({},r),{x:this.originalPosition.x+a,y:r.y+l,deltaX:0}))}},t.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var s=this.offsetFromParent,a=s.left,l=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,qn(qn({},r),{x:r.x+a,y:r.y+l}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,qn(qn({},r),{x:r.x+a,y:this.originalPosition.y+l,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,qn(qn({},r),{x:this.originalPosition.x+a,y:r.y+l,deltaX:0}))}},t.prototype.onResizeStart=function(n,r,s){n.stopPropagation(),this.setState({resizing:!0});var a=this.props.scale,l=this.offsetFromParent,c=this.getDraggablePosition();if(this.resizingPosition={x:c.x+l.left,y:c.y+l.top},this.originalPosition=c,this.props.bounds){var f=this.getParent(),h=void 0;this.props.bounds==="parent"?h=f:this.props.bounds==="body"?h=document.body:this.props.bounds==="window"?h=window:typeof this.props.bounds=="string"?h=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(h=this.props.bounds);var m=this.getSelfElement();if(m instanceof Element&&(h instanceof HTMLElement||h===window)&&f instanceof HTMLElement){var g=this.getMaxSizesFromProps(),y=g.maxWidth,b=g.maxHeight,C=this.getParentSize();if(y&&typeof y=="string")if(y.endsWith("%")){var N=Number(y.replace("%",""))/100;y=C.width*N}else y.endsWith("px")&&(y=Number(y.replace("px","")));if(b&&typeof b=="string")if(b.endsWith("%")){var N=Number(b.replace("%",""))/100;b=C.height*N}else b.endsWith("px")&&(b=Number(b.replace("px","")));var T=m.getBoundingClientRect(),_=T.left,A=T.top,k=this.props.bounds==="window"?{left:0,top:0}:h.getBoundingClientRect(),O=k.left,R=k.top,z=this.getOffsetWidth(h),D=this.getOffsetHeight(h),I=r.toLowerCase().endsWith("left"),H=r.toLowerCase().endsWith("right"),te=r.startsWith("top"),ee=r.startsWith("bottom");if((I||te)&&this.resizable){var X=(_-O)/a+this.resizable.size.width;this.setState({maxWidth:X>Number(y)?y:X})}if(H||this.props.lockAspectRatio&&!I&&!te){var X=z+(O-_)/a;this.setState({maxWidth:X>Number(y)?y:X})}if((te||I)&&this.resizable){var X=(A-R)/a+this.resizable.size.height;this.setState({maxHeight:X>Number(b)?b:X})}if(ee||this.props.lockAspectRatio&&!te&&!I){var X=D+(R-A)/a;this.setState({maxHeight:X>Number(b)?b:X})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,s)},t.prototype.onResize=function(n,r,s,a){var l=this,c={x:this.originalPosition.x,y:this.originalPosition.y},f=-a.width,h=-a.height,m=["top","left","topLeft","bottomLeft","topRight"];m.includes(r)&&(r==="bottomLeft"?c.x+=f:(r==="topRight"||(c.x+=f),c.y+=h));var g=this.draggable.state;(c.x!==g.x||c.y!==g.y)&&Y0.flushSync(function(){l.draggable.setState(c)}),this.updateOffsetFromParent();var y=this.offsetFromParent,b=this.getDraggablePosition().x+y.left,C=this.getDraggablePosition().y+y.top;this.resizingPosition={x:b,y:C},this.props.onResize&&this.props.onResize(n,r,s,a,{x:b,y:C})},t.prototype.onResizeStop=function(n,r,s,a){this.setState({resizing:!1});var l=this.getMaxSizesFromProps(),c=l.maxWidth,f=l.maxHeight;this.setState({maxWidth:c,maxHeight:f}),this.props.onResizeStop&&this.props.onResizeStop(n,r,s,a,this.resizingPosition)},t.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},t.prototype.updatePosition=function(n){this.draggable.setState(n)},t.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),s=this.getSelfElement();if(!r||s===null)return{top:0,left:0};var a=r.getBoundingClientRect(),l=a.left,c=a.top,f=s.getBoundingClientRect(),h=this.getDraggablePosition(),m=r.scrollLeft,g=r.scrollTop;this.offsetFromParent={left:f.left-l+m-h.x*n,top:f.top-c+g-h.y*n}},t.prototype.render=function(){var n=this,r=this.props,s=r.disableDragging,a=r.style,l=r.dragHandleClassName,c=r.position,f=r.onMouseDown,h=r.onMouseUp,m=r.dragAxis,g=r.dragGrid,y=r.bounds,b=r.enableUserSelectHack,C=r.cancel,N=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var T=r.resizeHandleStyles,_=r.resizeHandleClasses,A=r.resizeHandleComponent,k=r.enableResizing,O=r.resizeGrid,R=r.resizeHandleWrapperClass,z=r.resizeHandleWrapperStyle,D=r.scale,I=r.allowAnyClick,H=r.dragPositionOffset,te=L8(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),ee=this.props.default?qn({},this.props.default):void 0;delete te.default;var X=s||l?{cursor:"auto"}:{cursor:"move"},ae=qn(qn(qn({},F8),X),a),q=this.offsetFromParent,Q=q.left,$=q.top,Y;c&&(Y={x:c.x-Q,y:c.y-$});var K=this.state.resizing?void 0:Y,ue=this.state.resizing?"both":m;return U.createElement(T8,{ref:function(B){B&&(n.draggable=B)},handle:l?".".concat(l):void 0,defaultPosition:ee,onMouseDown:f,onMouseUp:h,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:ue,disabled:s,grid:g,bounds:y?this.state.bounds:void 0,position:K,enableUserSelectHack:b,cancel:C,scale:D,allowAnyClick:I,nodeRef:this.resizableElement,positionOffset:H},U.createElement(P8,qn({},te,{ref:function(B){B&&(n.resizable=B,n.resizableElement.current=B.resizable)},defaultSize:ee,size:this.props.size,enable:typeof k=="boolean"?B8(k):k,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:ae,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:O,handleWrapperClass:R,handleWrapperStyle:z,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:T,handleClasses:_,handleComponent:A,scale:this.props.scale}),N))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t})(U.PureComponent);function $8(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const H8=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,U8=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,q8={};function B_(e,t){return(q8.jsx?U8:H8).test(e)}const Z8=/[ \t\n\f\r]/g;function Y8(e){return typeof e=="object"?e.type==="text"?V_(e.value):!1:V_(e)}function V_(e){return e.replace(Z8,"")===""}class Dd{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Dd.prototype.normal={};Dd.prototype.property={};Dd.prototype.space=void 0;function oj(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Dd(n,r,t)}function v0(e){return e.toLowerCase()}class Ir{constructor(t,n){this.attribute=n,this.property=t}}Ir.prototype.attribute="";Ir.prototype.booleanish=!1;Ir.prototype.boolean=!1;Ir.prototype.commaOrSpaceSeparated=!1;Ir.prototype.commaSeparated=!1;Ir.prototype.defined=!1;Ir.prototype.mustUseProperty=!1;Ir.prototype.number=!1;Ir.prototype.overloadedBoolean=!1;Ir.prototype.property="";Ir.prototype.spaceSeparated=!1;Ir.prototype.space=void 0;let G8=0;const xt=Ha(),Ln=Ha(),b0=Ha(),Le=Ha(),qt=Ha(),ru=Ha(),Kr=Ha();function Ha(){return 2**++G8}const w0=Object.freeze(Object.defineProperty({__proto__:null,boolean:xt,booleanish:Ln,commaOrSpaceSeparated:Kr,commaSeparated:ru,number:Le,overloadedBoolean:b0,spaceSeparated:qt},Symbol.toStringTag,{value:"Module"})),fy=Object.keys(w0);class Kx extends Ir{constructor(t,n,r,s){let a=-1;if(super(t,n),$_(this,"space",s),typeof r=="number")for(;++a<fy.length;){const l=fy[a];$_(this,fy[a],(r&w0[l])===w0[l])}}}Kx.prototype.defined=!0;function $_(e,t,n){n&&(e[t]=n)}function _u(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const a=new Kx(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[v0(r)]=r,n[v0(a.attribute)]=r}return new Dd(t,n,e.space)}const sj=_u({properties:{ariaActiveDescendant:null,ariaAtomic:Ln,ariaAutoComplete:null,ariaBusy:Ln,ariaChecked:Ln,ariaColCount:Le,ariaColIndex:Le,ariaColSpan:Le,ariaControls:qt,ariaCurrent:null,ariaDescribedBy:qt,ariaDetails:null,ariaDisabled:Ln,ariaDropEffect:qt,ariaErrorMessage:null,ariaExpanded:Ln,ariaFlowTo:qt,ariaGrabbed:Ln,ariaHasPopup:null,ariaHidden:Ln,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:qt,ariaLevel:Le,ariaLive:null,ariaModal:Ln,ariaMultiLine:Ln,ariaMultiSelectable:Ln,ariaOrientation:null,ariaOwns:qt,ariaPlaceholder:null,ariaPosInSet:Le,ariaPressed:Ln,ariaReadOnly:Ln,ariaRelevant:null,ariaRequired:Ln,ariaRoleDescription:qt,ariaRowCount:Le,ariaRowIndex:Le,ariaRowSpan:Le,ariaSelected:Ln,ariaSetSize:Le,ariaSort:null,ariaValueMax:Le,ariaValueMin:Le,ariaValueNow:Le,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function aj(e,t){return t in e?e[t]:t}function lj(e,t){return aj(e,t.toLowerCase())}const K8=_u({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ru,acceptCharset:qt,accessKey:qt,action:null,allow:null,allowFullScreen:xt,allowPaymentRequest:xt,allowUserMedia:xt,alt:null,as:null,async:xt,autoCapitalize:null,autoComplete:qt,autoFocus:xt,autoPlay:xt,blocking:qt,capture:null,charSet:null,checked:xt,cite:null,className:qt,cols:Le,colSpan:null,content:null,contentEditable:Ln,controls:xt,controlsList:qt,coords:Le|ru,crossOrigin:null,data:null,dateTime:null,decoding:null,default:xt,defer:xt,dir:null,dirName:null,disabled:xt,download:b0,draggable:Ln,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:xt,formTarget:null,headers:qt,height:Le,hidden:b0,high:Le,href:null,hrefLang:null,htmlFor:qt,httpEquiv:qt,id:null,imageSizes:null,imageSrcSet:null,inert:xt,inputMode:null,integrity:null,is:null,isMap:xt,itemId:null,itemProp:qt,itemRef:qt,itemScope:xt,itemType:qt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:xt,low:Le,manifest:null,max:null,maxLength:Le,media:null,method:null,min:null,minLength:Le,multiple:xt,muted:xt,name:null,nonce:null,noModule:xt,noValidate:xt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:xt,optimum:Le,pattern:null,ping:qt,placeholder:null,playsInline:xt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:xt,referrerPolicy:null,rel:qt,required:xt,reversed:xt,rows:Le,rowSpan:Le,sandbox:qt,scope:null,scoped:xt,seamless:xt,selected:xt,shadowRootClonable:xt,shadowRootDelegatesFocus:xt,shadowRootMode:null,shape:null,size:Le,sizes:null,slot:null,span:Le,spellCheck:Ln,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Le,step:null,style:null,tabIndex:Le,target:null,title:null,translate:null,type:null,typeMustMatch:xt,useMap:null,value:Ln,width:Le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:qt,axis:null,background:null,bgColor:null,border:Le,borderColor:null,bottomMargin:Le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:xt,declare:xt,event:null,face:null,frame:null,frameBorder:null,hSpace:Le,leftMargin:Le,link:null,longDesc:null,lowSrc:null,marginHeight:Le,marginWidth:Le,noResize:xt,noHref:xt,noShade:xt,noWrap:xt,object:null,profile:null,prompt:null,rev:null,rightMargin:Le,rules:null,scheme:null,scrolling:Ln,standby:null,summary:null,text:null,topMargin:Le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:xt,disableRemotePlayback:xt,prefix:null,property:null,results:Le,security:null,unselectable:null},space:"html",transform:lj}),X8=_u({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Kr,accentHeight:Le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Le,amplitude:Le,arabicForm:null,ascent:Le,attributeName:null,attributeType:null,azimuth:Le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Le,by:null,calcMode:null,capHeight:Le,className:qt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Le,diffuseConstant:Le,direction:null,display:null,dur:null,divisor:Le,dominantBaseline:null,download:xt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Le,enableBackground:null,end:null,event:null,exponent:Le,externalResourcesRequired:null,fill:null,fillOpacity:Le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ru,g2:ru,glyphName:ru,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Le,horizOriginX:Le,horizOriginY:Le,id:null,ideographic:Le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Le,k:Le,k1:Le,k2:Le,k3:Le,k4:Le,kernelMatrix:Kr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Le,overlineThickness:Le,paintOrder:null,panose1:null,path:null,pathLength:Le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:qt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Le,pointsAtY:Le,pointsAtZ:Le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kr,rev:Kr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kr,requiredFeatures:Kr,requiredFonts:Kr,requiredFormats:Kr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Le,specularExponent:Le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Le,strikethroughThickness:Le,string:null,stroke:null,strokeDashArray:Kr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Le,strokeOpacity:Le,strokeWidth:null,style:null,surfaceScale:Le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kr,tabIndex:Le,tableValues:null,target:null,targetX:Le,targetY:Le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Le,underlineThickness:Le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Le,values:null,vAlphabetic:Le,vMathematical:Le,vectorEffect:null,vHanging:Le,vIdeographic:Le,version:null,vertAdvY:Le,vertOriginX:Le,vertOriginY:Le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:aj}),uj=_u({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),cj=_u({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:lj}),dj=_u({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),W8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},J8=/[A-Z]/g,H_=/-[a-z]/g,Q8=/^data[-\w.:]+$/i;function e7(e,t){const n=v0(t);let r=t,s=Ir;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Q8.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(H_,n7);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!H_.test(a)){let l=a.replace(J8,t7);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}s=Kx}return new s(r,t)}function t7(e){return"-"+e.toLowerCase()}function n7(e){return e.charAt(1).toUpperCase()}const r7=oj([sj,K8,uj,cj,dj],"html"),Xx=oj([sj,X8,uj,cj,dj],"svg");function i7(e){return e.join(" ").trim()}var Ll={},hy,U_;function o7(){if(U_)return hy;U_=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,h="/",m="*",g="",y="comment",b="declaration";hy=function(N,T){if(typeof N!="string")throw new TypeError("First argument must be a string");if(!N)return[];T=T||{};var _=1,A=1;function k(ae){var q=ae.match(t);q&&(_+=q.length);var Q=ae.lastIndexOf(f);A=~Q?ae.length-Q:A+ae.length}function O(){var ae={line:_,column:A};return function(q){return q.position=new R(ae),I(),q}}function R(ae){this.start=ae,this.end={line:_,column:A},this.source=T.source}R.prototype.content=N;function z(ae){var q=new Error(T.source+":"+_+":"+A+": "+ae);if(q.reason=ae,q.filename=T.source,q.line=_,q.column=A,q.source=N,!T.silent)throw q}function D(ae){var q=ae.exec(N);if(q){var Q=q[0];return k(Q),N=N.slice(Q.length),q}}function I(){D(n)}function H(ae){var q;for(ae=ae||[];q=te();)q!==!1&&ae.push(q);return ae}function te(){var ae=O();if(!(h!=N.charAt(0)||m!=N.charAt(1))){for(var q=2;g!=N.charAt(q)&&(m!=N.charAt(q)||h!=N.charAt(q+1));)++q;if(q+=2,g===N.charAt(q-1))return z("End of comment missing");var Q=N.slice(2,q-2);return A+=2,k(Q),N=N.slice(q),A+=2,ae({type:y,comment:Q})}}function ee(){var ae=O(),q=D(r);if(q){if(te(),!D(s))return z("property missing ':'");var Q=D(a),$=ae({type:b,property:C(q[0].replace(e,g)),value:Q?C(Q[0].replace(e,g)):g});return D(l),$}}function X(){var ae=[];H(ae);for(var q;q=ee();)q!==!1&&(ae.push(q),H(ae));return ae}return I(),X()};function C(N){return N?N.replace(c,g):g}return hy}var q_;function s7(){if(q_)return Ll;q_=1;var e=Ll&&Ll.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.default=n;const t=e(o7());function n(r,s){let a=null;if(!r||typeof r!="string")return a;const l=(0,t.default)(r),c=typeof s=="function";return l.forEach(f=>{if(f.type!=="declaration")return;const{property:h,value:m}=f;c?s(h,m,f):m&&(a=a||{},a[h]=m)}),a}return Ll}var zc={},Z_;function a7(){if(Z_)return zc;Z_=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(h){return!h||n.test(h)||e.test(h)},l=function(h,m){return m.toUpperCase()},c=function(h,m){return"".concat(m,"-")},f=function(h,m){return m===void 0&&(m={}),a(h)?h:(h=h.toLowerCase(),m.reactCompat?h=h.replace(s,c):h=h.replace(r,c),h.replace(t,l))};return zc.camelCase=f,zc}var Rc,Y_;function l7(){if(Y_)return Rc;Y_=1;var e=Rc&&Rc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(s7()),n=a7();function r(s,a){var l={};return!s||typeof s!="string"||(0,t.default)(s,function(c,f){c&&f&&(l[(0,n.camelCase)(c,a)]=f)}),l}return r.default=r,Rc=r,Rc}var u7=l7();const c7=yu(u7),fj=hj("end"),Wx=hj("start");function hj(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function d7(e){const t=Wx(e),n=fj(e);if(t&&n)return{start:t,end:n}}function Wc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?G_(e.position):"start"in e||"end"in e?G_(e):"line"in e||"column"in e?S0(e):""}function S0(e){return K_(e&&e.line)+":"+K_(e&&e.column)}function G_(e){return S0(e&&e.start)+"-"+S0(e&&e.end)}function K_(e){return e&&typeof e=="number"?e:1}class cr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?s=t:!a.cause&&t&&(l=!0,s=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?a.ruleId=r:(a.source=r.slice(0,f),a.ruleId=r.slice(f+1))}if(!a.place&&a.ancestors&&a.ancestors){const f=a.ancestors[a.ancestors.length-1];f&&(a.place=f.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=c?c.line:void 0,this.name=Wc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}cr.prototype.file="";cr.prototype.name="";cr.prototype.reason="";cr.prototype.message="";cr.prototype.stack="";cr.prototype.column=void 0;cr.prototype.line=void 0;cr.prototype.ancestors=void 0;cr.prototype.cause=void 0;cr.prototype.fatal=void 0;cr.prototype.place=void 0;cr.prototype.ruleId=void 0;cr.prototype.source=void 0;const Jx={}.hasOwnProperty,f7=new Map,h7=/[A-Z]/g,p7=new Set(["table","tbody","thead","tfoot","tr"]),m7=new Set(["td","th"]),pj="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function g7(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=_7(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=N7(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Xx:r7,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=mj(s,e,void 0);return a&&typeof a!="string"?a:s.create(e,s.Fragment,{children:a||void 0},void 0)}function mj(e,t,n){if(t.type==="element")return y7(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return x7(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return b7(e,t,n);if(t.type==="mdxjsEsm")return v7(e,t);if(t.type==="root")return w7(e,t,n);if(t.type==="text")return S7(e,t)}function y7(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Xx,e.schema=s),e.ancestors.push(t);const a=yj(e,t.tagName,!1),l=E7(e,t);let c=ev(e,t);return p7.has(t.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!Y8(f):!0})),gj(e,l,a,t),Qx(l,c),e.ancestors.pop(),e.schema=r,e.create(t,a,l,n)}function x7(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}vd(e,t.position)}function v7(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);vd(e,t.position)}function b7(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=Xx,e.schema=s),e.ancestors.push(t);const a=t.name===null?e.Fragment:yj(e,t.name,!0),l=C7(e,t),c=ev(e,t);return gj(e,l,a,t),Qx(l,c),e.ancestors.pop(),e.schema=r,e.create(t,a,l,n)}function w7(e,t,n){const r={};return Qx(r,ev(e,t)),e.create(t,e.Fragment,r,n)}function S7(e,t){return t.value}function gj(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Qx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function N7(e,t,n){return r;function r(s,a,l,c){const h=Array.isArray(l.children)?n:t;return c?h(a,l,c):h(a,l)}}function _7(e,t){return n;function n(r,s,a,l){const c=Array.isArray(a.children),f=Wx(r);return t(s,a,l,c,{columnNumber:f?f.column-1:void 0,fileName:e,lineNumber:f?f.line:void 0},void 0)}}function E7(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Jx.call(t.properties,s)){const a=T7(e,s,t.properties[s]);if(a){const[l,c]=a;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&m7.has(t.tagName)?r=c:n[l]=c}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function C7(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else vd(e,t.position);else{const s=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,a=e.evaluater.evaluateExpression(c.expression)}else vd(e,t.position);else a=r.value===null?!0:r.value;n[s]=a}return n}function ev(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:f7;for(;++r<t.children.length;){const a=t.children[r];let l;if(e.passKeys){const f=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(f){const h=s.get(f)||0;l=f+"-"+h,s.set(f,h+1)}}const c=mj(e,a,l);c!==void 0&&n.push(c)}return n}function T7(e,t,n){const r=e7(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?$8(n):i7(n)),r.property==="style"){let s=typeof n=="object"?n:k7(e,String(n));return e.stylePropertyNameCase==="css"&&(s=j7(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?W8[r.property]||r.property:r.attribute,n]}}function k7(e,t){try{return c7(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new cr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=pj+"#cannot-parse-style-attribute",s}}function yj(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let a=-1,l;for(;++a<s.length;){const c=B_(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=l}else r=B_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Jx.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);vd(e)}function vd(e,t){const n=new cr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=pj+"#cannot-handle-mdx-estrees-without-createevaluater",n}function j7(e){const t={};let n;for(n in e)Jx.call(e,n)&&(t[A7(n)]=e[n]);return t}function A7(e){let t=e.replace(h7,M7);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function M7(e){return"-"+e.toLowerCase()}const py={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},O7={};function D7(e,t){const n=O7,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return xj(e,r,s)}function xj(e,t,n){if(z7(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return X_(e.children,t,n)}return Array.isArray(e)?X_(e,t,n):""}function X_(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=xj(e[s],t,n);return r.join("")}function z7(e){return!!(e&&typeof e=="object")}const W_=document.createElement("i");function tv(e){const t="&"+e+";";W_.innerHTML=t;const n=W_.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ao(e,t,n,r){const s=e.length;let a=0,l;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(t,0),e.splice(...l),a+=1e4,t+=1e4}function wi(e,t){return e.length>0?(ao(e,e.length,0,t),e):t}const J_={}.hasOwnProperty;function R7(e){const t={};let n=-1;for(;++n<e.length;)P7(t,e[n]);return t}function P7(e,t){let n;for(n in t){const s=(J_.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let l;if(a)for(l in a){J_.call(s,l)||(s[l]=[]);const c=a[l];I7(s[l],Array.isArray(c)?c:c?[c]:[])}}}function I7(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ao(e,0,0,r)}function vj(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function iu(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const no=Xs(/[A-Za-z]/),Jr=Xs(/[\dA-Za-z]/),L7=Xs(/[#-'*+\--9=?A-Z^-~]/);function N0(e){return e!==null&&(e<32||e===127)}const _0=Xs(/\d/),F7=Xs(/[\dA-Fa-f]/),B7=Xs(/[!-/:-@[-`{-~]/);function dt(e){return e!==null&&e<-2}function zr(e){return e!==null&&(e<0||e===32)}function Dt(e){return e===-2||e===-1||e===32}const V7=Xs(new RegExp("\\p{P}|\\p{S}","u")),$7=Xs(/\s/);function Xs(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Eu(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const a=e.charCodeAt(n);let l="";if(a===37&&Jr(e.charCodeAt(n+1))&&Jr(e.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=e.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),s=1):l=""}else l=String.fromCharCode(a);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+s+1,l=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Zt(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(f){return Dt(f)?(e.enter(n),c(f)):t(f)}function c(f){return Dt(f)&&a++<s?(e.consume(f),c):(e.exit(n),t(f))}}const H7={tokenize:U7};function U7(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Zt(e,t,"linePrefix")}function s(c){return e.enter("paragraph"),a(c)}function a(c){const f=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return dt(c)?(e.consume(c),e.exit("chunkText"),a):(e.consume(c),l)}}const q7={tokenize:Z7},Q_={tokenize:Y7};function Z7(e){const t=this,n=[];let r=0,s,a,l;return c;function c(k){if(r<n.length){const O=n[r];return t.containerState=O[1],e.attempt(O[0].continuation,f,h)(k)}return h(k)}function f(k){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&A();const O=t.events.length;let R=O,z;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){z=t.events[R][1].end;break}_(r);let D=O;for(;D<t.events.length;)t.events[D][1].end={...z},D++;return ao(t.events,R+1,0,t.events.slice(O)),t.events.length=D,h(k)}return c(k)}function h(k){if(r===n.length){if(!s)return y(k);if(s.currentConstruct&&s.currentConstruct.concrete)return C(k);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Q_,m,g)(k)}function m(k){return s&&A(),_(r),y(k)}function g(k){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,C(k)}function y(k){return t.containerState={},e.attempt(Q_,b,C)(k)}function b(k){return r++,n.push([t.currentConstruct,t.containerState]),y(k)}function C(k){if(k===null){s&&A(),_(0),e.consume(k);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),N(k)}function N(k){if(k===null){T(e.exit("chunkFlow"),!0),_(0),e.consume(k);return}return dt(k)?(e.consume(k),T(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(k),N)}function T(k,O){const R=t.sliceStream(k);if(O&&R.push(null),k.previous=a,a&&(a.next=k),a=k,s.defineSkip(k.start),s.write(R),t.parser.lazy[k.start.line]){let z=s.events.length;for(;z--;)if(s.events[z][1].start.offset<l&&(!s.events[z][1].end||s.events[z][1].end.offset>l))return;const D=t.events.length;let I=D,H,te;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(H){te=t.events[I][1].end;break}H=!0}for(_(r),z=D;z<t.events.length;)t.events[z][1].end={...te},z++;ao(t.events,I+1,0,t.events.slice(D)),t.events.length=z}}function _(k){let O=n.length;for(;O-- >k;){const R=n[O];t.containerState=R[1],R[0].exit.call(t,e)}n.length=k}function A(){s.write([null]),a=void 0,s=void 0,t.containerState._closeFlow=void 0}}function Y7(e,t,n){return Zt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function eE(e){if(e===null||zr(e)||$7(e))return 1;if(V7(e))return 2}function nv(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const E0={name:"attention",resolveAll:G7,tokenize:K7};function G7(e,t){let n=-1,r,s,a,l,c,f,h,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;f=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const g={...e[r][1].end},y={...e[n][1].start};tE(g,-f),tE(y,f),l={type:f>1?"strongSequence":"emphasisSequence",start:g,end:{...e[r][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:y},a={type:f>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[r][1].end={...l.start},e[n][1].start={...c.end},h=[],e[r][1].end.offset-e[r][1].start.offset&&(h=wi(h,[["enter",e[r][1],t],["exit",e[r][1],t]])),h=wi(h,[["enter",s,t],["enter",l,t],["exit",l,t],["enter",a,t]]),h=wi(h,nv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),h=wi(h,[["exit",a,t],["enter",c,t],["exit",c,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,h=wi(h,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,ao(e,r-1,n-r+3,h),n=r+h.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function K7(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=eE(r);let a;return l;function l(f){return a=f,e.enter("attentionSequence"),c(f)}function c(f){if(f===a)return e.consume(f),c;const h=e.exit("attentionSequence"),m=eE(f),g=!m||m===2&&s||n.includes(f),y=!s||s===2&&m||n.includes(r);return h._open=!!(a===42?g:g&&(s||!y)),h._close=!!(a===42?y:y&&(m||!g)),t(f)}}function tE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const X7={name:"autolink",tokenize:W7};function W7(e,t,n){let r=0;return s;function s(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(b){return no(b)?(e.consume(b),l):b===64?n(b):h(b)}function l(b){return b===43||b===45||b===46||Jr(b)?(r=1,c(b)):h(b)}function c(b){return b===58?(e.consume(b),r=0,f):(b===43||b===45||b===46||Jr(b))&&r++<32?(e.consume(b),c):(r=0,h(b))}function f(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||N0(b)?n(b):(e.consume(b),f)}function h(b){return b===64?(e.consume(b),m):L7(b)?(e.consume(b),h):n(b)}function m(b){return Jr(b)?g(b):n(b)}function g(b){return b===46?(e.consume(b),r=0,m):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):y(b)}function y(b){if((b===45||Jr(b))&&r++<63){const C=b===45?y:g;return e.consume(b),C}return n(b)}}const Cp={partial:!0,tokenize:J7};function J7(e,t,n){return r;function r(a){return Dt(a)?Zt(e,s,"linePrefix")(a):s(a)}function s(a){return a===null||dt(a)?t(a):n(a)}}const bj={continuation:{tokenize:eq},exit:tq,name:"blockQuote",tokenize:Q7};function Q7(e,t,n){const r=this;return s;function s(l){if(l===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),a}return n(l)}function a(l){return Dt(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function eq(e,t,n){const r=this;return s;function s(l){return Dt(l)?Zt(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return e.attempt(bj,t,n)(l)}}function tq(e){e.exit("blockQuote")}const wj={name:"characterEscape",tokenize:nq};function nq(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),s}function s(a){return B7(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const Sj={name:"characterReference",tokenize:rq};function rq(e,t,n){const r=this;let s=0,a,l;return c;function c(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),f}function f(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),a=31,l=Jr,m(g))}function h(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,l=F7,m):(e.enter("characterReferenceValue"),a=7,l=_0,m(g))}function m(g){if(g===59&&s){const y=e.exit("characterReferenceValue");return l===Jr&&!tv(r.sliceSerialize(y))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(g)&&s++<a?(e.consume(g),m):n(g)}}const nE={partial:!0,tokenize:oq},rE={concrete:!0,name:"codeFenced",tokenize:iq};function iq(e,t,n){const r=this,s={partial:!0,tokenize:R};let a=0,l=0,c;return f;function f(z){return h(z)}function h(z){const D=r.events[r.events.length-1];return a=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,c=z,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(z)}function m(z){return z===c?(l++,e.consume(z),m):l<3?n(z):(e.exit("codeFencedFenceSequence"),Dt(z)?Zt(e,g,"whitespace")(z):g(z))}function g(z){return z===null||dt(z)?(e.exit("codeFencedFence"),r.interrupt?t(z):e.check(nE,N,O)(z)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),y(z))}function y(z){return z===null||dt(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(z)):Dt(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Zt(e,b,"whitespace")(z)):z===96&&z===c?n(z):(e.consume(z),y)}function b(z){return z===null||dt(z)?g(z):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(z))}function C(z){return z===null||dt(z)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(z)):z===96&&z===c?n(z):(e.consume(z),C)}function N(z){return e.attempt(s,O,T)(z)}function T(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),_}function _(z){return a>0&&Dt(z)?Zt(e,A,"linePrefix",a+1)(z):A(z)}function A(z){return z===null||dt(z)?e.check(nE,N,O)(z):(e.enter("codeFlowValue"),k(z))}function k(z){return z===null||dt(z)?(e.exit("codeFlowValue"),A(z)):(e.consume(z),k)}function O(z){return e.exit("codeFenced"),t(z)}function R(z,D,I){let H=0;return te;function te(Q){return z.enter("lineEnding"),z.consume(Q),z.exit("lineEnding"),ee}function ee(Q){return z.enter("codeFencedFence"),Dt(Q)?Zt(z,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):X(Q)}function X(Q){return Q===c?(z.enter("codeFencedFenceSequence"),ae(Q)):I(Q)}function ae(Q){return Q===c?(H++,z.consume(Q),ae):H>=l?(z.exit("codeFencedFenceSequence"),Dt(Q)?Zt(z,q,"whitespace")(Q):q(Q)):I(Q)}function q(Q){return Q===null||dt(Q)?(z.exit("codeFencedFence"),D(Q)):I(Q)}}}function oq(e,t,n){const r=this;return s;function s(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const my={name:"codeIndented",tokenize:aq},sq={partial:!0,tokenize:lq};function aq(e,t,n){const r=this;return s;function s(h){return e.enter("codeIndented"),Zt(e,a,"linePrefix",5)(h)}function a(h){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(h):n(h)}function l(h){return h===null?f(h):dt(h)?e.attempt(sq,l,f)(h):(e.enter("codeFlowValue"),c(h))}function c(h){return h===null||dt(h)?(e.exit("codeFlowValue"),l(h)):(e.consume(h),c)}function f(h){return e.exit("codeIndented"),t(h)}}function lq(e,t,n){const r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):dt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):Zt(e,a,"linePrefix",5)(l)}function a(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):dt(l)?s(l):n(l)}}const uq={name:"codeText",previous:dq,resolve:cq,tokenize:fq};function cq(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function dq(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function fq(e,t,n){let r=0,s,a;return l;function l(g){return e.enter("codeText"),e.enter("codeTextSequence"),c(g)}function c(g){return g===96?(e.consume(g),r++,c):(e.exit("codeTextSequence"),f(g))}function f(g){return g===null?n(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),f):g===96?(a=e.enter("codeTextSequence"),s=0,m(g)):dt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),f):(e.enter("codeTextData"),h(g))}function h(g){return g===null||g===32||g===96||dt(g)?(e.exit("codeTextData"),f(g)):(e.consume(g),h)}function m(g){return g===96?(e.consume(g),s++,m):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(a.type="codeTextData",h(g))}}class hq{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Pc(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Pc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Pc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Pc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Pc(this.left,n.reverse())}}}function Pc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Nj(e){const t={};let n=-1,r,s,a,l,c,f,h;const m=new hq(e);for(;++n<m.length;){for(;n in t;)n=t[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,a=0,a<f.length&&f[a][1].type==="lineEndingBlank"&&(a+=2),a<f.length&&f[a][1].type==="content"))for(;++a<f.length&&f[a][1].type!=="content";)f[a][1].type==="chunkText"&&(f[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,pq(m,n)),n=t[n],h=!0);else if(r[1]._container){for(a=n,s=void 0;a--;)if(l=m.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(m.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(r[1].end={...m.get(s)[1].start},c=m.slice(s,n),c.unshift(r),m.splice(s,n-s+1,c))}}return ao(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!h}function pq(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const a=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,f=[],h={};let m,g,y=-1,b=n,C=0,N=0;const T=[N];for(;b;){for(;e.get(++s)[1]!==b;);a.push(s),b._tokenizer||(m=r.sliceStream(b),b.next||m.push(null),g&&l.defineSkip(b.start),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=b,b=b.next}for(b=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(N=y+1,T.push(N),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(l.events=[],b?(b._tokenizer=void 0,b.previous=void 0):T.pop(),y=T.length;y--;){const _=c.slice(T[y],T[y+1]),A=a.pop();f.push([A,A+_.length-1]),e.splice(A,2,_)}for(f.reverse(),y=-1;++y<f.length;)h[C+f[y][0]]=C+f[y][1],C+=f[y][1]-f[y][0]-1;return h}const mq={resolve:yq,tokenize:xq},gq={partial:!0,tokenize:vq};function yq(e){return Nj(e),e}function xq(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?a(c):dt(c)?e.check(gq,l,a)(c):(e.consume(c),s)}function a(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function vq(e,t,n){const r=this;return s;function s(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Zt(e,a,"linePrefix")}function a(l){if(l===null||dt(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function _j(e,t,n,r,s,a,l,c,f){const h=f||Number.POSITIVE_INFINITY;let m=0;return g;function g(_){return _===60?(e.enter(r),e.enter(s),e.enter(a),e.consume(_),e.exit(a),y):_===null||_===32||_===41||N0(_)?n(_):(e.enter(r),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),N(_))}function y(_){return _===62?(e.enter(a),e.consume(_),e.exit(a),e.exit(s),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),b(_))}function b(_){return _===62?(e.exit("chunkString"),e.exit(c),y(_)):_===null||_===60||dt(_)?n(_):(e.consume(_),_===92?C:b)}function C(_){return _===60||_===62||_===92?(e.consume(_),b):b(_)}function N(_){return!m&&(_===null||_===41||zr(_))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(r),t(_)):m<h&&_===40?(e.consume(_),m++,N):_===41?(e.consume(_),m--,N):_===null||_===32||_===40||N0(_)?n(_):(e.consume(_),_===92?T:N)}function T(_){return _===40||_===41||_===92?(e.consume(_),N):N(_)}}function Ej(e,t,n,r,s,a){const l=this;let c=0,f;return h;function h(b){return e.enter(r),e.enter(s),e.consume(b),e.exit(s),e.enter(a),m}function m(b){return c>999||b===null||b===91||b===93&&!f||b===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(b):b===93?(e.exit(a),e.enter(s),e.consume(b),e.exit(s),e.exit(r),t):dt(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===null||b===91||b===93||dt(b)||c++>999?(e.exit("chunkString"),m(b)):(e.consume(b),f||(f=!Dt(b)),b===92?y:g)}function y(b){return b===91||b===92||b===93?(e.consume(b),c++,g):g(b)}}function Cj(e,t,n,r,s,a){let l;return c;function c(y){return y===34||y===39||y===40?(e.enter(r),e.enter(s),e.consume(y),e.exit(s),l=y===40?41:y,f):n(y)}function f(y){return y===l?(e.enter(s),e.consume(y),e.exit(s),e.exit(r),t):(e.enter(a),h(y))}function h(y){return y===l?(e.exit(a),f(l)):y===null?n(y):dt(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),Zt(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===l||y===null||dt(y)?(e.exit("chunkString"),h(y)):(e.consume(y),y===92?g:m)}function g(y){return y===l||y===92?(e.consume(y),m):m(y)}}function Jc(e,t){let n;return r;function r(s){return dt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Dt(s)?Zt(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const bq={name:"definition",tokenize:Sq},wq={partial:!0,tokenize:Nq};function Sq(e,t,n){const r=this;let s;return a;function a(b){return e.enter("definition"),l(b)}function l(b){return Ej.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function c(b){return s=iu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),f):n(b)}function f(b){return zr(b)?Jc(e,h)(b):h(b)}function h(b){return _j(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function m(b){return e.attempt(wq,g,g)(b)}function g(b){return Dt(b)?Zt(e,y,"whitespace")(b):y(b)}function y(b){return b===null||dt(b)?(e.exit("definition"),r.parser.defined.push(s),t(b)):n(b)}}function Nq(e,t,n){return r;function r(c){return zr(c)?Jc(e,s)(c):n(c)}function s(c){return Cj(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return Dt(c)?Zt(e,l,"whitespace")(c):l(c)}function l(c){return c===null||dt(c)?t(c):n(c)}}const _q={name:"hardBreakEscape",tokenize:Eq};function Eq(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),s}function s(a){return dt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Cq={name:"headingAtx",resolve:Tq,tokenize:kq};function Tq(e,t){let n=e.length-2,r=3,s,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ao(e,r,n-r+1,[["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t]])),e}function kq(e,t,n){let r=0;return s;function s(m){return e.enter("atxHeading"),a(m)}function a(m){return e.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&r++<6?(e.consume(m),l):m===null||zr(m)?(e.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(e.enter("atxHeadingSequence"),f(m)):m===null||dt(m)?(e.exit("atxHeading"),t(m)):Dt(m)?Zt(e,c,"whitespace")(m):(e.enter("atxHeadingText"),h(m))}function f(m){return m===35?(e.consume(m),f):(e.exit("atxHeadingSequence"),c(m))}function h(m){return m===null||m===35||zr(m)?(e.exit("atxHeadingText"),c(m)):(e.consume(m),h)}}const jq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],iE=["pre","script","style","textarea"],Aq={concrete:!0,name:"htmlFlow",resolveTo:Dq,tokenize:zq},Mq={partial:!0,tokenize:Pq},Oq={partial:!0,tokenize:Rq};function Dq(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function zq(e,t,n){const r=this;let s,a,l,c,f;return h;function h(F){return m(F)}function m(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),g}function g(F){return F===33?(e.consume(F),y):F===47?(e.consume(F),a=!0,N):F===63?(e.consume(F),s=3,r.interrupt?t:B):no(F)?(e.consume(F),l=String.fromCharCode(F),T):n(F)}function y(F){return F===45?(e.consume(F),s=2,b):F===91?(e.consume(F),s=5,c=0,C):no(F)?(e.consume(F),s=4,r.interrupt?t:B):n(F)}function b(F){return F===45?(e.consume(F),r.interrupt?t:B):n(F)}function C(F){const ge="CDATA[";return F===ge.charCodeAt(c++)?(e.consume(F),c===ge.length?r.interrupt?t:X:C):n(F)}function N(F){return no(F)?(e.consume(F),l=String.fromCharCode(F),T):n(F)}function T(F){if(F===null||F===47||F===62||zr(F)){const ge=F===47,Oe=l.toLowerCase();return!ge&&!a&&iE.includes(Oe)?(s=1,r.interrupt?t(F):X(F)):jq.includes(l.toLowerCase())?(s=6,ge?(e.consume(F),_):r.interrupt?t(F):X(F)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):a?A(F):k(F))}return F===45||Jr(F)?(e.consume(F),l+=String.fromCharCode(F),T):n(F)}function _(F){return F===62?(e.consume(F),r.interrupt?t:X):n(F)}function A(F){return Dt(F)?(e.consume(F),A):te(F)}function k(F){return F===47?(e.consume(F),te):F===58||F===95||no(F)?(e.consume(F),O):Dt(F)?(e.consume(F),k):te(F)}function O(F){return F===45||F===46||F===58||F===95||Jr(F)?(e.consume(F),O):R(F)}function R(F){return F===61?(e.consume(F),z):Dt(F)?(e.consume(F),R):k(F)}function z(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),f=F,D):Dt(F)?(e.consume(F),z):I(F)}function D(F){return F===f?(e.consume(F),f=null,H):F===null||dt(F)?n(F):(e.consume(F),D)}function I(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||zr(F)?R(F):(e.consume(F),I)}function H(F){return F===47||F===62||Dt(F)?k(F):n(F)}function te(F){return F===62?(e.consume(F),ee):n(F)}function ee(F){return F===null||dt(F)?X(F):Dt(F)?(e.consume(F),ee):n(F)}function X(F){return F===45&&s===2?(e.consume(F),$):F===60&&s===1?(e.consume(F),Y):F===62&&s===4?(e.consume(F),Z):F===63&&s===3?(e.consume(F),B):F===93&&s===5?(e.consume(F),ue):dt(F)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(Mq,J,ae)(F)):F===null||dt(F)?(e.exit("htmlFlowData"),ae(F)):(e.consume(F),X)}function ae(F){return e.check(Oq,q,J)(F)}function q(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),Q}function Q(F){return F===null||dt(F)?ae(F):(e.enter("htmlFlowData"),X(F))}function $(F){return F===45?(e.consume(F),B):X(F)}function Y(F){return F===47?(e.consume(F),l="",K):X(F)}function K(F){if(F===62){const ge=l.toLowerCase();return iE.includes(ge)?(e.consume(F),Z):X(F)}return no(F)&&l.length<8?(e.consume(F),l+=String.fromCharCode(F),K):X(F)}function ue(F){return F===93?(e.consume(F),B):X(F)}function B(F){return F===62?(e.consume(F),Z):F===45&&s===2?(e.consume(F),B):X(F)}function Z(F){return F===null||dt(F)?(e.exit("htmlFlowData"),J(F)):(e.consume(F),Z)}function J(F){return e.exit("htmlFlow"),t(F)}}function Rq(e,t,n){const r=this;return s;function s(l){return dt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function Pq(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Cp,t,n)}}const Iq={name:"htmlText",tokenize:Lq};function Lq(e,t,n){const r=this;let s,a,l;return c;function c(B){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(B),f}function f(B){return B===33?(e.consume(B),h):B===47?(e.consume(B),R):B===63?(e.consume(B),k):no(B)?(e.consume(B),I):n(B)}function h(B){return B===45?(e.consume(B),m):B===91?(e.consume(B),a=0,C):no(B)?(e.consume(B),A):n(B)}function m(B){return B===45?(e.consume(B),b):n(B)}function g(B){return B===null?n(B):B===45?(e.consume(B),y):dt(B)?(l=g,Y(B)):(e.consume(B),g)}function y(B){return B===45?(e.consume(B),b):g(B)}function b(B){return B===62?$(B):B===45?y(B):g(B)}function C(B){const Z="CDATA[";return B===Z.charCodeAt(a++)?(e.consume(B),a===Z.length?N:C):n(B)}function N(B){return B===null?n(B):B===93?(e.consume(B),T):dt(B)?(l=N,Y(B)):(e.consume(B),N)}function T(B){return B===93?(e.consume(B),_):N(B)}function _(B){return B===62?$(B):B===93?(e.consume(B),_):N(B)}function A(B){return B===null||B===62?$(B):dt(B)?(l=A,Y(B)):(e.consume(B),A)}function k(B){return B===null?n(B):B===63?(e.consume(B),O):dt(B)?(l=k,Y(B)):(e.consume(B),k)}function O(B){return B===62?$(B):k(B)}function R(B){return no(B)?(e.consume(B),z):n(B)}function z(B){return B===45||Jr(B)?(e.consume(B),z):D(B)}function D(B){return dt(B)?(l=D,Y(B)):Dt(B)?(e.consume(B),D):$(B)}function I(B){return B===45||Jr(B)?(e.consume(B),I):B===47||B===62||zr(B)?H(B):n(B)}function H(B){return B===47?(e.consume(B),$):B===58||B===95||no(B)?(e.consume(B),te):dt(B)?(l=H,Y(B)):Dt(B)?(e.consume(B),H):$(B)}function te(B){return B===45||B===46||B===58||B===95||Jr(B)?(e.consume(B),te):ee(B)}function ee(B){return B===61?(e.consume(B),X):dt(B)?(l=ee,Y(B)):Dt(B)?(e.consume(B),ee):H(B)}function X(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),s=B,ae):dt(B)?(l=X,Y(B)):Dt(B)?(e.consume(B),X):(e.consume(B),q)}function ae(B){return B===s?(e.consume(B),s=void 0,Q):B===null?n(B):dt(B)?(l=ae,Y(B)):(e.consume(B),ae)}function q(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||zr(B)?H(B):(e.consume(B),q)}function Q(B){return B===47||B===62||zr(B)?H(B):n(B)}function $(B){return B===62?(e.consume(B),e.exit("htmlTextData"),e.exit("htmlText"),t):n(B)}function Y(B){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),K}function K(B){return Dt(B)?Zt(e,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):ue(B)}function ue(B){return e.enter("htmlTextData"),l(B)}}const rv={name:"labelEnd",resolveAll:$q,resolveTo:Hq,tokenize:Uq},Fq={tokenize:qq},Bq={tokenize:Zq},Vq={tokenize:Yq};function $q(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&ao(e,0,e.length,n),e}function Hq(e,t){let n=e.length,r=0,s,a,l,c;for(;n--;)if(s=e[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);const f={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[a][1].start},end:{...e[l][1].end}},m={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",f,t],["enter",h,t]],c=wi(c,e.slice(a+1,a+r+3)),c=wi(c,[["enter",m,t]]),c=wi(c,nv(t.parser.constructs.insideSpan.null,e.slice(a+r+4,l-3),t)),c=wi(c,[["exit",m,t],e[l-2],e[l-1],["exit",h,t]]),c=wi(c,e.slice(l+1)),c=wi(c,[["exit",f,t]]),ao(e,a,e.length,c),e}function Uq(e,t,n){const r=this;let s=r.events.length,a,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return c;function c(y){return a?a._inactive?g(y):(l=r.parser.defined.includes(iu(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelEnd"),f):n(y)}function f(y){return y===40?e.attempt(Fq,m,l?m:g)(y):y===91?e.attempt(Bq,m,l?h:g)(y):l?m(y):g(y)}function h(y){return e.attempt(Vq,m,g)(y)}function m(y){return t(y)}function g(y){return a._balanced=!0,n(y)}}function qq(e,t,n){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),s}function s(g){return zr(g)?Jc(e,a)(g):a(g)}function a(g){return g===41?m(g):_j(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return zr(g)?Jc(e,f)(g):m(g)}function c(g){return n(g)}function f(g){return g===34||g===39||g===40?Cj(e,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function h(g){return zr(g)?Jc(e,m)(g):m(g)}function m(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function Zq(e,t,n){const r=this;return s;function s(c){return Ej.call(r,e,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(iu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function l(c){return n(c)}}function Yq(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),s}function s(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Gq={name:"labelStartImage",resolveAll:rv.resolveAll,tokenize:Kq};function Kq(e,t,n){const r=this;return s;function s(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),a}function a(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const Xq={name:"labelStartLink",resolveAll:rv.resolveAll,tokenize:Wq};function Wq(e,t,n){const r=this;return s;function s(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const gy={name:"lineEnding",tokenize:Jq};function Jq(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Zt(e,t,"linePrefix")}}const Dh={name:"thematicBreak",tokenize:Qq};function Qq(e,t,n){let r=0,s;return a;function a(h){return e.enter("thematicBreak"),l(h)}function l(h){return s=h,c(h)}function c(h){return h===s?(e.enter("thematicBreakSequence"),f(h)):r>=3&&(h===null||dt(h))?(e.exit("thematicBreak"),t(h)):n(h)}function f(h){return h===s?(e.consume(h),r++,f):(e.exit("thematicBreakSequence"),Dt(h)?Zt(e,c,"whitespace")(h):c(h))}}const jr={continuation:{tokenize:rZ},exit:oZ,name:"list",tokenize:nZ},eZ={partial:!0,tokenize:sZ},tZ={partial:!0,tokenize:iZ};function nZ(e,t,n){const r=this,s=r.events[r.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(b){const C=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:_0(b)){if(r.containerState.type||(r.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(Dh,n,h)(b):h(b);if(!r.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(b)}return n(b)}function f(b){return _0(b)&&++l<10?(e.consume(b),f):(!r.interrupt||l<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),h(b)):n(b)}function h(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,e.check(Cp,r.interrupt?n:m,e.attempt(eZ,y,g))}function m(b){return r.containerState.initialBlankLine=!0,a++,y(b)}function g(b){return Dt(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),y):n(b)}function y(b){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function rZ(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Cp,s,a);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Zt(e,t,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!Dt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(tZ,t,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Zt(e,e.attempt(jr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function iZ(e,t,n){const r=this;return Zt(e,s,"listItemIndent",r.containerState.size+1);function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(a):n(a)}}function oZ(e){e.exit(this.containerState.type)}function sZ(e,t,n){const r=this;return Zt(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const l=r.events[r.events.length-1];return!Dt(a)&&l&&l[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const oE={name:"setextUnderline",resolveTo:aZ,tokenize:lZ};function aZ(e,t){let n=e.length,r,s,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",a?(e.splice(s,0,["enter",l,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function lZ(e,t,n){const r=this;let s;return a;function a(h){let m=r.events.length,g;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){g=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),s=h,l(h)):n(h)}function l(h){return e.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===s?(e.consume(h),c):(e.exit("setextHeadingLineSequence"),Dt(h)?Zt(e,f,"lineSuffix")(h):f(h))}function f(h){return h===null||dt(h)?(e.exit("setextHeadingLine"),t(h)):n(h)}}const uZ={tokenize:cZ};function cZ(e){const t=this,n=e.attempt(Cp,r,e.attempt(this.parser.constructs.flowInitial,s,Zt(e,e.attempt(this.parser.constructs.flow,s,e.attempt(mq,s)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const dZ={resolveAll:kj()},fZ=Tj("string"),hZ=Tj("text");function Tj(e){return{resolveAll:kj(e==="text"?pZ:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],a=n.attempt(s,l,c);return l;function l(m){return h(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),f}function f(m){return h(m)?(n.exit("data"),a(m)):(n.consume(m),f)}function h(m){if(m===null)return!0;const g=s[m];let y=-1;if(g)for(;++y<g.length;){const b=g[y];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function kj(e){return t;function t(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return e?e(n,r):n}}function pZ(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let a=s.length,l=-1,c=0,f;for(;a--;){const h=s[a];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(h===-2)f=!0,c++;else if(h!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const h={type:n===e.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(e.splice(n,0,["enter",h,t],["exit",h,t]),n+=2)}n++}return e}const mZ={42:jr,43:jr,45:jr,48:jr,49:jr,50:jr,51:jr,52:jr,53:jr,54:jr,55:jr,56:jr,57:jr,62:bj},gZ={91:bq},yZ={[-2]:my,[-1]:my,32:my},xZ={35:Cq,42:Dh,45:[oE,Dh],60:Aq,61:oE,95:Dh,96:rE,126:rE},vZ={38:Sj,92:wj},bZ={[-5]:gy,[-4]:gy,[-3]:gy,33:Gq,38:Sj,42:E0,60:[X7,Iq],91:Xq,92:[_q,wj],93:rv,95:E0,96:uq},wZ={null:[E0,dZ]},SZ={null:[42,95]},NZ={null:[]},_Z=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SZ,contentInitial:gZ,disable:NZ,document:mZ,flow:xZ,flowInitial:yZ,insideSpan:wZ,string:vZ,text:bZ},Symbol.toStringTag,{value:"Module"}));function EZ(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let l=[],c=[];const f={attempt:D(R),check:D(z),consume:A,enter:k,exit:O,interrupt:D(z,{interrupt:!0})},h={code:null,containerState:{},defineSkip:N,events:[],now:C,parser:e,previous:null,sliceSerialize:y,sliceStream:b,write:g};let m=t.tokenize.call(h,f);return t.resolveAll&&a.push(t),h;function g(ee){return l=wi(l,ee),T(),l[l.length-1]!==null?[]:(I(t,0),h.events=nv(a,h.events,h),h.events)}function y(ee,X){return TZ(b(ee),X)}function b(ee){return CZ(l,ee)}function C(){const{_bufferIndex:ee,_index:X,line:ae,column:q,offset:Q}=r;return{_bufferIndex:ee,_index:X,line:ae,column:q,offset:Q}}function N(ee){s[ee.line]=ee.column,te()}function T(){let ee;for(;r._index<l.length;){const X=l[r._index];if(typeof X=="string")for(ee=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ee&&r._bufferIndex<X.length;)_(X.charCodeAt(r._bufferIndex));else _(X)}}function _(ee){m=m(ee)}function A(ee){dt(ee)?(r.line++,r.column=1,r.offset+=ee===-3?2:1,te()):ee!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=ee}function k(ee,X){const ae=X||{};return ae.type=ee,ae.start=C(),h.events.push(["enter",ae,h]),c.push(ae),ae}function O(ee){const X=c.pop();return X.end=C(),h.events.push(["exit",X,h]),X}function R(ee,X){I(ee,X.from)}function z(ee,X){X.restore()}function D(ee,X){return ae;function ae(q,Q,$){let Y,K,ue,B;return Array.isArray(q)?J(q):"tokenize"in q?J([q]):Z(q);function Z(Ee){return Te;function Te(je){const Se=je!==null&&Ee[je],We=je!==null&&Ee.null,et=[...Array.isArray(Se)?Se:Se?[Se]:[],...Array.isArray(We)?We:We?[We]:[]];return J(et)(je)}}function J(Ee){return Y=Ee,K=0,Ee.length===0?$:F(Ee[K])}function F(Ee){return Te;function Te(je){return B=H(),ue=Ee,Ee.partial||(h.currentConstruct=Ee),Ee.name&&h.parser.constructs.disable.null.includes(Ee.name)?Oe():Ee.tokenize.call(X?Object.assign(Object.create(h),X):h,f,ge,Oe)(je)}}function ge(Ee){return ee(ue,B),Q}function Oe(Ee){return B.restore(),++K<Y.length?F(Y[K]):$}}}function I(ee,X){ee.resolveAll&&!a.includes(ee)&&a.push(ee),ee.resolve&&ao(h.events,X,h.events.length-X,ee.resolve(h.events.slice(X),h)),ee.resolveTo&&(h.events=ee.resolveTo(h.events,h))}function H(){const ee=C(),X=h.previous,ae=h.currentConstruct,q=h.events.length,Q=Array.from(c);return{from:q,restore:$};function $(){r=ee,h.previous=X,h.currentConstruct=ae,h.events.length=q,c=Q,te()}}function te(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function CZ(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let l;if(n===s)l=[e[n].slice(r,a)];else{if(l=e.slice(n,s),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}a>0&&l.push(e[s].slice(0,a))}return l}function TZ(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const a=e[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&s)continue;l=" ";break}default:l=String.fromCharCode(a)}s=a===-2,r.push(l)}return r.join("")}function kZ(e){const r={constructs:R7([_Z,...(e||{}).extensions||[]]),content:s(H7),defined:[],document:s(q7),flow:s(uZ),lazy:{},string:s(fZ),text:s(hZ)};return r;function s(a){return l;function l(c){return EZ(r,a,c)}}}function jZ(e){for(;!Nj(e););return e}const sE=/[\0\t\n\r]/g;function AZ(){let e=1,t="",n=!0,r;return s;function s(a,l,c){const f=[];let h,m,g,y,b;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),g=0,t="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(sE.lastIndex=g,h=sE.exec(a),y=h&&h.index!==void 0?h.index:a.length,b=a.charCodeAt(y),!h){t=a.slice(g);break}if(b===10&&g===y&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),g<y&&(f.push(a.slice(g,y)),e+=y-g),b){case 0:{f.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,f.push(-2);e++<m;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:r=!0,e=1}g=y+1}return c&&(r&&f.push(-5),t&&f.push(t),f.push(null)),f}}const MZ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function OZ(e){return e.replace(MZ,DZ)}function DZ(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return vj(n.slice(a?2:1),a?16:10)}return tv(n)||e}const jj={}.hasOwnProperty;function zZ(e,t,n){return typeof t!="string"&&(n=t,t=void 0),RZ(n)(jZ(kZ(n).document().write(AZ()(e,t,!0))))}function RZ(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Fr),autolinkProtocol:H,autolinkEmail:H,atxHeading:a(vt),blockQuote:a(We),characterEscape:H,characterReference:H,codeFenced:a(et),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(et,l),codeText:a($e,l),codeTextData:H,data:H,codeFlowValue:H,definition:a(ot),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(at),hardBreakEscape:a(Ut),hardBreakTrailing:a(Ut),htmlFlow:a(ln,l),htmlFlowData:H,htmlText:a(ln,l),htmlTextData:H,image:a(Lr),label:l,link:a(Fr),listItem:a(Nn),listItemValue:y,listOrdered:a(dr,g),listUnordered:a(dr),paragraph:a(ti),reference:F,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(vt),strong:a(fr),thematicBreak:a(vr)},exit:{atxHeading:f(),atxHeadingSequence:R,autolink:f(),autolinkEmail:Se,autolinkProtocol:je,blockQuote:f(),characterEscapeValue:te,characterReferenceMarkerHexadecimal:Oe,characterReferenceMarkerNumeric:Oe,characterReferenceValue:Ee,characterReference:Te,codeFenced:f(T),codeFencedFence:N,codeFencedFenceInfo:b,codeFencedFenceMeta:C,codeFlowValue:te,codeIndented:f(_),codeText:f(Q),codeTextData:te,data:te,definition:f(),definitionDestinationString:O,definitionLabelString:A,definitionTitleString:k,emphasis:f(),hardBreakEscape:f(X),hardBreakTrailing:f(X),htmlFlow:f(ae),htmlFlowData:te,htmlText:f(q),htmlTextData:te,image:f(Y),label:ue,labelText:K,lineEnding:ee,link:f($),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ge,resourceDestinationString:B,resourceTitleString:Z,resource:J,setextHeading:f(I),setextHeadingLineSequence:D,setextHeadingText:z,strong:f(),thematicBreak:f()}};Aj(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(_e){let Re={type:"root",children:[]};const tt={stack:[Re],tokenStack:[],config:t,enter:c,exit:h,buffer:l,resume:m,data:n},ft=[];let wt=-1;for(;++wt<_e.length;)if(_e[wt][1].type==="listOrdered"||_e[wt][1].type==="listUnordered")if(_e[wt][0]==="enter")ft.push(wt);else{const jn=ft.pop();wt=s(_e,jn,wt)}for(wt=-1;++wt<_e.length;){const jn=t[_e[wt][0]];jj.call(jn,_e[wt][1].type)&&jn[_e[wt][1].type].call(Object.assign({sliceSerialize:_e[wt][2].sliceSerialize},tt),_e[wt][1])}if(tt.tokenStack.length>0){const jn=tt.tokenStack[tt.tokenStack.length-1];(jn[1]||aE).call(tt,void 0,jn[0])}for(Re.position={start:Fs(_e.length>0?_e[0][1].start:{line:1,column:1,offset:0}),end:Fs(_e.length>0?_e[_e.length-2][1].end:{line:1,column:1,offset:0})},wt=-1;++wt<t.transforms.length;)Re=t.transforms[wt](Re)||Re;return Re}function s(_e,Re,tt){let ft=Re-1,wt=-1,jn=!1,Vn,yn,Gt,Kt;for(;++ft<=tt;){const Be=_e[ft];switch(Be[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Be[0]==="enter"?wt++:wt--,Kt=void 0;break}case"lineEndingBlank":{Be[0]==="enter"&&(Vn&&!Kt&&!wt&&!Gt&&(Gt=ft),Kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kt=void 0}if(!wt&&Be[0]==="enter"&&Be[1].type==="listItemPrefix"||wt===-1&&Be[0]==="exit"&&(Be[1].type==="listUnordered"||Be[1].type==="listOrdered")){if(Vn){let ir=ft;for(yn=void 0;ir--;){const _n=_e[ir];if(_n[1].type==="lineEnding"||_n[1].type==="lineEndingBlank"){if(_n[0]==="exit")continue;yn&&(_e[yn][1].type="lineEndingBlank",jn=!0),_n[1].type="lineEnding",yn=ir}else if(!(_n[1].type==="linePrefix"||_n[1].type==="blockQuotePrefix"||_n[1].type==="blockQuotePrefixWhitespace"||_n[1].type==="blockQuoteMarker"||_n[1].type==="listItemIndent"))break}Gt&&(!yn||Gt<yn)&&(Vn._spread=!0),Vn.end=Object.assign({},yn?_e[yn][1].start:Be[1].end),_e.splice(yn||ft,0,["exit",Vn,Be[2]]),ft++,tt++}if(Be[1].type==="listItemPrefix"){const ir={type:"listItem",_spread:!1,start:Object.assign({},Be[1].start),end:void 0};Vn=ir,_e.splice(ft,0,["enter",ir,Be[2]]),ft++,tt++,Gt=void 0,Kt=!0}}}return _e[Re][1]._spread=jn,tt}function a(_e,Re){return tt;function tt(ft){c.call(this,_e(ft),ft),Re&&Re.call(this,ft)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(_e,Re,tt){this.stack[this.stack.length-1].children.push(_e),this.stack.push(_e),this.tokenStack.push([Re,tt||void 0]),_e.position={start:Fs(Re.start),end:void 0}}function f(_e){return Re;function Re(tt){_e&&_e.call(this,tt),h.call(this,tt)}}function h(_e,Re){const tt=this.stack.pop(),ft=this.tokenStack.pop();if(ft)ft[0].type!==_e.type&&(Re?Re.call(this,_e,ft[0]):(ft[1]||aE).call(this,_e,ft[0]));else throw new Error("Cannot close `"+_e.type+"` ("+Wc({start:_e.start,end:_e.end})+"): its not open");tt.position.end=Fs(_e.end)}function m(){return D7(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(_e){if(this.data.expectingFirstListItemValue){const Re=this.stack[this.stack.length-2];Re.start=Number.parseInt(this.sliceSerialize(_e),10),this.data.expectingFirstListItemValue=void 0}}function b(){const _e=this.resume(),Re=this.stack[this.stack.length-1];Re.lang=_e}function C(){const _e=this.resume(),Re=this.stack[this.stack.length-1];Re.meta=_e}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const _e=this.resume(),Re=this.stack[this.stack.length-1];Re.value=_e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const _e=this.resume(),Re=this.stack[this.stack.length-1];Re.value=_e.replace(/(\r?\n|\r)$/g,"")}function A(_e){const Re=this.resume(),tt=this.stack[this.stack.length-1];tt.label=Re,tt.identifier=iu(this.sliceSerialize(_e)).toLowerCase()}function k(){const _e=this.resume(),Re=this.stack[this.stack.length-1];Re.title=_e}function O(){const _e=this.resume(),Re=this.stack[this.stack.length-1];Re.url=_e}function R(_e){const Re=this.stack[this.stack.length-1];if(!Re.depth){const tt=this.sliceSerialize(_e).length;Re.depth=tt}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function D(_e){const Re=this.stack[this.stack.length-1];Re.depth=this.sliceSerialize(_e).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function H(_e){const tt=this.stack[this.stack.length-1].children;let ft=tt[tt.length-1];(!ft||ft.type!=="text")&&(ft=gn(),ft.position={start:Fs(_e.start),end:void 0},tt.push(ft)),this.stack.push(ft)}function te(_e){const Re=this.stack.pop();Re.value+=this.sliceSerialize(_e),Re.position.end=Fs(_e.end)}function ee(_e){const Re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const tt=Re.children[Re.children.length-1];tt.position.end=Fs(_e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Re.type)&&(H.call(this,_e),te.call(this,_e))}function X(){this.data.atHardBreak=!0}function ae(){const _e=this.resume(),Re=this.stack[this.stack.length-1];Re.value=_e}function q(){const _e=this.resume(),Re=this.stack[this.stack.length-1];Re.value=_e}function Q(){const _e=this.resume(),Re=this.stack[this.stack.length-1];Re.value=_e}function $(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=Re,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function Y(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=Re,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function K(_e){const Re=this.sliceSerialize(_e),tt=this.stack[this.stack.length-2];tt.label=OZ(Re),tt.identifier=iu(Re).toLowerCase()}function ue(){const _e=this.stack[this.stack.length-1],Re=this.resume(),tt=this.stack[this.stack.length-1];if(this.data.inReference=!0,tt.type==="link"){const ft=_e.children;tt.children=ft}else tt.alt=Re}function B(){const _e=this.resume(),Re=this.stack[this.stack.length-1];Re.url=_e}function Z(){const _e=this.resume(),Re=this.stack[this.stack.length-1];Re.title=_e}function J(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function ge(_e){const Re=this.resume(),tt=this.stack[this.stack.length-1];tt.label=Re,tt.identifier=iu(this.sliceSerialize(_e)).toLowerCase(),this.data.referenceType="full"}function Oe(_e){this.data.characterReferenceType=_e.type}function Ee(_e){const Re=this.sliceSerialize(_e),tt=this.data.characterReferenceType;let ft;tt?(ft=vj(Re,tt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ft=tv(Re);const wt=this.stack[this.stack.length-1];wt.value+=ft}function Te(_e){const Re=this.stack.pop();Re.position.end=Fs(_e.end)}function je(_e){te.call(this,_e);const Re=this.stack[this.stack.length-1];Re.url=this.sliceSerialize(_e)}function Se(_e){te.call(this,_e);const Re=this.stack[this.stack.length-1];Re.url="mailto:"+this.sliceSerialize(_e)}function We(){return{type:"blockquote",children:[]}}function et(){return{type:"code",lang:null,meta:null,value:""}}function $e(){return{type:"inlineCode",value:""}}function ot(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function at(){return{type:"emphasis",children:[]}}function vt(){return{type:"heading",depth:0,children:[]}}function Ut(){return{type:"break"}}function ln(){return{type:"html",value:""}}function Lr(){return{type:"image",title:null,url:"",alt:null}}function Fr(){return{type:"link",title:null,url:"",children:[]}}function dr(_e){return{type:"list",ordered:_e.type==="listOrdered",start:null,spread:_e._spread,children:[]}}function Nn(_e){return{type:"listItem",spread:_e._spread,checked:null,children:[]}}function ti(){return{type:"paragraph",children:[]}}function fr(){return{type:"strong",children:[]}}function gn(){return{type:"text",value:""}}function vr(){return{type:"thematicBreak"}}}function Fs(e){return{line:e.line,column:e.column,offset:e.offset}}function Aj(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Aj(e,r):PZ(e,r)}}function PZ(e,t){let n;for(n in t)if(jj.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function aE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Wc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Wc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Wc({start:t.start,end:t.end})+") is still open")}function IZ(e){const t=this;t.parser=n;function n(r){return zZ(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function LZ(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function FZ(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function BZ(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function VZ(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $Z(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HZ(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=Eu(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let l,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=a+1,c+=1,e.footnoteCounts.set(r,c);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,f);const h={type:"element",tagName:"sup",properties:{},children:[f]};return e.patch(t,h),e.applyData(t,h)}function UZ(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qZ(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Mj(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=r:s.push({type:"text",value:r}),s}function ZZ(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Mj(e,t);const s={src:Eu(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,a),e.applyData(t,a)}function YZ(e,t){const n={src:Eu(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function GZ(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function KZ(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Mj(e,t);const s={href:Eu(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function XZ(e,t){const n={href:Eu(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function WZ(e,t,n){const r=e.all(t),s=n?JZ(n):Oj(t),a={},l=[];if(typeof t.checked=="boolean"){const m=r[0];let g;m&&m.type==="element"&&m.tagName==="p"?g=m:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(s||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!s?l.push(...m.children):l.push(m)}const f=r[r.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:a,children:l};return e.patch(t,h),e.applyData(t,h)}function JZ(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Oj(n[r])}return t}function Oj(e){const t=e.spread;return t??e.children.length>1}function QZ(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const l=r[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function eY(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tY(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function nY(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rY(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=Wx(t.children[1]),f=fj(t.children[t.children.length-1]);c&&f&&(l.position={start:c,end:f}),s.push(l)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)}function iY(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:t.children.length;let f=-1;const h=[];for(;++f<c;){const g=t.children[f],y={},b=l?l[f]:void 0;b&&(y.align=b);let C={type:"element",tagName:a,properties:y,children:[]};g&&(C.children=e.all(g),e.patch(g,C),C=e.applyData(g,C)),h.push(C)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(h,!0)};return e.patch(t,m),e.applyData(t,m)}function oY(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const lE=9,uE=32;function sY(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const a=[];for(;r;)a.push(cE(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return a.push(cE(t.slice(s),s>0,!1)),a.join("")}function cE(e,t,n){let r=0,s=e.length;if(t){let a=e.codePointAt(r);for(;a===lE||a===uE;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(s-1);for(;a===lE||a===uE;)s--,a=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function aY(e,t){const n={type:"text",value:sY(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function lY(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const uY={blockquote:LZ,break:FZ,code:BZ,delete:VZ,emphasis:$Z,footnoteReference:HZ,heading:UZ,html:qZ,imageReference:ZZ,image:YZ,inlineCode:GZ,linkReference:KZ,link:XZ,listItem:WZ,list:QZ,paragraph:eY,root:tY,strong:nY,table:rY,tableCell:oY,tableRow:iY,text:aY,thematicBreak:lY,toml:xh,yaml:xh,definition:xh,footnoteDefinition:xh};function xh(){}const Dj=-1,Tp=0,Qc=1,rp=2,iv=3,ov=4,sv=5,av=6,zj=7,Rj=8,dE=typeof self=="object"?self:globalThis,cY=(e,t)=>{const n=(s,a)=>(e.set(a,s),s),r=s=>{if(e.has(s))return e.get(s);const[a,l]=t[s];switch(a){case Tp:case Dj:return n(l,s);case Qc:{const c=n([],s);for(const f of l)c.push(r(f));return c}case rp:{const c=n({},s);for(const[f,h]of l)c[r(f)]=r(h);return c}case iv:return n(new Date(l),s);case ov:{const{source:c,flags:f}=l;return n(new RegExp(c,f),s)}case sv:{const c=n(new Map,s);for(const[f,h]of l)c.set(r(f),r(h));return c}case av:{const c=n(new Set,s);for(const f of l)c.add(r(f));return c}case zj:{const{name:c,message:f}=l;return n(new dE[c](f),s)}case Rj:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new dE[a](l),s)};return r},fE=e=>cY(new Map,e)(0),Fl="",{toString:dY}={},{keys:fY}=Object,Ic=e=>{const t=typeof e;if(t!=="object"||!e)return[Tp,t];const n=dY.call(e).slice(8,-1);switch(n){case"Array":return[Qc,Fl];case"Object":return[rp,Fl];case"Date":return[iv,Fl];case"RegExp":return[ov,Fl];case"Map":return[sv,Fl];case"Set":return[av,Fl];case"DataView":return[Qc,n]}return n.includes("Array")?[Qc,n]:n.includes("Error")?[zj,n]:[rp,n]},vh=([e,t])=>e===Tp&&(t==="function"||t==="symbol"),hY=(e,t,n,r)=>{const s=(l,c)=>{const f=r.push(l)-1;return n.set(c,f),f},a=l=>{if(n.has(l))return n.get(l);let[c,f]=Ic(l);switch(c){case Tp:{let m=l;switch(f){case"bigint":c=Rj,m=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+f);m=null;break;case"undefined":return s([Dj],l)}return s([c,m],l)}case Qc:{if(f){let y=l;return f==="DataView"?y=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(y=new Uint8Array(l)),s([f,[...y]],l)}const m=[],g=s([c,m],l);for(const y of l)m.push(a(y));return g}case rp:{if(f)switch(f){case"BigInt":return s([f,l.toString()],l);case"Boolean":case"Number":case"String":return s([f,l.valueOf()],l)}if(t&&"toJSON"in l)return a(l.toJSON());const m=[],g=s([c,m],l);for(const y of fY(l))(e||!vh(Ic(l[y])))&&m.push([a(y),a(l[y])]);return g}case iv:return s([c,l.toISOString()],l);case ov:{const{source:m,flags:g}=l;return s([c,{source:m,flags:g}],l)}case sv:{const m=[],g=s([c,m],l);for(const[y,b]of l)(e||!(vh(Ic(y))||vh(Ic(b))))&&m.push([a(y),a(b)]);return g}case av:{const m=[],g=s([c,m],l);for(const y of l)(e||!vh(Ic(y)))&&m.push(a(y));return g}}const{message:h}=l;return s([c,{name:f,message:h}],l)};return a},hE=(e,{json:t,lossy:n}={})=>{const r=[];return hY(!(t||n),!!t,new Map,r)(e),r},ip=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?fE(hE(e,t)):structuredClone(e):(e,t)=>fE(hE(e,t));function pY(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function mY(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function gY(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||pY,r=e.options.footnoteBackLabel||mY,s=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<e.footnoteOrder.length;){const h=e.footnoteById.get(e.footnoteOrder[f]);if(!h)continue;const m=e.all(h),g=String(h.identifier).toUpperCase(),y=Eu(g.toLowerCase());let b=0;const C=[],N=e.footnoteCounts.get(g);for(;N!==void 0&&++b<=N;){C.length>0&&C.push({type:"text",value:" "});let A=typeof n=="string"?n:n(f,b);typeof A=="string"&&(A={type:"text",value:A}),C.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+y+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,b),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const T=m[m.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const A=T.children[T.children.length-1];A&&A.type==="text"?A.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...C)}else m.push(...C);const _={type:"element",tagName:"li",properties:{id:t+"fn-"+y},children:e.wrap(m,!0)};e.patch(h,_),c.push(_)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...ip(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const Pj=(function(e){if(e==null)return bY;if(typeof e=="function")return kp(e);if(typeof e=="object")return Array.isArray(e)?yY(e):xY(e);if(typeof e=="string")return vY(e);throw new Error("Expected function, string, or object as test")});function yY(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Pj(e[n]);return kp(r);function r(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function xY(e){const t=e;return kp(n);function n(r){const s=r;let a;for(a in e)if(s[a]!==t[a])return!1;return!0}}function vY(e){return kp(t);function t(n){return n&&n.type===e}}function kp(e){return t;function t(n,r,s){return!!(wY(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function bY(){return!0}function wY(e){return e!==null&&typeof e=="object"&&"type"in e}const Ij=[],SY=!0,pE=!1,NY="skip";function _Y(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const a=Pj(s),l=r?-1:1;c(e,void 0,[])();function c(f,h,m){const g=f&&typeof f=="object"?f:{};if(typeof g.type=="string"){const b=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(f.type+(b?"<"+b+">":""))+")"})}return y;function y(){let b=Ij,C,N,T;if((!t||a(f,h,m[m.length-1]||void 0))&&(b=EY(n(f,m)),b[0]===pE))return b;if("children"in f&&f.children){const _=f;if(_.children&&b[0]!==NY)for(N=(r?_.children.length:-1)+l,T=m.concat(_);N>-1&&N<_.children.length;){const A=_.children[N];if(C=c(A,N,T)(),C[0]===pE)return C;N=typeof C[1]=="number"?C[1]:N+l}}return b}}}function EY(e){return Array.isArray(e)?e:typeof e=="number"?[SY,e]:e==null?Ij:[e]}function Lj(e,t,n,r){let s,a,l;typeof t=="function"&&typeof n!="function"?(a=void 0,l=t,s=n):(a=t,l=n,s=r),_Y(e,a,c,s);function c(f,h){const m=h[h.length-1],g=m?m.children.indexOf(f):void 0;return l(f,g,m)}}const C0={}.hasOwnProperty,CY={};function TY(e,t){const n=t||CY,r=new Map,s=new Map,a=new Map,l={...uY,...n.handlers},c={all:h,applyData:jY,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:l,one:f,options:n,patch:kY,wrap:MY};return Lj(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const g=m.type==="definition"?r:s,y=String(m.identifier).toUpperCase();g.has(y)||g.set(y,m)}}),c;function f(m,g){const y=m.type,b=c.handlers[y];if(C0.call(c.handlers,y)&&b)return b(c,m,g);if(c.options.passThrough&&c.options.passThrough.includes(y)){if("children"in m){const{children:N,...T}=m,_=ip(T);return _.children=c.all(m),_}return ip(m)}return(c.options.unknownHandler||AY)(c,m,g)}function h(m){const g=[];if("children"in m){const y=m.children;let b=-1;for(;++b<y.length;){const C=c.one(y[b],m);if(C){if(b&&y[b-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=mE(C.value)),!Array.isArray(C)&&C.type==="element")){const N=C.children[0];N&&N.type==="text"&&(N.value=mE(N.value))}Array.isArray(C)?g.push(...C):g.push(C)}}}return g}}function kY(e,t){e.position&&(t.position=d7(e))}function jY(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,ip(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function AY(e,t){const n=t.data||{},r="value"in t&&!(C0.call(n,"hProperties")||C0.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function MY(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function mE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function gE(e,t){const n=TY(e,t),r=n.one(e,void 0),s=gY(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function OY(e,t){return e&&"run"in e?async function(n,r){const s=gE(n,{file:r,...t});await e.run(s,r)}:function(n,r){return gE(n,{file:r,...e||t})}}function yE(e){if(e)throw e}var yy,xE;function DY(){if(xE)return yy;xE=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(h){return typeof Array.isArray=="function"?Array.isArray(h):t.call(h)==="[object Array]"},a=function(h){if(!h||t.call(h)!=="[object Object]")return!1;var m=e.call(h,"constructor"),g=h.constructor&&h.constructor.prototype&&e.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!g)return!1;var y;for(y in h);return typeof y>"u"||e.call(h,y)},l=function(h,m){n&&m.name==="__proto__"?n(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},c=function(h,m){if(m==="__proto__")if(e.call(h,m)){if(r)return r(h,m).value}else return;return h[m]};return yy=function f(){var h,m,g,y,b,C,N=arguments[0],T=1,_=arguments.length,A=!1;for(typeof N=="boolean"&&(A=N,N=arguments[1]||{},T=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});T<_;++T)if(h=arguments[T],h!=null)for(m in h)g=c(N,m),y=c(h,m),N!==y&&(A&&y&&(a(y)||(b=s(y)))?(b?(b=!1,C=g&&s(g)?g:[]):C=g&&a(g)?g:{},l(N,{name:m,newValue:f(A,C,y)})):typeof y<"u"&&l(N,{name:m,newValue:y}));return N},yy}var zY=DY();const xy=yu(zY);function T0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function RY(){const e=[],t={run:n,use:r};return t;function n(...s){let a=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(f,...h){const m=e[++a];let g=-1;if(f){l(f);return}for(;++g<s.length;)(h[g]===null||h[g]===void 0)&&(h[g]=s[g]);s=h,m?PY(m,c)(...h):l(null,...h)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function PY(e,t){let n;return r;function r(...l){const c=e.length>l.length;let f;c&&l.push(s);try{f=e.apply(this,l)}catch(h){const m=h;if(c&&n)throw m;return s(m)}c||(f&&f.then&&typeof f.then=="function"?f.then(a,s):f instanceof Error?s(f):a(f))}function s(l,...c){n||(n=!0,t(l,...c))}function a(l){s(null,l)}}const Qi={basename:IY,dirname:LY,extname:FY,join:BY,sep:"/"};function IY(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zd(e);let n=0,r=-1,s=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,c=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else l<0&&(a=!0,l=s+1),c>-1&&(e.codePointAt(s)===t.codePointAt(c--)?c<0&&(r=s):(c=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function LY(e){if(zd(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function FY(e){zd(e);let t=e.length,n=-1,r=0,s=-1,a=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),c===46?s<0?s=t:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function BY(...e){let t=-1,n;for(;++t<e.length;)zd(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":VY(n)}function VY(e){zd(e);const t=e.codePointAt(0)===47;let n=$Y(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function $Y(e,t){let n="",r=0,s=-1,a=0,l=-1,c,f;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),s=l,a=0;continue}}else if(n.length>0){n="",r=0,s=l,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,l):n=e.slice(s+1,l),r=l-s-1;s=l,a=0}else c===46&&a>-1?a++:a=-1}return n}function zd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const HY={cwd:UY};function UY(){return"/"}function k0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function qY(e){if(typeof e=="string")e=new URL(e);else if(!k0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return ZY(e)}function ZY(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const vy=["history","path","basename","stem","extname","dirname"];class Fj{constructor(t){let n;t?k0(t)?n={path:t}:typeof t=="string"||YY(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":HY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<vy.length;){const a=vy[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)vy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Qi.basename(this.path):void 0}set basename(t){wy(t,"basename"),by(t,"basename"),this.path=Qi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qi.dirname(this.path):void 0}set dirname(t){vE(this.basename,"dirname"),this.path=Qi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qi.extname(this.path):void 0}set extname(t){if(by(t,"extname"),vE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){k0(t)&&(t=qY(t)),wy(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qi.basename(this.path,this.extname):void 0}set stem(t){wy(t,"stem"),by(t,"stem"),this.path=Qi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new cr(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function by(e,t){if(e&&e.includes(Qi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qi.sep+"`")}function wy(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function vE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function YY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const GY=(function(e){const r=this.constructor.prototype,s=r[e],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),KY={}.hasOwnProperty;class lv extends GY{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=RY()}copy(){const t=new lv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(xy(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(_y("data",this.frozen),this.namespace[t]=n,this):KY.call(this.namespace,t)&&this.namespace[t]||void 0:t?(_y("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=bh(t),r=this.parser||this.Parser;return Sy("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Sy("process",this.parser||this.Parser),Ny("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,l){const c=bh(t),f=r.parse(c);r.run(f,c,function(m,g,y){if(m||!g||!y)return h(m);const b=g,C=r.stringify(b,y);JY(C)?y.value=C:y.result=C,h(m,y)});function h(m,g){m||!g?l(m):a?a(g):n(void 0,g)}}}processSync(t){let n=!1,r;return this.freeze(),Sy("processSync",this.parser||this.Parser),Ny("processSync",this.compiler||this.Compiler),this.process(t,s),wE("processSync","process",n),r;function s(a,l){n=!0,yE(a),r=l}}run(t,n,r){bE(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(l,c){const f=bh(n);s.run(t,f,h);function h(m,g,y){const b=g||t;m?c(m):l?l(b):r(void 0,b,y)}}}runSync(t,n){let r=!1,s;return this.run(t,n,a),wE("runSync","run",r),s;function a(l,c){yE(l),s=c,r=!0}}stringify(t,n){this.freeze();const r=bh(n),s=this.compiler||this.Compiler;return Ny("stringify",s),bE(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(_y("use",this.frozen),t!=null)if(typeof t=="function")f(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[m,...g]=h;f(m,g)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(s.settings=xy(!0,s.settings,h.settings))}function c(h){let m=-1;if(h!=null)if(Array.isArray(h))for(;++m<h.length;){const g=h[m];a(g)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,m){let g=-1,y=-1;for(;++g<r.length;)if(r[g][0]===h){y=g;break}if(y===-1)r.push([h,...m]);else if(m.length>0){let[b,...C]=m;const N=r[y][1];T0(N)&&T0(b)&&(b=xy(!0,N,b)),r[y]=[h,b,...C]}}}}const XY=new lv().freeze();function Sy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ny(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function _y(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function bE(e){if(!T0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function wE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function bh(e){return WY(e)?e:new Fj(e)}function WY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function JY(e){return typeof e=="string"||QY(e)}function QY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const eG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",SE=[],NE={allowDangerousHtml:!0},tG=/^(https?|ircs?|mailto|xmpp)$/i,nG=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function rG(e){const t=iG(e),n=oG(e);return sG(t.runSync(t.parse(n),n),e)}function iG(e){const t=e.rehypePlugins||SE,n=e.remarkPlugins||SE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...NE}:NE;return XY().use(IZ).use(n).use(OY,r).use(t)}function oG(e){const t=e.children||"",n=new Fj;return typeof t=="string"&&(n.value=t),n}function sG(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,a=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,f=t.urlTransform||aG;for(const m of nG)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+eG+m.id,void 0);return Lj(e,h),g7(e,{Fragment:p.Fragment,components:s,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function h(m,g,y){if(m.type==="raw"&&y&&typeof g=="number")return l?y.children.splice(g,1):y.children[g]={type:"text",value:m.value},g;if(m.type==="element"){let b;for(b in py)if(Object.hasOwn(py,b)&&Object.hasOwn(m.properties,b)){const C=m.properties[b],N=py[b];(N===null||N.includes(m.tagName))&&(m.properties[b]=f(String(C||""),b,m))}}if(m.type==="element"){let b=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!b&&r&&typeof g=="number"&&(b=!r(m,g,y)),b&&y&&typeof g=="number")return c&&m.children?y.children.splice(g,1,...m.children):y.children.splice(g,1),g}}}function aG(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||tG.test(e.slice(0,t))?e:""}async function lG(e,t=!1){try{const n=`/api/traces/${e}${t?"?refresh=true":""}`,r=await fetch(n);if(!r.ok){const a=(await r.json().catch(()=>({}))).message||r.statusText;throw new Error(`Failed to fetch trace: ${a}`)}return r.json()}catch(n){throw n instanceof Error?n:new Error("Unknown error fetching trace")}}function uv(e,t){const n=new Date(e).getTime(),r=new Date(t).getTime();return isNaN(n)||isNaN(r)?0:r-n}function Bj(e){return e===0||isNaN(e)?"0ms":e<1e3?`${Math.round(e)}ms`:e<6e4?`${(e/1e3).toFixed(2)}s`:`${(e/6e4).toFixed(2)}m`}function uG(e){let t=e.parent.total_cost??0;for(const n of e.children)n.total_cost&&(t+=n.total_cost);return t>0?t:null}function cG(e){let t=e.parent.total_tokens??0;for(const n of e.children)n.total_tokens&&(t+=n.total_tokens);return t}function dG(e){return e==="success"?"":""}function fG(e){return e==="success"?"text-green-600":"text-red-600"}function hG(e){return e==="success"?"bg-green-500":"bg-red-500"}function pG({trace:e}){const[t,n]=U.useState(new Set([e.parent.id])),[r,s]=U.useState(null),a=c=>{n(f=>{const h=new Set(f);return h.has(c)?h.delete(c):h.add(c),h})},l=uv(e.parent.start_time,e.parent.end_time);return p.jsxs("div",{className:"space-y-2",children:[p.jsx(_E,{span:e.parent,depth:0,isExpanded:t.has(e.parent.id),isSelected:r===e.parent.id,onToggleExpand:()=>a(e.parent.id),onSelect:()=>s(e.parent.id),totalDuration:l}),t.has(e.parent.id)&&e.children.map(c=>p.jsx(_E,{span:c,depth:1,isExpanded:t.has(c.id),isSelected:r===c.id,onToggleExpand:()=>a(c.id),onSelect:()=>s(c.id),totalDuration:l},c.id))]})}function _E({span:e,depth:t,isExpanded:n,isSelected:r,onToggleExpand:s,onSelect:a,totalDuration:l}){const c=uv(e.start_time,e.end_time),f=l>0?c/l*100:0,h=fG(e.status),m=hG(e.status),g=r?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50",y=e.child_run_ids&&e.child_run_ids.length>0,b=y?n?"":"":"",C=e.status==="success"?"":"";return p.jsxs("div",{className:`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${g}`,style:{paddingLeft:`${t*24+8}px`},onClick:a,children:[p.jsx("button",{onClick:N=>{N.stopPropagation(),y&&s()},className:"w-5 h-5 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors","aria-label":y?n?"Collapse":"Expand":"No children",children:b}),p.jsx("span",{className:`flex items-center justify-center ${h}`,children:C}),p.jsx("span",{className:`flex-1 font-medium ${h}`,children:e.name}),p.jsx("span",{className:"text-sm text-gray-600 min-w-[60px] text-right",children:Bj(c)}),p.jsxs("span",{className:"text-sm text-gray-500 min-w-[45px] text-right",children:[f.toFixed(0),"%"]}),p.jsx("div",{className:"w-[100px] h-2 bg-gray-200 rounded overflow-hidden",children:p.jsx("div",{className:`h-full ${m} transition-all duration-300`,style:{width:`${Math.min(f,100)}%`},"aria-label":`${f.toFixed(1)}% of total duration`})})]})}const Vj=U.createContext(null);function mG({children:e}){const[t,n]=U.useState(new Map),[r,s]=U.useState({hits:0,misses:0}),a=U.useCallback(async(f,h=!1)=>{if(h)console.log(`[TraceCache] Force refresh requested for ${f}`);else{const g=t.get(f);if(g)return console.log(`[TraceCache] Frontend cache HIT for ${f} (${Date.now()-g.cachedAt}ms old)`),s(y=>({...y,hits:y.hits+1})),g.data;console.log(`[TraceCache] Frontend cache MISS for ${f} - fetching from backend`),s(y=>({...y,misses:y.misses+1}))}const m=await lG(f,h);return n(g=>{const y=new Map(g);return y.set(f,{data:m,cachedAt:Date.now()}),y}),console.log(`[TraceCache] Cached trace ${f} in frontend cache`),m},[t]),l=U.useCallback(()=>{n(new Map),s({hits:0,misses:0}),console.log("[TraceCache] Cleared frontend cache")},[]),c=U.useCallback(()=>({hits:r.hits,misses:r.misses,size:t.size}),[t.size,r]);return p.jsx(Vj.Provider,{value:{getTrace:a,clearCache:l,getCacheStats:c},children:e})}function gG(){const e=U.useContext(Vj);if(!e)throw new Error("useTraceCache must be used within TraceCacheProvider");return e}function yG({traceId:e,onClose:t}){const[n,r]=U.useState(null),[s,a]=U.useState(!0),[l,c]=U.useState(null),{getTrace:f}=gG();if(U.useEffect(()=>{async function b(){try{a(!0),c(null);const C=await f(e);r(C)}catch(C){console.error("Failed to load trace:",C),c(C.message||"Unknown error loading trace")}finally{a(!1)}}b()},[e,f]),s)return p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg p-8 flex flex-col items-center gap-4",children:[p.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-blue-500 border-t-transparent rounded-full"}),p.jsx("p",{className:"text-gray-600 font-medium",children:"Loading trace..."})]})});if(l)return p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full",children:[p.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-3",children:"Error Loading Trace"}),p.jsx("p",{className:"text-gray-600 mb-6",children:l}),p.jsx("div",{className:"flex justify-end gap-3",children:p.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:"Close"})})]})});if(!n)return null;const h=uv(n.parent.start_time,n.parent.end_time),m=cG(n),g=uG(n),y=dG(n.parent.status);return p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:p.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col",onClick:b=>b.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Trace Viewer"}),p.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-md transition-colors text-gray-500 hover:text-gray-700","aria-label":"Close trace viewer",children:""})]}),p.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[p.jsxs("div",{className:"flex items-center gap-6 mb-3",children:[p.jsxs("span",{className:"flex items-center gap-2 text-lg font-semibold",children:[p.jsx("span",{className:"text-2xl",children:y}),n.parent.status==="success"?"Success":"Error"]}),p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-white/80",children:"Duration:"}),p.jsx("span",{className:"font-semibold",children:Bj(h)})]}),p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-white/80",children:"Tokens:"}),p.jsx("span",{className:"font-semibold",children:m.toLocaleString()})]}),g!==null&&p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-white/80",children:"Cost:"}),p.jsxs("span",{className:"font-semibold",children:["$",g.toFixed(4)]})]})]}),p.jsx("div",{className:"text-sm text-white/90",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("span",{children:[p.jsx("span",{className:"text-white/80",children:"Trace ID:"})," ",p.jsx("span",{className:"font-mono",children:n.parent.id})]}),p.jsxs("span",{children:[p.jsx("span",{className:"text-white/80",children:"Run Type:"})," ",p.jsx("span",{className:"font-medium",children:n.parent.run_type})]}),p.jsxs("span",{children:[p.jsx("span",{className:"text-white/80",children:"Total Runs:"})," ",p.jsx("span",{className:"font-medium",children:n.metadata.total_runs})]})]})}),n.parent.error&&p.jsx("div",{className:"mt-3 p-3 bg-red-500/20 border border-red-300/30 rounded-md",children:p.jsxs("p",{className:"text-sm font-medium text-red-100",children:["Error: ",n.parent.error]})})]}),p.jsx("div",{className:"flex-1 overflow-auto p-6",children:p.jsx(pG,{trace:n})})]})})}function xG(e){return{anthropic:"#4A90E2",openai:"#10A37F",gemini:"#4285F4",notes:"#FFD700",output:"#9B59B6",variable:"#E67E22",condition:"#1ABC9C",loop:"#E74C3C"}[e?.toLowerCase()||""]||"#95A5A6"}function vG(e){let t=0,n=0,r=0;if(e.startsWith("#")){const a=e.slice(1);t=parseInt(a.substr(0,2),16),n=parseInt(a.substr(2,2),16),r=parseInt(a.substr(4,2),16)}else if(e.startsWith("rgb")){const a=e.match(/\d+/g);a&&([t,n,r]=a.map(Number))}return(.299*t+.587*n+.114*r)/255>.5?"#000000":"#FFFFFF"}const bG=({showHistory:e,onExecute:t,onToggleHistory:n,executionHistory:r,currentExecution:s,onSetCurrentExecution:a})=>{const[l,c]=U.useState({}),[f,h]=U.useState(!1),[m,g]=U.useState("markdown"),[y,b]=U.useState(!1),[C,N]=U.useState(!1),[T,_]=U.useState(null),[A,k]=U.useState(()=>{const H=localStorage.getItem("executionPanelPosition");return H?JSON.parse(H):{x:typeof window<"u"?window.innerWidth-420:0,y:60}}),[O,R]=U.useState(()=>{const H=localStorage.getItem("executionPanelSize");return H?JSON.parse(H):{width:400,height:600}});U.useEffect(()=>{localStorage.setItem("executionPanelPosition",JSON.stringify(A))},[A]),U.useEffect(()=>{localStorage.setItem("executionPanelSize",JSON.stringify(O))},[O]);const z=()=>{const H={x:window.innerWidth-420,y:60},te={width:400,height:600};k(H),R(te)},D=Ht(H=>H.nodes),I=()=>{if(!s)return;let H=`# Execution Results

`;Array.from(s.entries()).forEach(([te,ee])=>{const X=D.find(Q=>Q.id===te),ae=X?.data?.label||te,q=X?.type?.toUpperCase()||"UNKNOWN";H+=`## ${ae} ${q}

`,ee.error?H+=`**Error:** ${ee.error}

`:H+=`${ee.output}

`,H+=`---
`,H+=`Executed: ${ee.executedAt}
`,ee.metadata?.tokensUsed&&(H+=`Tokens: ${ee.metadata.tokensUsed}
`),ee.metadata?.duration&&(H+=`Duration: ${ee.metadata.duration}ms
`),H+=`
`}),navigator.clipboard.writeText(H).then(()=>{b(!0),setTimeout(()=>b(!1),2e3)}).catch(te=>{console.error("Failed to copy to clipboard:",te)})};return p.jsxs(p.Fragment,{children:[f&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-[500px] max-h-[600px] overflow-y-auto",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Input Variables"}),p.jsxs("div",{className:"space-y-3 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input Data"}),p.jsx("textarea",{value:l.input||"",onChange:H=>c({...l,input:H.target.value}),placeholder:"Enter your input data here...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm h-32"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Variables (JSON)"}),p.jsx("textarea",{placeholder:'{"key": "value"}',onChange:H=>{try{const te=JSON.parse(H.target.value);c({...l,...te})}catch{}},className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm font-mono h-24"})]})]}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-md",children:"Cancel"}),p.jsx("button",{onClick:()=>{h(!1),t(l)},className:"px-4 py-2 text-sm bg-green-500 text-white rounded-md hover:bg-green-600",children:"Execute"})]})]})}),s&&p.jsx(V8,{position:A,size:O,onDragStop:(H,te)=>k({x:te.x,y:te.y}),onResizeStop:(H,te,ee,X,ae)=>{R({width:parseInt(ee.style.width),height:parseInt(ee.style.height)}),k(ae)},minWidth:300,minHeight:200,maxWidth:800,maxHeight:typeof window<"u"?window.innerHeight-100:800,bounds:"window",dragHandleClassName:"drag-handle",style:{zIndex:10},children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 h-full overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"drag-handle p-4 border-b border-gray-200 flex items-center justify-between cursor-move bg-gray-50",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-gray-400",children:""}),p.jsx("h3",{className:"font-semibold text-gray-800",children:"Execution Results"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{const H=r[0]?.traceId,te=Array.from(s.entries()).map(([X,ae])=>ae.traceId).filter(Boolean).pop(),ee=H||te;return ee?p.jsx("button",{onClick:()=>{_(ee),N(!0)},className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors duration-150",title:"View execution trace",children:" View Trace"}):null})(),p.jsx("button",{onClick:I,className:`text-xs px-2 py-1 rounded border ${y?"bg-green-100 border-green-300 text-green-700":"bg-white hover:bg-gray-100 border-gray-300"}`,title:"Copy all results to clipboard",children:y?" Copied!":" Copy All"}),p.jsx("button",{onClick:()=>g(H=>H==="raw"?"markdown":"raw"),className:"text-xs px-2 py-1 bg-white hover:bg-gray-100 rounded border border-gray-300",title:m==="raw"?"View as markdown":"View raw text",children:m==="raw"?" Markdown":" Raw"}),p.jsx("button",{onClick:z,className:"text-xs px-2 py-1 bg-white hover:bg-gray-100 rounded border border-gray-300",title:"Reset position",children:""}),p.jsx("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700",children:""})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:Array.from(s.entries()).map(([H,te])=>{const ee=D.find(Y=>Y.id===H),X=()=>{const Y=`## ${ee?.type?.toUpperCase()} Node (${H})

${te.output}

---
Executed: ${te.executedAt}
Tokens: ${te.metadata?.tokensUsed||"N/A"}
Duration: ${te.metadata?.duration}ms`;navigator.clipboard.writeText(Y)},ae=()=>{const Y=`## ${ee?.type?.toUpperCase()} Node (${H})

${te.output}

---
Executed: ${te.executedAt}
Tokens: ${te.metadata?.tokensUsed||"N/A"}
Duration: ${te.metadata?.duration}ms`,K=new Blob([Y],{type:"text/markdown"}),ue=URL.createObjectURL(K),B=document.createElement("a");B.href=ue,B.download=`${ee?.type}-${H}-${Date.now()}.md`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(ue)},q=ee?.data?.label||H,Q=ee?.type?.toUpperCase()||"UNKNOWN",$=ee?.style?.backgroundColor||xG(ee?.type);return p.jsxs("div",{className:`p-3 rounded-lg border ${te.error?"border-red-300 bg-red-50":"border-green-300 bg-green-50"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"font-medium text-sm px-2 py-1 rounded",style:{backgroundColor:$,color:vG($)},children:[q," ",Q]}),te.metadata?.multimodalAnalysis?.mediaAccessed&&p.jsxs("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full font-medium",title:`${te.metadata.multimodalAnalysis.mediaType} analyzed: ${te.metadata.multimodalAnalysis.mediaUrl}`,children:[te.metadata.multimodalAnalysis.mediaType==="video"&&"",te.metadata.multimodalAnalysis.mediaType==="image"&&"",te.metadata.multimodalAnalysis.mediaType==="pdf"&&"",te.metadata.multimodalAnalysis.mediaType==="audio"&&""," ","Multimodal"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[!te.error&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:X,className:"text-xs px-2 py-1 bg-white rounded hover:bg-gray-100 transition-colors",title:"Copy to clipboard",children:""}),p.jsx("button",{onClick:ae,className:"text-xs px-2 py-1 bg-white rounded hover:bg-gray-100 transition-colors",title:"Save to file",children:""})]}),p.jsxs("span",{className:"text-xs text-gray-500",children:[te.metadata?.duration,"ms"]})]})]}),te.error?p.jsxs("div",{className:"text-sm text-red-600",children:["Error: ",te.error]}):m==="markdown"?p.jsx("div",{className:"text-sm text-gray-700 max-h-40 overflow-y-auto prose prose-sm max-w-none",children:p.jsx(rG,{components:{h1:({node:Y,...K})=>p.jsx("h1",{className:"text-base font-bold mt-3 mb-2",...K}),h2:({node:Y,...K})=>p.jsx("h2",{className:"text-sm font-semibold mt-2 mb-1",...K}),h3:({node:Y,...K})=>p.jsx("h3",{className:"text-sm font-medium mt-2 mb-1",...K}),p:({node:Y,...K})=>p.jsx("p",{className:"my-1",...K}),ul:({node:Y,...K})=>p.jsx("ul",{className:"list-disc pl-4 my-1",...K}),ol:({node:Y,...K})=>p.jsx("ol",{className:"list-decimal pl-4 my-1",...K}),code:({node:Y,inline:K,...ue})=>K?p.jsx("code",{className:"bg-gray-100 px-1 rounded text-xs font-mono",...ue}):p.jsx("code",{className:"block bg-gray-100 p-2 rounded text-xs font-mono overflow-x-auto my-1",...ue})},children:te.output})}):p.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap max-h-40 overflow-y-auto font-mono",children:te.output}),(te.metadata?.tokensUsed||te.metadata?.multimodalAnalysis)&&p.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-2",children:[te.metadata?.tokensUsed&&p.jsxs("span",{children:["Tokens: ",te.metadata.tokensUsed]}),te.metadata?.multimodalAnalysis?.processingTime&&p.jsxs("span",{className:"text-purple-600",children:["Media: ",te.metadata.multimodalAnalysis.processingTime,"ms"]})]})]},H)})})]})}),e&&p.jsxs("div",{className:"absolute top-12 right-4 z-10 w-96 bg-white rounded-lg shadow-xl border border-gray-200 max-h-[calc(100vh-80px)] overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[p.jsx("h3",{className:"font-semibold text-gray-800",children:"Execution History"}),p.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:""})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:r.length===0?p.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No execution history yet"}):r.map(H=>p.jsxs("div",{onClick:()=>a(H.results),className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 cursor-pointer transition-colors",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("span",{className:`text-xs font-medium ${H.status==="success"?"text-green-600":"text-red-600"}`,children:H.status==="success"?" Success":" Error"}),p.jsx("span",{className:"text-xs text-gray-500",children:new Date(H.timestamp).toLocaleTimeString()})]}),H.flowName&&p.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:H.flowName}),p.jsxs("div",{className:"text-xs text-gray-600",children:[H.results.size," nodes executed"]})]},H.id))})]}),C&&T&&p.jsx(yG,{traceId:T,onClose:()=>{N(!1),_(null)}})]})},wG="v1.04",SG="vFlow",NG="aiChemist",_G=()=>`${SG} ${wG}`;function EG(){return p.jsx(Cd,{position:"bottom-right",className:"version-display",children:p.jsxs("div",{className:"text-xs text-gray-500 bg-white px-3 py-1.5 rounded-md shadow-sm border border-gray-200 font-medium",children:[_G()," |"," ",p.jsx("a",{href:"http://aichemist.agency",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:NG})]})})}const CG=({retryAfter:e,onRetry:t,onDismiss:n})=>{const[r,s]=U.useState(e);return U.useEffect(()=>{s(e)},[e]),U.useEffect(()=>{if(r<=0){t?.();return}const a=setInterval(()=>{s(l=>{const c=l-1;return c<=0&&(clearInterval(a),t?.()),Math.max(0,c)})},1e3);return()=>clearInterval(a)},[r,t]),p.jsx("div",{className:"fixed top-16 left-1/2 transform -translate-x-1/2 z-30 animate-slide-down",children:p.jsxs("div",{className:"bg-amber-50 border-2 border-amber-400 rounded-lg shadow-lg p-4 min-w-[400px]",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-10 h-10 bg-amber-400 rounded-full flex items-center justify-center text-white text-xl",children:""})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-amber-900 font-semibold text-sm mb-1",children:"Rate Limit Queue"}),p.jsx("p",{className:"text-amber-800 text-sm mb-2",children:"API rate limit reached. Request queued."}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"bg-amber-100 border border-amber-300 rounded px-3 py-1.5",children:p.jsxs("span",{className:"text-amber-900 font-mono font-semibold text-lg",children:[r,"s"]})}),p.jsxs("span",{className:"text-amber-700 text-sm",children:["Retrying in ",r," second",r!==1?"s":"","..."]})]}),p.jsx("div",{className:"mt-2",children:p.jsx("a",{href:"https://platform.openai.com/docs/guides/rate-limits",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-amber-600 hover:text-amber-800 underline",children:"Learn about rate limits"})})]}),n&&p.jsx("button",{onClick:n,className:"flex-shrink-0 text-amber-500 hover:text-amber-700 transition-colors",title:"Dismiss",children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx("div",{className:"mt-3 h-1.5 bg-amber-200 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-amber-500 transition-all duration-1000 ease-linear",style:{width:`${(e-r)/e*100}%`}})})]})})},TG="modulepreload",kG=function(e){return"/"+e},EE={},Jn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let h=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var l=h;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");s=h(n.map(m=>{if(m=kG(m),m in EE)return;EE[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":TG,g||(b.as="script"),b.crossOrigin="",b.href=m,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((C,N)=>{b.addEventListener("load",C),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return s.then(c=>{for(const f of c||[])f.status==="rejected"&&a(f.reason);return t().catch(a)})};var jG=Object.defineProperty,Qe=(e,t)=>jG(e,"name",{value:t,configurable:!0}),$j=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),AG=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return n=>{for(var r=n.length,s=new Uint8Array((r-(n[r-1]=="=")-(n[r-2]=="="))*3/4|0),a=0,l=0;a<r;){var c=e[n.charCodeAt(a++)],f=e[n.charCodeAt(a++)],h=e[n.charCodeAt(a++)],m=e[n.charCodeAt(a++)];s[l++]=c<<2|f>>4,s[l++]=f<<4|h>>2,s[l++]=h<<6|m}return s}})();function Hj(e){return!isNaN(parseFloat(e))&&isFinite(e)}Qe(Hj,"_isNumber");function Ys(e){return e.charAt(0).toUpperCase()+e.substring(1)}Qe(Ys,"_capitalize");function jp(e){return function(){return this[e]}}Qe(jp,"_getter");var Vl=["isConstructor","isEval","isNative","isToplevel"],$l=["columnNumber","lineNumber"],Hl=["fileName","functionName","source"],MG=["args"],OG=["evalOrigin"],wh=Vl.concat($l,Hl,MG,OG);function Qr(e){if(e)for(var t=0;t<wh.length;t++)e[wh[t]]!==void 0&&this["set"+Ys(wh[t])](e[wh[t]])}Qe(Qr,"StackFrame");Qr.prototype={getArgs:Qe(function(){return this.args},"getArgs"),setArgs:Qe(function(e){if(Object.prototype.toString.call(e)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=e},"setArgs"),getEvalOrigin:Qe(function(){return this.evalOrigin},"getEvalOrigin"),setEvalOrigin:Qe(function(e){if(e instanceof Qr)this.evalOrigin=e;else if(e instanceof Object)this.evalOrigin=new Qr(e);else throw new TypeError("Eval Origin must be an Object or StackFrame")},"setEvalOrigin"),toString:Qe(function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n},"toString")};Qr.fromString=Qe(function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),s=e.substring(t+1,n).split(","),a=e.substring(n+1);if(a.indexOf("@")===0)var l=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(a,""),c=l[1],f=l[2],h=l[3];return new Qr({functionName:r,args:s||void 0,fileName:c,lineNumber:f||void 0,columnNumber:h||void 0})},"StackFrame$$fromString");for(_a=0;_a<Vl.length;_a++)Qr.prototype["get"+Ys(Vl[_a])]=jp(Vl[_a]),Qr.prototype["set"+Ys(Vl[_a])]=(function(e){return function(t){this[e]=!!t}})(Vl[_a]);var _a;for(Ea=0;Ea<$l.length;Ea++)Qr.prototype["get"+Ys($l[Ea])]=jp($l[Ea]),Qr.prototype["set"+Ys($l[Ea])]=(function(e){return function(t){if(!Hj(t))throw new TypeError(e+" must be a Number");this[e]=Number(t)}})($l[Ea]);var Ea;for(Ca=0;Ca<Hl.length;Ca++)Qr.prototype["get"+Ys(Hl[Ca])]=jp(Hl[Ca]),Qr.prototype["set"+Ys(Hl[Ca])]=(function(e){return function(t){this[e]=String(t)}})(Hl[Ca]);var Ca,Ey=Qr;function Uj(){var e=/^\s*at .*(\S+:\d+|\(native\))/m,t=/^(eval@)?(\[native code])?$/;return{parse:Qe(function(n){if(n.stack&&n.stack.match(e))return this.parseV8OrIE(n);if(n.stack)return this.parseFFOrSafari(n);throw new Error("Cannot parse given Error object")},"ErrorStackParser$$parse"),extractLocation:Qe(function(n){if(n.indexOf(":")===-1)return[n];var r=/(.+?)(?::(\d+))?(?::(\d+))?$/,s=r.exec(n.replace(/[()]/g,""));return[s[1],s[2]||void 0,s[3]||void 0]},"ErrorStackParser$$extractLocation"),parseV8OrIE:Qe(function(n){var r=n.stack.split(`
`).filter(function(s){return!!s.match(e)},this);return r.map(function(s){s.indexOf("(eval ")>-1&&(s=s.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var a=s.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),l=a.match(/ (\(.+\)$)/);a=l?a.replace(l[0],""):a;var c=this.extractLocation(l?l[1]:a),f=l&&a||void 0,h=["eval","<anonymous>"].indexOf(c[0])>-1?void 0:c[0];return new Ey({functionName:f,fileName:h,lineNumber:c[1],columnNumber:c[2],source:s})},this)},"ErrorStackParser$$parseV8OrIE"),parseFFOrSafari:Qe(function(n){var r=n.stack.split(`
`).filter(function(s){return!s.match(t)},this);return r.map(function(s){if(s.indexOf(" > eval")>-1&&(s=s.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),s.indexOf("@")===-1&&s.indexOf(":")===-1)return new Ey({functionName:s});var a=/((.*".+"[^@]*)?[^@]*)(?:@)/,l=s.match(a),c=l&&l[1]?l[1]:void 0,f=this.extractLocation(s.replace(a,""));return new Ey({functionName:c,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:s})},this)},"ErrorStackParser$$parseFFOrSafari")}}Qe(Uj,"ErrorStackParser");var DG=new Uj,zG=DG,co=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&!process.browser,qj=co&&typeof M0<"u"&&typeof M0.exports<"u"&&typeof $j<"u"&&typeof __dirname<"u",RG=co&&!qj,PG=typeof Deno<"u",Zj=!co&&!PG,IG=Zj&&typeof window=="object"&&typeof document=="object"&&typeof document.createElement=="function"&&"sessionStorage"in window&&typeof importScripts!="function",LG=Zj&&typeof importScripts=="function"&&typeof self=="object";typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")>-1;var Ap=typeof read=="function"&&typeof load=="function",Yj,j0,Gj,CE,cv;async function dv(){if(!co||(Yj=(await Jn(async()=>{const{default:a}=await import("./__vite-browser-external-BIHI7g3E.js");return{default:a}},[])).default,CE=await Jn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),cv=await Jn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),Gj=(await Jn(async()=>{const{default:a}=await import("./__vite-browser-external-BIHI7g3E.js");return{default:a}},[])).default,j0=await Jn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),fv=j0.sep,typeof $j<"u"))return;let e=CE,t=await Jn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Jn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Jn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s={fs:e,crypto:t,ws:n,child_process:r};globalThis.require=function(a){return s[a]}}Qe(dv,"initNodeModules");function Kj(e,t){return j0.resolve(t||".",e)}Qe(Kj,"node_resolvePath");function Xj(e,t){return t===void 0&&(t=location),new URL(e,t).toString()}Qe(Xj,"browser_resolvePath");var ed;co?ed=Kj:Ap?ed=Qe(e=>e,"resolvePath"):ed=Xj;var fv;co||(fv="/");function Wj(e,t){return e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?{response:fetch(e)}:{binary:cv.readFile(e).then(n=>new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}}Qe(Wj,"node_getBinaryResponse");function Jj(e,t){if(e.startsWith("file://")&&(e=e.slice(7)),e.includes("://"))throw new Error("Shell cannot fetch urls");return{binary:Promise.resolve(new Uint8Array(readbuffer(e)))}}Qe(Jj,"shell_getBinaryResponse");function Qj(e,t){let n=new URL(e,location);return{response:fetch(n,t?{integrity:t}:{})}}Qe(Qj,"browser_getBinaryResponse");var td;co?td=Wj:Ap?td=Jj:td=Qj;async function eA(e,t){let{response:n,binary:r}=td(e,t);if(r)return r;let s=await n;if(!s.ok)throw new Error(`Failed to load '${e}': request failed.`);return new Uint8Array(await s.arrayBuffer())}Qe(eA,"loadBinaryFile");var $c;if(IG)$c=Qe(async e=>await import(e),"loadScript");else if(LG)$c=Qe(async e=>{try{globalThis.importScripts(e)}catch(t){if(t instanceof TypeError)await import(e);else throw t}},"loadScript");else if(co)$c=tA;else if(Ap)$c=load;else throw new Error("Cannot determine runtime environment");async function tA(e){e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?Gj.runInThisContext(await(await fetch(e)).text()):await import(Yj.pathToFileURL(e).href)}Qe(tA,"nodeLoadScript");async function nA(e){if(co){await dv();let t=await cv.readFile(e,{encoding:"utf8"});return JSON.parse(t)}else if(Ap){let t=read(e);return JSON.parse(t)}else return await(await fetch(e)).json()}Qe(nA,"loadLockFile");async function rA(){if(qj)return __dirname;let e;try{throw new Error}catch(r){e=r}let t=zG.parse(e)[0].fileName;if(co&&!t.startsWith("file://")&&(t=`file://${t}`),RG){let r=await Jn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);return(await Jn(async()=>{const{fileURLToPath:s}=await import("./__vite-browser-external-BIHI7g3E.js");return{fileURLToPath:s}},[])).fileURLToPath(r.dirname(t))}let n=t.lastIndexOf(fv);if(n===-1)throw new Error("Could not extract indexURL path from pyodide module location");return t.slice(0,n)}Qe(rA,"calculateDirname");function iA(e){return e.substring(0,e.lastIndexOf("/")+1)||globalThis.location?.toString()||"."}Qe(iA,"calculateInstallBaseUrl");function oA(e){let t=e.FS,n=e.FS.filesystems.MEMFS,r=e.PATH,s={DIR_MODE:16895,FILE_MODE:33279,mount:Qe(function(a){if(!a.opts.fileSystemHandle)throw new Error("opts.fileSystemHandle is required");return n.mount.apply(null,arguments)},"mount"),syncfs:Qe(async(a,l,c)=>{try{let f=s.getLocalSet(a),h=await s.getRemoteSet(a),m=l?h:f,g=l?f:h;await s.reconcile(a,m,g),c(null)}catch(f){c(f)}},"syncfs"),getLocalSet:Qe(a=>{let l=Object.create(null);function c(m){return m!=="."&&m!==".."}Qe(c,"isRealDir");function f(m){return g=>r.join2(m,g)}Qe(f,"toAbsolute");let h=t.readdir(a.mountpoint).filter(c).map(f(a.mountpoint));for(;h.length;){let m=h.pop(),g=t.stat(m);t.isDir(g.mode)&&h.push.apply(h,t.readdir(m).filter(c).map(f(m))),l[m]={timestamp:g.mtime,mode:g.mode}}return{type:"local",entries:l}},"getLocalSet"),getRemoteSet:Qe(async a=>{let l=Object.create(null),c=await FG(a.opts.fileSystemHandle);for(let[f,h]of c)f!=="."&&(l[r.join2(a.mountpoint,f)]={timestamp:h.kind==="file"?new Date((await h.getFile()).lastModified):new Date,mode:h.kind==="file"?s.FILE_MODE:s.DIR_MODE});return{type:"remote",entries:l,handles:c}},"getRemoteSet"),loadLocalEntry:Qe(a=>{let l=t.lookupPath(a).node,c=t.stat(a);if(t.isDir(c.mode))return{timestamp:c.mtime,mode:c.mode};if(t.isFile(c.mode))return l.contents=n.getFileDataAsTypedArray(l),{timestamp:c.mtime,mode:c.mode,contents:l.contents};throw new Error("node type not supported")},"loadLocalEntry"),storeLocalEntry:Qe((a,l)=>{if(t.isDir(l.mode))t.mkdirTree(a,l.mode);else if(t.isFile(l.mode))t.writeFile(a,l.contents,{canOwn:!0});else throw new Error("node type not supported");t.chmod(a,l.mode),t.utime(a,l.timestamp,l.timestamp)},"storeLocalEntry"),removeLocalEntry:Qe(a=>{var l=t.stat(a);t.isDir(l.mode)?t.rmdir(a):t.isFile(l.mode)&&t.unlink(a)},"removeLocalEntry"),loadRemoteEntry:Qe(async a=>{if(a.kind==="file"){let l=await a.getFile();return{contents:new Uint8Array(await l.arrayBuffer()),mode:s.FILE_MODE,timestamp:new Date(l.lastModified)}}else{if(a.kind==="directory")return{mode:s.DIR_MODE,timestamp:new Date};throw new Error("unknown kind: "+a.kind)}},"loadRemoteEntry"),storeRemoteEntry:Qe(async(a,l,c)=>{let f=a.get(r.dirname(l)),h=t.isFile(c.mode)?await f.getFileHandle(r.basename(l),{create:!0}):await f.getDirectoryHandle(r.basename(l),{create:!0});if(h.kind==="file"){let m=await h.createWritable();await m.write(c.contents),await m.close()}a.set(l,h)},"storeRemoteEntry"),removeRemoteEntry:Qe(async(a,l)=>{await a.get(r.dirname(l)).removeEntry(r.basename(l)),a.delete(l)},"removeRemoteEntry"),reconcile:Qe(async(a,l,c)=>{let f=0,h=[];Object.keys(l.entries).forEach(function(y){let b=l.entries[y],C=c.entries[y];(!C||t.isFile(b.mode)&&b.timestamp.getTime()>C.timestamp.getTime())&&(h.push(y),f++)}),h.sort();let m=[];if(Object.keys(c.entries).forEach(function(y){l.entries[y]||(m.push(y),f++)}),m.sort().reverse(),!f)return;let g=l.type==="remote"?l.handles:c.handles;for(let y of h){let b=r.normalize(y.replace(a.mountpoint,"/")).substring(1);if(c.type==="local"){let C=g.get(b),N=await s.loadRemoteEntry(C);s.storeLocalEntry(y,N)}else{let C=s.loadLocalEntry(y);await s.storeRemoteEntry(g,b,C)}}for(let y of m)if(c.type==="local")s.removeLocalEntry(y);else{let b=r.normalize(y.replace(a.mountpoint,"/")).substring(1);await s.removeRemoteEntry(g,b)}},"reconcile")};e.FS.filesystems.NATIVEFS_ASYNC=s}Qe(oA,"initializeNativeFS");var FG=Qe(async e=>{let t=[];async function n(s){for await(let a of s.values())t.push(a),a.kind==="directory"&&await n(a)}Qe(n,"collect"),await n(e);let r=new Map;r.set(".",e);for(let s of t){let a=(await e.resolve(s)).join("/");r.set(a,s)}return r},"getFsHandles"),BG=AG("AGFzbQEAAAABDANfAGAAAW9gAW8BfwMDAgECByECD2NyZWF0ZV9zZW50aW5lbAAAC2lzX3NlbnRpbmVsAAEKEwIHAPsBAPsbCwkAIAD7GvsUAAs="),VG=(async function(){if(!(globalThis.navigator&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&typeof navigator.maxTouchPoints<"u"&&navigator.maxTouchPoints>1)))try{let e=await WebAssembly.compile(BG);return await WebAssembly.instantiate(e)}catch(e){if(e instanceof WebAssembly.CompileError)return;throw e}})();async function sA(){let e=await VG;if(e)return e.exports;let t=Symbol("error marker");return{create_sentinel:Qe(()=>t,"create_sentinel"),is_sentinel:Qe(n=>n===t,"is_sentinel")}}Qe(sA,"getSentinelImport");function aA(e){let t={noImageDecoding:!0,noAudioDecoding:!0,noWasmDecoding:!1,preRun:hA(e),print:e.stdout,printErr:e.stderr,onExit(n){t.exitCode=n},thisProgram:e._sysExecutable,arguments:e.args,API:{config:e},locateFile:Qe(n=>e.indexURL+n,"locateFile"),instantiateWasm:pA(e.indexURL)};return t}Qe(aA,"createSettings");function lA(e){return function(t){let n="/";try{t.FS.mkdirTree(e)}catch(r){console.error(`Error occurred while making a home directory '${e}':`),console.error(r),console.error(`Using '${n}' for a home directory instead`),e=n}t.FS.chdir(e)}}Qe(lA,"createHomeDirectory");function uA(e){return function(t){Object.assign(t.ENV,e)}}Qe(uA,"setEnvironment");function cA(e){return e?[async t=>{t.addRunDependency("fsInitHook");try{await e(t.FS,{sitePackages:t.API.sitePackages})}finally{t.removeRunDependency("fsInitHook")}}]:[]}Qe(cA,"callFsInitHook");function dA(e){let t=e.HEAPU32[e._Py_Version>>>2],n=t>>>24&255,r=t>>>16&255,s=t>>>8&255;return[n,r,s]}Qe(dA,"computeVersionTuple");function fA(e){let t=eA(e);return async n=>{n.API.pyVersionTuple=dA(n);let[r,s]=n.API.pyVersionTuple;n.FS.mkdirTree("/lib"),n.API.sitePackages=`/lib/python${r}.${s}/site-packages`,n.FS.mkdirTree(n.API.sitePackages),n.addRunDependency("install-stdlib");try{let a=await t;n.FS.writeFile(`/lib/python${r}${s}.zip`,a)}catch(a){console.error("Error occurred while installing the standard library:"),console.error(a)}finally{n.removeRunDependency("install-stdlib")}}}Qe(fA,"installStdlib");function hA(e){let t;return e.stdLibURL!=null?t=e.stdLibURL:t=e.indexURL+"python_stdlib.zip",[fA(t),lA(e.env.HOME),uA(e.env),oA,...cA(e.fsInit)]}Qe(hA,"getFileSystemInitializationFuncs");function pA(e){if(typeof WasmOffsetConverter<"u")return;let{binary:t,response:n}=td(e+"pyodide.asm.wasm"),r=sA();return function(s,a){return(async function(){s.sentinel=await r;try{let l;n?l=await WebAssembly.instantiateStreaming(n,s):l=await WebAssembly.instantiate(await t,s);let{instance:c,module:f}=l;a(c,f)}catch(l){console.warn("wasm instantiation failed!"),console.warn(l)}})(),{}}}Qe(pA,"getInstantiateWasmFunc");var $G="0.28.3";function Hc(e){return e===void 0||e.endsWith("/")?e:e+"/"}Qe(Hc,"withTrailingSlash");var Cy=$G;async function HG(e={}){if(e.lockFileContents&&e.lockFileURL)throw new Error("Can't pass both lockFileContents and lockFileURL");await dv();let t=e.indexURL||await rA();t=Hc(ed(t));let n=e;if(n.packageBaseUrl=Hc(n.packageBaseUrl),n.cdnUrl=Hc(n.packageBaseUrl??`https://cdn.jsdelivr.net/pyodide/v${Cy}/full/`),!e.lockFileContents){let g=e.lockFileURL??t+"pyodide-lock.json";n.lockFileContents=nA(g),n.packageBaseUrl??=iA(g)}n.indexURL=t,n.packageCacheDir&&(n.packageCacheDir=Hc(ed(n.packageCacheDir)));let r={fullStdLib:!1,jsglobals:globalThis,stdin:globalThis.prompt?globalThis.prompt:void 0,args:[],env:{},packages:[],packageCacheDir:n.packageBaseUrl,enableRunUntilComplete:!0,checkAPIVersion:!0,BUILD_ID:"cc7a4bb4c6f36f12592fef0934292b5fddb0e313ca5dc4a5a9519bb7610c67e3"},s=Object.assign(r,n);s.env.HOME??="/home/pyodide",s.env.PYTHONINSPECT??="1";let a=aA(s),l=a.API;if(l.lockFilePromise=Promise.resolve(n.lockFileContents),typeof _createPyodideModule!="function"){let g=`${s.indexURL}pyodide.asm.js`;await $c(g)}let c;if(e._loadSnapshot){let g=await e._loadSnapshot;ArrayBuffer.isView(g)?c=g:c=new Uint8Array(g),a.noInitialRun=!0,a.INITIAL_MEMORY=c.length}let f=await _createPyodideModule(a);if(a.exitCode!==void 0)throw new f.ExitStatus(a.exitCode);if(e.pyproxyToStringRepr&&l.setPyProxyToStringMethod(!0),e.convertNullToNone&&l.setCompatNullToNone(!0),l.version!==Cy&&s.checkAPIVersion)throw new Error(`Pyodide version does not match: '${Cy}' <==> '${l.version}'. If you updated the Pyodide version, make sure you also updated the 'indexURL' parameter passed to loadPyodide.`);f.locateFile=g=>{throw g.endsWith(".so")?new Error(`Failed to find dynamic library "${g}"`):new Error(`Unexpected call to locateFile("${g}")`)};let h;c&&(h=l.restoreSnapshot(c));let m=l.finalizeBootstrap(h,e._snapshotDeserializer);return l.sys.path.insert(0,""),l._pyodide.set_excepthook(),await l.packageIndexReady,l.initializeStreams(s.stdin,s.stdout,s.stderr),m}Qe(HG,"loadPyodide");const hv="";async function UG(e,t=10){try{const n=await fetch(`${hv}/api/executions?flowId=${e}&limit=${t}`);if(!n.ok){const s=await n.json().catch(()=>({}));throw new Error(s.message||`Failed to fetch executions: ${n.statusText}`)}return(await n.json()).executions||[]}catch(n){throw console.error("[ExecutionService] Failed to fetch execution history:",n),n}}async function qG(e,t,n={},r){try{console.log("[ExecutionService] Starting async flow execution");const s=await fetch(`${hv}/api/execute/flow`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nodes:e.map(l=>({id:l.id,type:l.type,data:l.data})),edges:t.map(l=>({source:l.source,target:l.target})),variables:n,flowId:r?.flowId,flowName:r?.flowName})});if(!s.ok){let l="Failed to start flow execution";try{const c=s.headers.get("content-type");c&&c.includes("application/json")?l=(await s.json()).error||l:l=await s.text()}catch{l=s.statusText||l}throw new Error(l)}const a=await s.json();return console.log(`[ExecutionService] Flow execution started: ${a.executionId}`),a.executionId}catch(s){throw console.error("[ExecutionService] Failed to start async execution:",s),s}}function Ty(e){if(e?.retryAfter){const n=new Date(e.retryAfter).getTime(),r=Date.now();return{retryAfter:Math.max(0,Math.ceil((n-r)/1e3))}}if(e?.status===429||e?.response?.status===429)return{retryAfter:e?.response?.retryAfter||60};const t=e?.message||e?.error||"";if(t.includes("rate limit")||t.includes("RESOURCE_EXHAUSTED")||t.includes("429")){const n=t.match(/retry.*?(\d+)\s*(second|sec|s)/i);return{retryAfter:n?parseInt(n[1]):60}}return null}async function ZG(e,t,n=600){let r=0;for(console.log(`[ExecutionService] Starting to poll execution: ${e}`);r<n;)try{const s=await fetch(`${hv}/api/executions/${e}`);if(!s.ok){if(s.status===404){console.warn(`[ExecutionService] Execution not found: ${e}`),await new Promise(l=>setTimeout(l,2e3)),r++;continue}if(s.status===429){const l=await s.json().catch(()=>({})),c=Ty({status:429,...l});console.warn(`[ExecutionService] Rate limit detected, retry after ${c?.retryAfter}s`),t?.("rate_limited",{status:"rate_limited",retryAfter:c?.retryAfter||60}),await new Promise(f=>setTimeout(f,(c?.retryAfter||60)*1e3)),r++;continue}throw new Error(`Failed to fetch execution status: ${s.statusText}`)}const a=await s.json();if(console.log(`[ExecutionService] Poll ${r+1}: status=${a.status}`),a.status==="rate_limited"){const l=Ty(a);if(l){console.warn(`[ExecutionService] Rate limited, retry after ${l.retryAfter}s`),t?.("rate_limited",{status:"rate_limited",retryAfter:l.retryAfter,error:a.error}),await new Promise(c=>setTimeout(c,2e3)),r++;continue}}if(a.error){const l=Ty(a);if(l){console.warn(`[ExecutionService] Execution contains rate limit error, retry after ${l.retryAfter}s`),t?.("rate_limited",{status:"rate_limited",retryAfter:l.retryAfter}),await new Promise(c=>setTimeout(c,l.retryAfter*1e3)),r++;continue}}if(t?.(a.status,a),a.status==="completed")return console.log("[ExecutionService] Execution completed successfully"),{success:!0,results:a.results,output:a.output,duration:a.duration,tokensUsed:a.tokensUsed,apiCallCount:a.apiCallCount};if(a.status==="failed")throw console.error("[ExecutionService] Execution failed:",a.error),new Error(a.error||"Execution failed");await new Promise(l=>setTimeout(l,2e3)),r++}catch(s){throw console.error("[ExecutionService] Error polling execution:",s),s}throw new Error(`Execution timeout after ${n*2} seconds - check execution history for results`)}async function YG(e,t,n={},r){const s=await qG(e,t,n,{flowId:r?.flowId,flowName:r?.flowName});return ZG(s,r?.onStatusUpdate)}const A0="",Sh=[1e3,2e3,5e3];function GG(){const e="visual-flow-device-id";let t=localStorage.getItem(e);return t||(t=`device-${crypto.randomUUID()}`,localStorage.setItem(e,t),console.log("Generated new device ID:",t)),t}async function TE(e){if(!await XG())return console.warn("Backend unavailable, skipping sync"),{success:!1,error:"Backend offline"};for(let t=0;t<Sh.length;t++)try{const n=GG();let r=await fetch(`${A0}/api/flows/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":n},body:JSON.stringify(e),signal:AbortSignal.timeout(5e3)}),s=!1;if(r.status===404&&(console.log("[backendSync] Flow not found in backend, creating new..."),r=await fetch(`${A0}/api/flows`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":n},body:JSON.stringify(e),signal:AbortSignal.timeout(5e3)}),s=!0),r.ok){const a=await r.json();return console.log("[backendSync] Success",{wasCreated:s,frontendId:e.id,backendId:a.id}),{success:!0,data:a,wasCreated:s}}if(r.status>=500){console.warn(`Backend sync failed (${r.status}), retrying...`),await kE(Sh[t]);continue}return{success:!1,error:`Backend error: ${r.status}`}}catch(n){console.error(`Backend sync attempt ${t+1} failed:`,n),t<Sh.length-1&&await kE(Sh[t])}return{success:!1,error:"Max retries exceeded"}}let Lc=null;const KG=3e4;async function XG(){const e=Date.now();if(Lc&&e-Lc.timestamp<KG)return Lc.value;try{const n=(await fetch(`${A0}/health`,{signal:AbortSignal.timeout(2e3)})).ok;return Lc={value:n,timestamp:e},n}catch{return Lc={value:!1,timestamp:e},!1}}function kE(e){return new Promise(t=>setTimeout(t,e))}function jE(){return!0}function WG(e={}){const{autosaveEnabled:t=!0,autosaveDelayMs:n=2e3}=e,{toObject:r}=xu(),s=Ht(O=>O.nodes),a=Ht(O=>O.edges),[l,c]=U.useState({currentFlowId:null,currentFlowName:"Untitled Flow",autosaveStatus:"idle",lastSavedAt:null,isDirty:!1}),f=U.useRef(null),h=U.useRef(""),m=U.useRef(""),g=U.useRef(!1),y=O=>{try{const R=JSON.stringify(O),z=JSON.parse(R);return{nodes:z.nodes||[],edges:z.edges||[],viewport:z.viewport}}catch(R){return console.error("Failed to sanitize flow object:",R),{nodes:[],edges:[],viewport:O.viewport||{x:0,y:0,zoom:1}}}},b=U.useCallback(async(O,R=!1)=>{console.log("[saveFlow] START",{flowName:O,immediate:R,currentFlowId:l.currentFlowId,currentFlowName:l.currentFlowName,nodesCount:s.length,edgesCount:a.length}),c(z=>({...z,autosaveStatus:"saving"}));try{const z=r(),D=y(z),I=O||l.currentFlowName;let H;l.currentFlowId?(console.log("[saveFlow] Updating existing flow",{id:l.currentFlowId,name:I}),H=await Qk(l.currentFlowId,{name:I,flow:D,updatedAt:new Date().toISOString()})):(console.log("[saveFlow] Creating new flow",{name:I}),H=await y0(I,D,{description:`Flow with ${s.length} nodes and ${a.length} connections`,tags:["auto-generated"]}),localStorage.setItem("lastOpenedFlowId",H.id)),jE()&&TE(H).then(async ee=>{if(ee.success){if(console.log(" Backend sync successful"),ee.wasCreated&&ee.data?.id&&ee.data.id!==H.id){console.log("[backendSync] Backend created new ID, syncing IndexedDB",{oldId:H.id,newId:ee.data.id});try{const{db:X}=await Jn(async()=>{const{db:q}=await Promise.resolve().then(()=>fh);return{db:q}},void 0),ae=await X.flows.get(H.id);ae&&(await X.flows.delete(H.id),await X.flows.add({...ae,id:ee.data.id}),c(q=>({...q,currentFlowId:ee.data.id})),localStorage.setItem("lastOpenedFlowId",ee.data.id),console.log("[backendSync] IndexedDB synchronized with backend ID"))}catch(X){console.error("[backendSync] Failed to sync IndexedDB:",X)}}}else console.warn(" Backend sync failed:",ee.error)}).catch(ee=>{console.error(" Backend sync error:",ee)}),c(ee=>({...ee,currentFlowId:H.id,currentFlowName:H.name,autosaveStatus:"saved",lastSavedAt:H.updatedAt,isDirty:!1}));const{useFlowStore:te}=await Jn(async()=>{const{useFlowStore:ee}=await Promise.resolve().then(()=>th);return{useFlowStore:ee}},void 0);return te.setState({currentFlowId:H.id}),h.current=JSON.stringify(s),m.current=JSON.stringify(a),console.log("[saveFlow] SUCCESS",{id:H.id,name:H.name,updatedAt:H.updatedAt}),R?c(ee=>({...ee,autosaveStatus:"idle"})):setTimeout(()=>{c(ee=>({...ee,autosaveStatus:"idle"}))},2e3),H}catch(z){throw console.error("Failed to save flow:",z),c(D=>({...D,autosaveStatus:"error"})),setTimeout(()=>{c(D=>({...D,autosaveStatus:"idle"}))},3e3),z}},[l.currentFlowId,l.currentFlowName,r,s,a]),C=U.useCallback(async O=>{if(!l.currentFlowId&&s.length===0)return null;try{return await b(O,!0)}catch(R){return console.error("Force save failed:",R),null}},[l.currentFlowId,s.length,b]),N=U.useCallback(async O=>{try{l.currentFlowId&&l.isDirty&&await C();const{accessFlow:R}=await Jn(async()=>{const{accessFlow:te}=await Promise.resolve().then(()=>fh);return{accessFlow:te}},void 0),z=await Dr.flows.get(O);if(!z)throw new Error(`Flow not found: ${O}`);const{useFlowStore:D}=await Jn(async()=>{const{useFlowStore:te}=await Promise.resolve().then(()=>th);return{useFlowStore:te}},void 0),{setNodes:I,setEdges:H}=D.getState();return z.flow.nodes&&I(z.flow.nodes),z.flow.edges&&H(z.flow.edges),await R(O),c(te=>({...te,currentFlowId:z.id,currentFlowName:z.name,lastSavedAt:z.updatedAt,isDirty:!1})),h.current=JSON.stringify(z.flow.nodes),m.current=JSON.stringify(z.flow.edges),localStorage.setItem("lastOpenedFlowId",z.id),z}catch(R){throw console.error("Failed to load flow:",R),R}},[l.currentFlowId,l.isDirty,C]),T=U.useCallback(async()=>{console.log("[newFlow] Creating new flow");const{useFlowStore:O}=await Jn(async()=>{const{useFlowStore:D}=await Promise.resolve().then(()=>th);return{useFlowStore:D}},void 0),{setNodes:R,setEdges:z}=O.getState();R([]),z([]),c({currentFlowId:null,currentFlowName:"Untitled Flow",autosaveStatus:"idle",lastSavedAt:null,isDirty:!1}),h.current="",m.current="",localStorage.removeItem("lastOpenedFlowId"),console.log("[newFlow] New flow created - canvas cleared")},[]),A=U.useCallback(async O=>{console.log("[saveAsNewFlow] Renaming/saving as new flow",{oldName:l.currentFlowName,newName:O,currentFlowId:l.currentFlowId}),c(R=>({...R,currentFlowName:O,isDirty:!0}));try{const R=r(),z=y(R),D=await y0(O,z,{description:`Flow with ${s.length} nodes and ${a.length} connections`,tags:["auto-generated"]});return localStorage.setItem("lastOpenedFlowId",D.id),jE()&&TE(D).then(async I=>{if(I.success){if(console.log(" Backend sync successful"),I.wasCreated&&I.data?.id&&I.data.id!==D.id){console.log("[backendSync] Backend created new ID, syncing IndexedDB",{oldId:D.id,newId:I.data.id});try{const{db:H}=await Jn(async()=>{const{db:ee}=await Promise.resolve().then(()=>fh);return{db:ee}},void 0),te=await H.flows.get(D.id);te&&(await H.flows.delete(D.id),await H.flows.add({...te,id:I.data.id}),c(ee=>({...ee,currentFlowId:I.data.id})),localStorage.setItem("lastOpenedFlowId",I.data.id),console.log("[backendSync] IndexedDB synchronized with backend ID"))}catch(H){console.error("[backendSync] Failed to sync IndexedDB:",H)}}}else console.warn(" Backend sync failed:",I.error)}).catch(I=>{console.error(" Backend sync error:",I)}),c(I=>({...I,currentFlowId:D.id,currentFlowName:D.name,autosaveStatus:"saved",lastSavedAt:D.updatedAt,isDirty:!1})),h.current=JSON.stringify(s),m.current=JSON.stringify(a),setTimeout(()=>{c(I=>({...I,autosaveStatus:"idle"}))},2e3),D}catch(R){throw console.error("Failed to save as new flow:",R),c(z=>({...z,autosaveStatus:"error"})),setTimeout(()=>{c(z=>({...z,autosaveStatus:"idle"}))},3e3),R}},[r,s,a]),k=U.useCallback(async O=>{console.log("[importFlow] START",{name:O,currentNodes:s.length,currentEdges:a.length}),g.current=!0;try{const R=O;console.log("[importFlow] Using name:",R),c(z=>(console.log("[importFlow] setState",{prev:z.currentFlowName,next:R,prevStatus:z.autosaveStatus,prevFlowId:z.currentFlowId}),{...z,currentFlowId:null,currentFlowName:R,isDirty:!1,lastSavedAt:null,autosaveStatus:"idle"})),h.current=JSON.stringify(s),m.current=JSON.stringify(a),console.log("[importFlow] Refs updated, scheduling save"),setTimeout(async()=>{try{console.log("[importFlow] Executing scheduled save"),await b(R),console.log("[importFlow] Save completed successfully")}catch(z){console.error("[importFlow] Scheduled save failed:",z)}},2500),console.log("[importFlow] END")}catch(R){throw console.error("[importFlow] ERROR:",R),setTimeout(()=>{g.current=!1,console.log("[importFlow] Import flag cleared (after error)")},100),R}finally{setTimeout(()=>{g.current=!1,console.log("[importFlow] Import flag cleared")},100)}},[s,a,b]);return U.useEffect(()=>{if(g.current){console.log("[autosave] Skipped - import in progress");return}if(!t)return;const O=JSON.stringify(s),R=JSON.stringify(a),z=O!==h.current||R!==m.current;if(console.log("[autosave] Trigger check",{hasChanged:z,currentFlowId:l.currentFlowId,nodesCount:s.length,edgesCount:a.length,isImporting:g.current}),!!z)return f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{l.currentFlowId?(console.log("[autosave] Executing save"),b().catch(D=>{console.error("[autosave] Failed:",D)})):console.log("[autosave] Skipped - no currentFlowId (new/imported flow)")},n),()=>{f.current&&clearTimeout(f.current)}},[s,a,t,n,l.currentFlowId]),U.useEffect(()=>{(async()=>{let R=await Wk();if(!R){const z=await Jk();z&&(R=z.id,console.log("Restored most recently accessed flow from IndexedDB:",z.name))}if(R){const{accessFlow:z}=await Jn(async()=>{const{accessFlow:ee}=await Promise.resolve().then(()=>fh);return{accessFlow:ee}},void 0),D=await Dr.flows.get(R);if(!D){console.error(`Flow not found: ${R}`),localStorage.removeItem("lastOpenedFlowId");return}const{useFlowStore:I}=await Jn(async()=>{const{useFlowStore:ee}=await Promise.resolve().then(()=>th);return{useFlowStore:ee}},void 0),{setNodes:H,setEdges:te}=I.getState();D.flow.nodes&&H(D.flow.nodes),D.flow.edges&&te(D.flow.edges),await z(R),c({currentFlowId:D.id,currentFlowName:D.name,autosaveStatus:"idle",lastSavedAt:D.updatedAt,isDirty:!1}),h.current=JSON.stringify(D.flow.nodes),m.current=JSON.stringify(D.flow.edges)}})()},[]),U.useEffect(()=>{const O=R=>{l.isDirty&&l.currentFlowId&&(C().catch(z=>{console.error("Failed to save before unload:",z)}),R.preventDefault(),R.returnValue="")};return window.addEventListener("beforeunload",O),()=>{window.removeEventListener("beforeunload",O)}},[l.isDirty,l.currentFlowId,C]),{...l,saveFlow:b,forceSave:C,loadFlow:N,newFlow:T,renameFlow:A,importFlow:k}}function JG(){const e=U.useRef(null),[t,n]=U.useState(null),[r,s]=U.useState(!1),[a,l]=U.useState(!1),[c,f]=U.useState(!1),[h,m]=U.useState(""),[g,y]=U.useState([]),[b,C]=U.useState(null),[N,T]=U.useState(null),_=Ht(J=>J.nodes),A=Ht(J=>J.edges),k=Ht(J=>J.setNodes),O=Ht(J=>J.setEdges),R=Ht(J=>J.addNode),{currentFlowId:z,currentFlowName:D,autosaveStatus:I,lastSavedAt:H,isDirty:te,saveFlow:ee,loadFlow:X,newFlow:ae,renameFlow:q,importFlow:Q}=WG({autosaveEnabled:!0,autosaveDelayMs:2e3});U.useEffect(()=>{if(!z){y([]);return}async function J(){try{console.log(`[App] Loading execution history for flow ${z}`);const F=await ej(z,10);if(F.length>0){console.log(`[App] Loaded ${F.length} executions from IndexedDB`),y(F);return}console.log("[App] No frontend cache - trying backend API");const ge=await UG(z,10);if(ge.length>0){console.log(`[App] Loaded ${ge.length} executions from backend`);const Oe=ge.map(Ee=>{const Te=new Map;Ee.results&&(Array.isArray(Ee.results)?Ee.results.forEach(Se=>{Te.set(Se.nodeId,Se)}):typeof Ee.results=="object"&&Object.entries(Ee.results).forEach(([Se,We])=>{Te.set(Se,We)}));let je;return Ee.status==="completed"?je=Ee.results&&(Array.isArray(Ee.results)?Ee.results.some(We=>We.error):Object.values(Ee.results).some(We=>We.error))?"partial":"success":Ee.status==="failed"||Ee.status==="rate_limited"?je="error":je="partial",{id:Ee.id,timestamp:Ee.startedAt,results:Te,status:je,traceId:Ee.parentTraceId,flowName:Ee.flowName}});y(Oe);return}console.log("[App] No execution history found for this flow")}catch(F){console.error("[App] Failed to load execution history:",F)}}J()},[z]);const $=U.useCallback(J=>{k(VC(J,_))},[_,k]),Y=U.useCallback(J=>{O($C(J,A))},[A,O]),K=U.useCallback(J=>{O(NC(J,A))},[A,O]),ue=U.useCallback(J=>{J.preventDefault(),J.dataTransfer.dropEffect="move"},[]),B=U.useCallback(J=>{J.preventDefault();const F=J.dataTransfer.getData("application/reactflow");if(typeof F>"u"||!F)return;const ge=t?.screenToFlowPosition({x:J.clientX,y:J.clientY}),Oe=_.map(We=>{const et=parseInt(We.id);return isNaN(et)?0:et}),Te=`${(Oe.length>0?Math.max(...Oe):0)+1}`;let je={};F==="openai"?je={model:"gpt-5",temperature:.7,maxTokens:1e3,systemPrompt:"",userPrompt:""}:F==="anthropic"?je={model:"claude-sonnet-4-5-20250929",temperature:1,maxTokens:4e3,thinkingBudget:1e4,systemPrompt:"",userPrompt:"",extendedThinking:!1}:F==="gemini"?je={model:"gemini-2.5-flash",temperature:.7,maxTokens:2e3,systemPrompt:"",userPrompt:"",hybridReasoning:!1,multimodal:!1}:F==="notes"?je={title:"Notes",content:"",color:"yellow"}:F==="python"?je={code:`# Python code here
result = "Hello from Python"`,outputVariable:"result"}:F==="javascript"?je={code:`// JavaScript code here
const result = "Hello from JavaScript";
return result;`,outputVariable:"result"}:F==="tool-augmented-llm"&&(je={provider:"anthropic",model:"claude-sonnet-4-5-20250929",temperature:.7,maxTokens:4e3,systemPrompt:"You are a helpful assistant with access to tools.",userPrompt:"",toolsEnabled:!0,enabledTools:[],toolConfigs:{},maxToolCalls:5,toolBarCollapsed:!1,statusPanelCollapsed:!1}),R({id:Te,type:F,position:ge,data:je})},[t,R,_]),Z=U.useCallback(async J=>{if(_.length===0){alert("No nodes to execute");return}f(!0),C(null),m("Starting execution..."),T(null);try{const F=await YG(_,A,J,{flowId:z,flowName:D,onStatusUpdate:(Ee,Te)=>{Ee==="running"?(m("Executing workflow..."),T(null)):Ee==="rate_limited"?(m("Rate limit queue..."),T({retryAfter:Te?.retryAfter||60})):Ee==="completed"?(m("Completed!"),T(null)):Ee==="failed"&&(m("Failed"),T(null))}});console.log("[App] Async flow execution completed");const ge=new Map;F.results&&Object.entries(F.results).forEach(([Ee,Te])=>{ge.set(Ee,Te)}),C(ge),Ht.getState().setExecutionResults(ge);const Oe={id:crypto.randomUUID(),timestamp:new Date().toISOString(),results:ge,status:F.success?"success":"error",flowName:D||"Untitled Flow"};y([Oe,...g].slice(0,10))}catch(F){console.error("[App] Execution failed:",F),alert(`Execution failed: ${F.message}`),m("Failed"),T(null)}finally{f(!1)}},[_,A,z,D,g]);return p.jsxs("div",{ref:e,style:{width:"100vw",height:"100vh"},children:[N&&p.jsx(CG,{retryAfter:N.retryAfter,onRetry:()=>{console.log("[App] Rate limit retry period elapsed"),T(null)},onDismiss:()=>T(null)}),p.jsx(l8,{onHistoryClick:()=>l(!a),onFlowsToggle:()=>s(!r),onRunFlow:()=>Z({}),onSaveFlow:()=>ee(),onNewFlow:ae,onImportFlow:Q,isExecuting:c,executionStatus:h,historyCount:g.length,showFlows:r,flowName:D,autosaveStatus:I,lastSavedAt:H,isDirty:te,onFlowNameChange:q}),p.jsxs(x4,{nodes:_,edges:A,onNodesChange:$,onEdgesChange:Y,onConnect:K,onInit:n,onDrop:B,onDragOver:ue,nodeTypes:kB,fitView:!0,deleteKeyCode:["Backspace","Delete"],selectionKeyCode:null,multiSelectionKeyCode:"Shift",proOptions:{hideAttribution:!0},children:[p.jsx(N4,{}),p.jsx(A4,{showInteractive:!1}),p.jsx(H4,{}),p.jsx(jB,{}),p.jsx(EG,{}),p.jsx(bG,{isExecuting:c,showHistory:a,onExecute:Z,onToggleHistory:()=>l(!a),executionHistory:g,currentExecution:b,onSetCurrentExecution:C})]}),p.jsx(y8,{isOpen:r,currentFlowId:z,onLoadFlow:X,onNewFlow:ae,onClose:()=>s(!1)})]})}function QG(){return p.jsx(K0,{children:p.jsx(mG,{children:p.jsx(JG,{})})})}$M.createRoot(document.getElementById("root")).render(p.jsx(U.StrictMode,{children:p.jsx(QG,{})}))});export default eK();
